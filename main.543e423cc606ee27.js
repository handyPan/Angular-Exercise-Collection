"use strict";(self.webpackChunkproject_angular_2=self.webpackChunkproject_angular_2||[]).push([[179],{440:(Wt,qe,D)=>{D.d(qe,{nm:()=>es});var c=D(5813);D(4650),D(5867);var Re=D(5861),ve=D(9681),ge=D(4859),lt=D(2090),ke=D(1877);const Ie=new Map,ot={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Je(ut){return Ie.get(ut)||ot}function ct(ut,rt){Ie.set(ut,rt)}function $e(){return Me}class Rt{constructor(rt,gt,Nt,tn,fn){if(this.operation=rt,this.retryPolicy=gt,this.getWaitDuration=Nt,this.lowerBound=tn,this.upperBound=fn,this.pending=null,this.nextErrorWaitInterval=tn,tn>fn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(rt){var gt=this;return(0,Re.Z)(function*(){gt.stop();try{gt.pending=new lt.BH,yield function zt(ut){return new Promise(rt=>{setTimeout(rt,ut)})}(gt.getNextRun(rt)),gt.pending.resolve(),yield gt.pending.promise,gt.pending=new lt.BH,yield gt.operation(),gt.pending.resolve(),yield gt.pending.promise,gt.process(!0).catch(()=>{})}catch(Nt){gt.retryPolicy(Nt)?gt.process(!1).catch(()=>{}):gt.stop()}})()}getNextRun(rt){if(rt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),gt}}}const Dt=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rn(ut){if(!Je(ut).activated)throw Dt.create("use-before-activation",{appName:ut.name})}function hr(ut,rt){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,Re.Z)(function*({url:ut,body:rt},gt){var Nt,tn;const fn={"Content-Type":"application/json"},ur=gt.getImmediate({optional:!0});if(ur){const rs=yield ur.getHeartbeatsHeader();rs&&(fn["X-Firebase-Client"]=rs)}const Wr={method:"POST",body:JSON.stringify(rt),headers:fn};let kr,Ri;try{kr=yield fetch(ut,Wr)}catch(rs){throw Dt.create("fetch-network-error",{originalErrorMessage:null===(Nt=rs)||void 0===Nt?void 0:Nt.message})}if(200!==kr.status)throw Dt.create("fetch-status-error",{httpStatus:kr.status});try{Ri=yield kr.json()}catch(rs){throw Dt.create("fetch-parse-error",{originalErrorMessage:null===(tn=rs)||void 0===tn?void 0:tn.message})}const ds=Ri.ttl.match(/^([\d.]+)(s)$/);if(!ds||!ds[2]||isNaN(Number(ds[1])))throw Dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ri.ttl}`});const qi=1e3*Number(ds[1]),hs=Date.now();return{token:Ri.token,expireTimeMillis:hs+qi,issuedAtTimeMillis:hs}})).apply(this,arguments)}function Gn(ut,rt){const{projectId:gt,appId:Nt,apiKey:tn}=ut.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${gt}/apps/${Nt}:exchangeDebugToken?key=${tn}`,body:{debug_token:rt}}}const nn="firebase-app-check-store";let On=null;function Mn(){return On||(On=new Promise((ut,rt)=>{var gt;try{const Nt=indexedDB.open("firebase-app-check-database",1);Nt.onsuccess=tn=>{ut(tn.target.result)},Nt.onerror=tn=>{var fn;rt(Dt.create("storage-open",{originalErrorMessage:null===(fn=tn.target.error)||void 0===fn?void 0:fn.message}))},Nt.onupgradeneeded=tn=>{0===tn.oldVersion&&tn.target.result.createObjectStore(nn,{keyPath:"compositeKey"})}}catch(Nt){rt(Dt.create("storage-open",{originalErrorMessage:null===(gt=Nt)||void 0===gt?void 0:gt.message}))}}),On)}function _t(){return(_t=(0,Re.Z)(function*(ut,rt){const Nt=(yield Mn()).transaction(nn,"readwrite"),fn=Nt.objectStore(nn).put({compositeKey:ut,value:rt});return new Promise((ur,Wr)=>{fn.onsuccess=kr=>{ur()},Nt.onerror=kr=>{var Ri;Wr(Dt.create("storage-set",{originalErrorMessage:null===(Ri=kr.target.error)||void 0===Ri?void 0:Ri.message}))}})})).apply(this,arguments)}const cn=new ke.Yd("@firebase/app-check");function Tr(ut,rt){return(0,lt.hl)()?function _r(ut,rt){return function Dr(ut,rt){return _t.apply(this,arguments)}(function ht(ut){return`${ut.options.appId}-${ut.name}`}(ut),rt)}(ut,rt).catch(gt=>{cn.warn(`Failed to write token to IndexedDB. Error: ${gt}`)}):Promise.resolve()}function Qt(){return $e().enabled}function Ot(){return O.apply(this,arguments)}function O(){return(O=(0,Re.Z)(function*(){const ut=$e();if(ut.enabled&&ut.token)return ut.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const T={error:"UNKNOWN_ERROR"};function H(ut){return lt.US.encodeString(JSON.stringify(ut),!1)}function J(ut){return He.apply(this,arguments)}function He(){return(He=(0,Re.Z)(function*(ut,rt=!1){const gt=ut.app;rn(gt);const Nt=Je(gt);let fn,tn=Nt.token;if(!tn){const kr=yield Nt.cachedTokenPromise;kr&&st(kr)&&(tn=kr)}if(!rt&&tn&&st(tn))return{token:tn.token};let Wr,ur=!1;if(Qt()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=hr(Gn(gt,yield Ot()),ut.heartbeatServiceProvider).then(Ri=>(Nt.exchangeTokenPromise=void 0,Ri)),ur=!0);const kr=yield Nt.exchangeTokenPromise;return yield Tr(gt,kr),ct(gt,Object.assign(Object.assign({},Nt),{token:kr})),{token:kr.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().then(kr=>(Nt.exchangeTokenPromise=void 0,kr)),ur=!0),tn=yield Nt.exchangeTokenPromise}catch(kr){"appCheck/throttled"===kr.code?cn.warn(kr.message):cn.error(kr),fn=kr}return tn?(Wr={token:tn.token},ct(gt,Object.assign(Object.assign({},Nt),{token:tn})),yield Tr(gt,tn)):Wr=Ke(fn),ur&&an(gt,Wr),Wr})).apply(this,arguments)}function kt(ut,rt){const gt=Je(ut),Nt=gt.tokenObservers.filter(tn=>tn.next!==rt);0===Nt.length&&gt.tokenRefresher&&gt.tokenRefresher.isRunning()&&gt.tokenRefresher.stop(),ct(ut,Object.assign(Object.assign({},gt),{tokenObservers:Nt}))}function hn(ut){const{app:rt}=ut,gt=Je(rt);let Nt=gt.tokenRefresher;Nt||(Nt=function on(ut){const{app:rt}=ut;return new Rt((0,Re.Z)(function*(){let Nt;if(Nt=Je(rt).token?yield J(ut,!0):yield J(ut),Nt.error)throw Nt.error}),()=>!0,()=>{const gt=Je(rt);if(gt.token){let Nt=gt.token.issuedAtTimeMillis+.5*(gt.token.expireTimeMillis-gt.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,gt.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},3e4,96e4)}(ut),ct(rt,Object.assign(Object.assign({},gt),{tokenRefresher:Nt}))),!Nt.isRunning()&&gt.isTokenAutoRefreshEnabled&&Nt.start()}function an(ut,rt){const gt=Je(ut).tokenObservers;for(const Nt of gt)try{"EXTERNAL"===Nt.type&&null!=rt.error?Nt.error(rt.error):Nt.next(rt)}catch{}}function st(ut){return ut.expireTimeMillis-Date.now()>0}function Ke(ut){return{token:H(T),error:ut}}class ne{constructor(rt,gt){this.app=rt,this.heartbeatServiceProvider=gt}_delete(){const{tokenObservers:rt}=Je(this.app);for(const gt of rt)kt(this.app,gt.next);return Promise.resolve()}}const Xi="app-check-internal";!function Vi(){(0,ve._registerComponent)(new ge.wA("app-check",ut=>function se(ut,rt){return new ne(ut,rt)}(ut.getProvider("app").getImmediate(),ut.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ut,rt,gt)=>{ut.getProvider(Xi).initialize()})),(0,ve._registerComponent)(new ge.wA(Xi,ut=>function ce(ut){return{getToken:rt=>J(ut,rt),addTokenListener:rt=>function Et(ut,rt,gt,Nt){const{app:tn}=ut,fn=Je(tn),ur={next:gt,error:Nt,type:rt};if(ct(tn,Object.assign(Object.assign({},fn),{tokenObservers:[...fn.tokenObservers,ur]})),fn.token&&st(fn.token)){const Wr=fn.token;Promise.resolve().then(()=>{gt({token:Wr.token}),hn(ut)}).catch(()=>{})}fn.cachedTokenPromise.then(()=>hn(ut))}(ut,"INTERNAL",rt),removeTokenListener:rt=>kt(ut.app,rt)}}(ut.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/app-check","0.5.12")}();class es{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},1205:(Wt,qe,D)=>{D.d(qe,{zQ:()=>Le,ww:()=>dt,rT:()=>Me,f7:()=>ct,L6:()=>Ie,_Q:()=>ot,lh:()=>Je,Qv:()=>ke,nw:()=>$e});var c=D(4650),p=D(7579),$=D(9646),pe=D(8306),v=D(8996),Ae=D(6451),Ne=D(6063);class be extends p.x{constructor(Ct=1/0,$t=1/0,Tt=Ne.l){super(),this._bufferSize=Ct,this._windowTime=$t,this._timestampProvider=Tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$t===1/0,this._bufferSize=Math.max(1,Ct),this._windowTime=Math.max(1,$t)}next(Ct){const{isStopped:$t,_buffer:Tt,_infiniteTimeWindow:Rt,_timestampProvider:zt,_windowTime:Xe}=this;$t||(Tt.push(Ct),!Rt&&Tt.push(zt.now()+Xe)),this._trimBuffer(),super.next(Ct)}_subscribe(Ct){this._throwIfClosed(),this._trimBuffer();const $t=this._innerSubscribe(Ct),{_infiniteTimeWindow:Tt,_buffer:Rt}=this,zt=Rt.slice();for(let Xe=0;Xe<zt.length&&!Ct.closed;Xe+=Tt?1:2)Ct.next(zt[Xe]);return this._checkFinalizedStatuses(Ct),$t}_trimBuffer(){const{_bufferSize:Ct,_timestampProvider:$t,_buffer:Tt,_infiniteTimeWindow:Rt}=this,zt=(Rt?1:2)*Ct;if(Ct<1/0&&zt<Tt.length&&Tt.splice(0,Tt.length-zt),!Rt){const Xe=$t.now();let Dt=0;for(let Lt=1;Lt<Tt.length&&Tt[Lt]<=Xe;Lt+=2)Dt=Lt;Dt&&Tt.splice(0,Dt+1)}}}var Oe=D(3099);function fe(tt,Ct,$t){let Tt,Rt=!1;return tt&&"object"==typeof tt?({bufferSize:Tt=1/0,windowTime:Ct=1/0,refCount:Rt=!1,scheduler:$t}=tt):Tt=tt??1/0,(0,Oe.B)({connector:()=>new be(Tt,Ct,$t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Rt})}var he=D(3900),Se=D(576);function ft(tt,Ct){return(0,Se.m)(Ct)?(0,he.w)(()=>tt,Ct):(0,he.w)(()=>tt)}var Ue=D(5363),Te=D(4004),Ze=D(590),xe=D(9468),nt=D(9300),De=D(5813),mt=D(2011),Re=D(6895),ve=D(440),ge=D(127);const ke=new c.OlP("angularfire2.auth.use-emulator"),Ie=new c.OlP("angularfire2.auth.settings"),ot=new c.OlP("angularfire2.auth.tenant-id"),Me=new c.OlP("angularfire2.auth.langugage-code"),Je=new c.OlP("angularfire2.auth.use-device-language"),ct=new c.OlP("angularfire.auth.persistence"),$e=(tt,Ct,$t,Tt,Rt,zt,Xe,Dt)=>(0,mt.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Lt=Ct.runOutsideAngular(()=>tt.auth());if($t&&Lt.useEmulator(...$t),Tt&&(Lt.tenantId=Tt),Lt.languageCode=Rt,zt&&Lt.useDeviceLanguage(),Xe)for(const[rn,En]of Object.entries(Xe))Lt.settings[rn]=En;return Dt&&Lt.setPersistence(Dt),Lt},[$t,Tt,Rt,zt,Xe,Dt]);let Le=(()=>{class tt{constructor($t,Tt,Rt,zt,Xe,Dt,Lt,rn,En,rr,hr,Vn){const Wn=new p.x,kn=(0,$.of)(void 0).pipe((0,Ue.Q)(Xe.outsideAngular),(0,he.w)(()=>zt.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,5881)))),(0,Te.U)(()=>(0,mt.on)($t,zt,Tt)),(0,Te.U)(Gn=>$e(Gn,zt,Dt,rn,En,rr,Lt,hr)),fe({bufferSize:1,refCount:!1}));if((0,Re.PM)(Rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{kn.pipe((0,Ze.P)()).subscribe();const Dn=kn.pipe((0,he.w)(Bn=>Bn.getRedirectResult().then(On=>On,()=>null)),De.iC,fe({bufferSize:1,refCount:!1})),or=kn.pipe((0,he.w)(Bn=>new pe.y(On=>({unsubscribe:zt.runOutsideAngular(()=>Bn.onAuthStateChanged(Mn=>On.next(Mn),Mn=>On.error(Mn),()=>On.complete()))})))),nn=kn.pipe((0,he.w)(Bn=>new pe.y(On=>({unsubscribe:zt.runOutsideAngular(()=>Bn.onIdTokenChanged(Mn=>On.next(Mn),Mn=>On.error(Mn),()=>On.complete()))}))));this.authState=Dn.pipe(ft(or),(0,xe.R)(Xe.outsideAngular),(0,Ue.Q)(Xe.insideAngular)),this.user=Dn.pipe(ft(nn),(0,xe.R)(Xe.outsideAngular),(0,Ue.Q)(Xe.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Bn=>Bn?(0,v.D)(Bn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Bn=>Bn?(0,v.D)(Bn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ae.T)(Dn,Wn,this.authState.pipe((0,nt.h)(Bn=>!Bn))).pipe((0,Te.U)(Bn=>(null==Bn?void 0:Bn.user)?Bn:null),(0,xe.R)(Xe.outsideAngular),(0,Ue.Q)(Xe.insideAngular))}return(0,mt.pX)(this,kn,zt,{spy:{apply:(Gn,Dn,or)=>{(Gn.startsWith("signIn")||Gn.startsWith("createUser"))&&or.then(nn=>Wn.next(nn))}}})}}return tt.\u0275fac=function($t){return new($t||tt)(c.LFG(mt.Dh),c.LFG(mt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(De.HU),c.LFG(ke,8),c.LFG(Ie,8),c.LFG(ot,8),c.LFG(Me,8),c.LFG(Je,8),c.LFG(ct,8),c.LFG(ve.nm,8))},tt.\u0275prov=c.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"}),tt})(),dt=(()=>{class tt{constructor(){ge.Z.registerVersion("angularfire",De.q4.full,"auth-compat")}}return tt.\u0275fac=function($t){return new($t||tt)},tt.\u0275mod=c.oAB({type:tt}),tt.\u0275inj=c.cJS({providers:[Le]}),tt})()},7407:(Wt,qe,D)=>{D.d(qe,{ST:()=>wy,yb:()=>f0});var c=D(4650),p=D(4986),$=D(8306),pe=D(8996),v=D(9646),Ae=D(5813),Ne=D(4482),be=D(5403);function Oe(){return(0,Ne.e)((i,e)=>{let t,s=!1;i.subscribe((0,be.x)(e,l=>{const d=t;t=l,s&&e.next([d,l]),s=!0}))})}var Ie,fe=D(8675),he=D(4004),Se=D(5026),ft=D(1884),Ue=D(9300),Te=D(2011),Ze=D(6895),nt=(D(5881),D(3942)),De=D(5861),mt=D(9681),Re=D(4859),ve=D(1877),ge=D(2090),lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke={},ot=ot||{},Me=lt||self;function Je(){}function ct(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var dt="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function Ct(i,e,t){return i.call.apply(i.bind,arguments)}function $t(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Tt(i,e,t){return(Tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ct:$t).apply(null,arguments)}function Rt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function zt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,l,d){for(var g=Array(arguments.length-2),S=2;S<arguments.length;S++)g[S-2]=arguments[S];return e.prototype[l].apply(s,g)}}function Xe(){this.s=this.s,this.o=this.o}var Lt={};Xe.prototype.s=!1,Xe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Le(i){return Object.prototype.hasOwnProperty.call(i,dt)&&i[dt]||(i[dt]=++tt)}(this);delete Lt[i]}},Xe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},En=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in l&&e.call(t,l[d],d,i)};function hr(i){return Array.prototype.concat.apply([],arguments)}function Vn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Wn(i){return/^[\s\xa0]*$/.test(i)}var or,kn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Gn(i,e){return-1!=i.indexOf(e)}function Dn(i,e){return i<e?-1:i>e?1:0}e:{var nn=Me.navigator;if(nn){var Bn=nn.userAgent;if(Bn){or=Bn;break e}}or=""}function On(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Mn(i){const e={};for(const t in i)e[t]=i[t];return e}var ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let d=0;d<ar.length;d++)t=ar[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function br(i){return br[" "](i),i}br[" "]=Je;var Sn,i,Dr=Gn(or,"Opera"),_t=Gn(or,"Trident")||Gn(or,"MSIE"),en=Gn(or,"Edge"),We=en||_t,ht=Gn(or,"Gecko")&&!(Gn(or.toLowerCase(),"webkit")&&!Gn(or,"Edge"))&&!(Gn(or,"Trident")||Gn(or,"MSIE"))&&!Gn(or,"Edge"),cn=Gn(or.toLowerCase(),"webkit")&&!Gn(or,"Edge");function bn(){var i=Me.document;return i?i.documentMode:void 0}e:{var Tr="",Nn=(i=or,ht?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):cn?/WebKit\/(\S+)/.exec(i):Dr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Nn&&(Tr=Nn?Nn[1]:""),_t){var Ln=bn();if(null!=Ln&&Ln>parseFloat(Tr)){Sn=String(Ln);break e}}Sn=Tr}var Qt={};var T=Me.document&&_t&&(bn()||parseInt(Sn,10))||void 0,H=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Me.addEventListener("test",Je,e),Me.removeEventListener("test",Je,e)}catch{}return i}();function J(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function He(i,e){if(J.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ht){e:{try{br(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Et[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&He.Z.h.call(this)}}J.prototype.h=function(){this.defaultPrevented=!0},zt(He,J);var Et={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),hn=0;function on(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=l,this.key=++hn,this.ca=this.fa=!1}function an(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function st(i){this.src=i,this.g={},this.h=0}function Ke(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],l=rn(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(an(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ne(i,e,t,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==s)return l}return-1}st.prototype.add=function(i,e,t,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ne(i,e,s,l);return-1<g?(e=i[g],t||(e.fa=!1)):((e=new on(e,this.src,d,!!s,l)).fa=t,i.push(e)),e};var se="closure_lm_"+(1e6*Math.random()|0),ce={};function Ve(i,e,t,s,l){if(s&&s.once)return Ce(i,e,t,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ve(i,e[d],t,s,l);return null}return t=sn(t),i&&i[kt]?i.N(e,t,$e(s)?!!s.capture:!!s,l):yt(i,e,t,!1,s,l)}function yt(i,e,t,s,l,d){if(!e)throw Error("Invalid event type");var g=$e(l)?!!l.capture:!!l,S=Xt(i);if(S||(i[se]=S=new st(i)),(t=S.add(e,t,s,g,d)).proxy)return t;if(s=function at(){var e=bt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)H||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(et(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Ce(i,e,t,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ce(i,e[d],t,s,l);return null}return t=sn(t),i&&i[kt]?i.O(e,t,$e(s)?!!s.capture:!!s,l):yt(i,e,t,!0,s,l)}function ue(i,e,t,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)ue(i,e[d],t,s,l);else s=$e(s)?!!s.capture:!!s,t=sn(t),i&&i[kt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ne(d=i.g[e],t,s,l))&&(an(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Xt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ne(e,t,s,l)),(t=-1<i?e[i]:null)&&_e(t))}function _e(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[kt])Ke(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(et(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Xt(e))?(Ke(t,i),0==t.h&&(t.src=null,e[se]=null)):an(i)}}}function et(i){return i in ce?ce[i]:ce[i]="on"+i}function bt(i,e){if(i.ca)i=!0;else{e=new He(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&_e(i),i=t.call(s,e)}return i}function Xt(i){return(i=i[se])instanceof st?i:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(i){return"function"==typeof i?i:(i[An]||(i[An]=function(e){return i.handleEvent(e)}),i[An])}function zn(){Xe.call(this),this.i=new st(this),this.P=this,this.I=null}function mn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new J(e,i);else if(e instanceof J)e.target=e.target||i;else{var l=e;_r(e=new J(s,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];l=ii(g,s,!0,e)&&l}if(l=ii(g=e.g=i,s,!0,e)&&l,l=ii(g,s,!1,e)&&l,t)for(d=0;d<t.length;d++)l=ii(g=e.g=t[d],s,!1,e)&&l}function ii(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ca&&g.capture==t){var S=g.listener,z=g.ia||g.src;g.fa&&Ke(i.i,g),l=!1!==S.call(z,s)&&l}}return l&&!s.defaultPrevented}zt(zn,Xe),zn.prototype[kt]=!0,zn.prototype.removeEventListener=function(i,e,t,s){ue(this,i,e,t,s)},zn.prototype.M=function(){if(zn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)an(t[s]);delete i.g[e],i.h--}}this.I=null},zn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},zn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Gr=Me.JSON.stringify;function Un(){var i=Mr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Sr,xi=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Wi,i=>i.reset());class Wi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hi(i){Me.setTimeout(()=>{throw i},0)}function jr(i,e){Sr||function Ui(){var i=Me.Promise.resolve(void 0);Sr=function(){i.then(Xi)}}(),fi||(Sr(),fi=!0),Mr.add(i,e)}var fi=!1,Mr=new class ai{constructor(){this.h=this.g=null}add(e,t){const s=xi.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Xi(){for(var i;i=Un();){try{i.h.call(i.g)}catch(t){hi(t)}var e=xi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}fi=!1}function Vi(i,e){zn.call(this),this.h=i||1,this.g=e||Me,this.j=Tt(this.kb,this),this.l=Date.now()}function lr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function li(i,e,t){if("function"==typeof i)t&&(i=Tt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Tt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Me.setTimeout(i,e||0)}function es(i){i.g=li(()=>{i.g=null,i.i&&(i.i=!1,es(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}zt(Vi,zn),(Ie=Vi.prototype).da=!1,Ie.S=null,Ie.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&(lr(this),this.start()))}},Ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.M=function(){Vi.Z.M.call(this),lr(this),delete this.g};class Oi extends Xe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:es(this)}M(){super.M(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(i){Xe.call(this),this.h=i,this.g={}}zt(Xr,Xe);var Or=[];function Ki(i,e,t,s){Array.isArray(t)||(t&&(Or[0]=t.toString()),t=Or);for(var l=0;l<t.length;l++){var d=Ve(e,t[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Pr(i){On(i.g,function(e,t){this.g.hasOwnProperty(t)&&_e(e)},i),i.g={}}function ei(){this.g=!0}function ki(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ns(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return Gr(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Xr.prototype.M=function(){Xr.Z.M.call(this),Pr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.Aa=function(){this.g=!1},ei.prototype.info=function(){};var Ds={},Ts=null;function zr(){return Ts=Ts||new zn}function uo(i){J.call(this,Ds.Ma,i)}function ut(i){const e=zr();mn(e,new uo(e,i))}function rt(i,e){J.call(this,Ds.STAT_EVENT,i),this.stat=e}function gt(i){const e=zr();mn(e,new rt(e,i))}function Nt(i,e){J.call(this,Ds.Na,i),this.size=e}function tn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){i()},e)}Ds.Ma="serverreachability",zt(uo,J),Ds.STAT_EVENT="statevent",zt(rt,J),Ds.Na="timingevent",zt(Nt,J);var fn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wr(){}function Ri(){}Wr.prototype.h=null;var rs,ds={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qi(){J.call(this,"d")}function hs(){J.call(this,"c")}function Di(){}function yo(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new Xr(this),this.P=ys,this.W=new Vi(i=We?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}zt(qi,J),zt(hs,J),zt(Di,Wr),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},rs=new Di;var ys=45e3,Ti={},_s={};function Gs(i,e,t){i.K=1,i.v=Pt(fr(e)),i.s=t,i.U=!0,ks(i,null)}function ks(i,e){i.F=Date.now(),Fs(i),i.A=fr(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Fn(t.h,"t",s),i.C=0,t=i.l.H,i.h=new gs,i.g=bs(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Oi(Tt(i.Ia,i,i.g),i.O)),Ki(i.V,i.g,"readystatechange",i.gb),e=i.H?Mn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ut(1),function Os(i,e,t,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",S=d.split("&"),z=0;z<S.length;z++){var Q=S[z].split("=");if(1<Q.length){var ye=Q[0];Q=Q[1];var ze=ye.split("_");g=2<=ze.length&&"type"==ze[1]?g+(ye+"=")+Q+"&":g+(ye+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ns(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ko(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=Ni(i,t),l==_s){4==e&&(i.o=4,gt(14),s=!1),ki(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ti){i.o=4,gt(15),ki(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ki(i.j,i.m,l,null),si(i,l)}Ns(i)&&l!=_s&&l!=Ti&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,gt(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vo(e),e.L=!0,gt(11))):(ki(i.j,i.m,t,"[Invalid Chunked Response]"),xr(i),zs(i))}function Ni(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?_s:(t=Number(e.substring(t,s)),isNaN(t)?Ti:(s+=1)+t>e.length?_s:(e=e.substr(s,t),i.C=s+t,e))}function Fs(i){i.Y=Date.now()+i.P,fs(i,i.P)}function fs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=tn(Tt(i.eb,i),e)}function Bi(i){i.B&&(Me.clearTimeout(i.B),i.B=null)}function zs(i){0==i.l.G||i.I||Qn(i.l,i)}function xr(i){Bi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,lr(i.W),Pr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function si(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||jt(t.i,i)))if(t.I=i.N,!i.J&&jt(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=tn(Tt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;vn(t),Ss(t)}Ks(t),gt(18)}if(1>=Mt(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Zr(t,11)}else if((i.J||t.g==i)&&vn(t),!Wn(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(t.U=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.J=Q[1],t.la=Q[2];const ye=Q[3];null!=ye&&(t.ma=ye,t.h.info("VER="+t.ma));const ze=Q[4];null!=ze&&(t.za=ze,t.h.info("SVER="+t.za));const At=Q[5];null!=At&&"number"==typeof At&&0<At&&(t.K=s=1.5*At,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ht=i.g;if(Ht){const Zt=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var d=s.i;!d.g&&(Gn(Zt,"spdy")||Gn(Zt,"quic")||Gn(Zt,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(yn(d,d.h),d.h=null))}if(s.D){const wn=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;wn&&(s.sa=wn,Ge(s.F,s.D,wn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var g=i;if((s=t).oa=ps(s,s.H?s.la:null,s.W),g.J){pn(s.i,g);var S=g,z=s.K;z&&S.setTimeout(z),S.B&&(Bi(S),Fs(S)),s.g=g}else Us(s);0<t.l.length&&Ls(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Zr(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Zr(t,7):Vr(t):"noop"!=Q[0]&&t.j&&t.j.wa(Q),t.A=0)}ut(4)}catch{}}function _i(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ct(i)||"string"==typeof i)En(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ct(i)||"string"==typeof i){t=[];for(var s=i.length,l=0;l<s;l++)t.push(l)}else for(l in t=[],s=0,i)t[s++]=l;s=function _o(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ct(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length;for(var d=0;d<l;d++)e.call(void 0,s[d],t&&t[d],i)}}function ji(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof ji)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function As(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];is(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)is(l,s=i.g[e])||(i.g[t++]=s,l[s]=1),e++;i.g.length=t}}function is(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Ie=yo.prototype).setTimeout=function(i){this.P=i},Ie.gb=function(i){i=i.target;const e=this.L;e&&3==xn(i)?e.l():this.Ia(i)},Ie.Ia=function(i){try{if(i==this.g)e:{const ye=xn(this.g);var e=this.g.Da();const ze=this.g.ba();if(!(3>ye)&&(3!=ye||We||this.g&&(this.h.h||this.g.ga()||pr(this.g)))){this.I||4!=ye||7==e||ut(8==e||0>=ze?3:2),Bi(this);var t=this.g.ba();this.N=t;t:if(Ns(this)){var s=pr(this.g);i="";var l=s.length,d=4==xn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),zs(this);var g="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==t,function ts(i,e,t,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,ye,t),this.i){if(this.$&&!this.J){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wn(S)){var Q=S;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,gt(12),xr(this),zs(this);break e}ki(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,si(this,t)}this.U?(ko(this,ye,g),We&&this.i&&3==ye&&(Ki(this.V,this.W,"tick",this.fb),this.W.start())):(ki(this.j,this.m,g,null),si(this,g)),4==ye&&xr(this),this.i&&!this.I&&(4==ye?Qn(this.l,this):(this.i=!1,Fs(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,gt(12)):(this.o=0,gt(13)),xr(this),zs(this)}}}catch{}},Ie.fb=function(){if(this.g){var i=xn(this.g),e=this.g.ga();this.C<e.length&&(Bi(this),ko(this,i,e),this.i&&4!=i&&Fs(this))}},Ie.cancel=function(){this.I=!0,xr(this)},Ie.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ii(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ut(3),gt(17)),xr(this),this.o=2,zs(this)):fs(this,this.Y-i)},(Ie=ji.prototype).R=function(){As(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Ie.T=function(){return As(this),this.g.concat()},Ie.get=function(i,e){return is(this.h,i)?this.h[i]:e},Ie.set=function(i,e){is(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Ie.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var l=t[s],d=this.get(l);i.call(e,d,l,this)}};var Zs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Hi){this.g=void 0!==e?e:i.g,L(this,i.j),this.s=i.s,te(this,i.i),U(this,i.m),this.l=i.l,e=i.h;var t=new F;t.i=e.i,e.g&&(t.g=new ji(e.g),t.h=e.h),de(this,t),this.o=i.o}else i&&(t=String(i).match(Zs))?(this.g=!!e,L(this,t[1]||"",!0),this.s=qn(t[2]||""),te(this,t[3]||"",!0),U(this,t[4]),this.l=qn(t[5]||"",!0),de(this,t[6]||"",!0),this.o=qn(t[7]||"")):(this.g=!!e,this.h=new F(null,this.g))}function fr(i){return new Hi(i)}function L(i,e,t){i.j=t?qn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function te(i,e,t){i.i=t?qn(e,!0):e}function U(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function de(i,e,t){e instanceof F?(i.h=e,function K(i,e){e&&!i.j&&(R(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(le(this,s),Fn(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=gr(e,Lr)),i.h=new F(e,i.g))}function Ge(i,e,t){i.h.set(e,t)}function Pt(i){return Ge(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function gr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,nr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Hi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(gr(e,wr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(gr(e,wr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(gr(t,"/"==t.charAt(0)?Nr:Kr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",gr(t,Z)),i.join("")};var wr=/[#\/\?@]/g,Kr=/[#\?:]/g,Nr=/[#\?]/g,Lr=/[#\?@]/g,Z=/#/g;function F(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function R(i){i.g||(i.g=new ji,i.h=0,i.i&&function vs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var d=i[t].substring(0,s);l=i[t].substring(s+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function le(i,e){R(i),e=Ur(i,e),is(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,is((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&As(i)))}function Ft(i,e){return R(i),e=Ur(i,e),is(i.g.h,e)}function Fn(i,e,t){le(i,e),0<t.length&&(i.i=null,i.g.set(Ur(i,e),Vn(t)),i.h+=t.length)}function Ur(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function me(i){this.l=i||ae,i=Me.PerformanceNavigationTiming?0<(i=Me.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=F.prototype).add=function(i,e){R(this),this.i=null,i=Ur(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ie.forEach=function(i,e){R(this),this.g.forEach(function(t,s){En(t,function(l){i.call(e,l,s,this)},this)},this)},Ie.T=function(){R(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var l=i[s],d=0;d<l.length;d++)t.push(e[s]);return t},Ie.R=function(i){R(this);var e=[];if("string"==typeof i)Ft(this,i)&&(e=hr(e,this.g.get(Ur(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=hr(e,i[t])}return e},Ie.set=function(i,e){return R(this),this.i=null,Ft(this,i=Ur(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var g=l;""!==s[d]&&(g+="="+encodeURIComponent(String(s[d]))),i.push(g)}}return this.i=i.join("&")};var ae=10;function Qe(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Mt(i){return i.h?1:i.g?i.g.size:0}function jt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function yn(i,e){i.g?i.g.add(e):i.h=e}function pn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Yn(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Vn(i.i)}function yr(){}function gi(){this.g=new yr}function pi(i,e,t){const s=t||"";try{_i(i,function(l,d){let g=l;$e(l)&&(g=Gr(l)),e.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function ti(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function vi(i){this.l=i.$b||null,this.j=i.ib||!1}function Cr(i,e){zn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Si,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}me.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},yr.prototype.stringify=function(i){return Me.JSON.stringify(i,void 0)},yr.prototype.parse=function(i){return Me.JSON.parse(i,void 0)},zt(vi,Wr),vi.prototype.g=function(){return new Cr(this.l,this.j)},vi.prototype.i=function(i){return function(){return i}}({}),zt(Cr,zn);var Si=0;function Ws(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function q(i){i.readyState=4,i.l=null,i.j=null,i.A=null,y(i)}function y(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=Cr.prototype).open=function(i,e){if(this.readyState!=Si)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,y(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Me).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q(this)),this.readyState=Si},Ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,y(this)),this.g&&(this.readyState=3,y(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ws(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?q(this):y(this),3==this.readyState&&Ws(this)}},Ie.Ua=function(i){this.g&&(this.response=this.responseText=i,q(this))},Ie.Ta=function(i){this.g&&(this.response=i,q(this))},Ie.ha=function(){this.g&&q(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var E=Me.JSON.parse;function k(i){zn.call(this),this.headers=new ji,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=X,this.K=this.L=!1}zt(k,zn);var X="",Ee=/^https?$/i,Be=["POST","PUT"];function vt(i){return"content-type"==i.toLowerCase()}function Vt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,_n(i),Kn(i)}function _n(i){i.D||(i.D=!0,mn(i,"complete"),mn(i,"error"))}function Pn(i){if(i.h&&typeof ot<"u"&&(!i.C[1]||4!=xn(i)||2!=i.ba()))if(i.v&&4==xn(i))li(i.Fa,0,i);else if(mn(i,"readystatechange"),4==xn(i)){i.h=!1;try{const S=i.ba();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var l=String(i.H).match(Zs)[1]||null;if(!l&&Me.self&&Me.self.location){var d=Me.self.location.protocol;l=d.substr(0,d.length-1)}s=!Ee.test(l?l.toLowerCase():"")}t=s}if(t)mn(i,"complete"),mn(i,"success");else{i.m=6;try{var g=2<xn(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.ba()+"]",_n(i)}}finally{Kn(i)}}}function Kn(i,e){if(i.g){Ar(i);const t=i.g,s=i.C[0]?Je:null;i.g=null,i.C=null,e||mn(i,"ready");try{t.onreadystatechange=s}catch{}}}function Ar(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Me.clearTimeout(i.A),i.A=null)}function xn(i){return i.g?i.g.readyState:0}function pr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case X:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function mi(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function ni(i){let e="";return On(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ge(i,e,t))}function bi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ss(i){this.za=0,this.l=[],this.h=new ei,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bi("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bi("baseRetryDelayMs",5e3,i),this.$a=bi("retryDelaySeedMs",1e4,i),this.Ya=bi("forwardChannelMaxRetries",2,i),this.ra=bi("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new me(i&&i.concurrentRequestLimit),this.Ca=new gi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Vr(i){if(Qr(i),3==i.G){var e=i.V++,t=fr(i.F);Ge(t,"SID",i.J),Ge(t,"RID",e),Ge(t,"TYPE","terminate"),To(i,t),(e=new yo(i,i.h,e,void 0)).K=2,e.v=Pt(fr(t)),t=!1,Me.navigator&&Me.navigator.sendBeacon&&(t=Me.navigator.sendBeacon(e.v.toString(),"")),!t&&Me.Image&&((new Image).src=e.v,t=!0),t||(e.g=bs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fs(e)}as(i)}function Ss(i){i.g&&(vo(i),i.g.cancel(),i.g=null)}function Qr(i){Ss(i),i.u&&(Me.clearTimeout(i.u),i.u=null),vn(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Me.clearTimeout(i.m),i.m=null)}function os(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ls(i)}function Ls(i){Qe(i.i)||i.m||(i.m=!0,jr(i.Ha,i),i.C=0)}function Do(i,e){var t;t=e?e.m:i.V++;const s=fr(i.F);Ge(s,"SID",i.J),Ge(s,"RID",t),Ge(s,"AID",i.U),To(i,s),i.o&&i.s&&mi(s,i.o,i.s),t=new yo(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Xo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),yn(i.i,t),Gs(t,s,e)}function To(i,e){i.j&&_i({},function(t,s){Ge(e,s,t)})}function Xo(i,e,t){t=Math.min(i.l.length,t);var s=i.j?Tt(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=l[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let S=!0;for(let z=0;z<t;z++){let Q=l[z].h;const ye=l[z].g;if(Q-=d,0>Q)d=Math.max(0,l[z].h-100),S=!1;else try{pi(ye,g,"req"+Q+"_")}catch{s&&s(ye)}}if(S){s=g.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function Us(i){i.g||i.u||(i.Y=1,jr(i.Ga,i),i.A=0)}function Ks(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=tn(Tt(i.Ga,i),mr(i,i.A)),i.A++,0))}function vo(i){null!=i.B&&(Me.clearTimeout(i.B),i.B=null)}function dn(i){i.g=new yo(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=fr(i.oa);Ge(e,"RID","rpc"),Ge(e,"SID",i.J),Ge(e,"CI",i.N?"0":"1"),Ge(e,"AID",i.U),To(i,e),Ge(e,"TYPE","xmlhttp"),i.o&&i.s&&mi(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Pt(fr(e)),t.s=null,t.U=!0,ks(t,i)}function vn(i){null!=i.v&&(Me.clearTimeout(i.v),i.v=null)}function Qn(i,e){var t=null;if(i.g==e){vn(i),vo(i),i.g=null;var s=2}else{if(!jt(i.i,e))return;t=e.D,pn(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;mn(s=zr(),new Nt(s,t,e,l)),Ls(i)}else Us(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==s&&function Io(i,e){return!(Mt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=tn(Tt(i.Ha,i,e),mr(i,i.C)),i.C++,0)))}(i,e)||2==s&&Ks(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:Zr(i,5);break;case 4:Zr(i,10);break;case 3:Zr(i,6);break;default:Zr(i,2)}}function mr(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Zr(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=Tt(i.jb,i);t||(t=new Hi("//www.google.com/images/cleardot.gif"),Me.location&&"http"==Me.location.protocol||L(t,"https"),Pt(t)),function Ai(i,e){const t=new ei;if(Me.Image){const s=new Image;s.onload=Rt(ti,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Rt(ti,t,s,"TestLoadImage: error",!1,e),s.onabort=Rt(ti,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Rt(ti,t,s,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else gt(2);i.G=0,i.j&&i.j.va(e),as(i),Qr(i)}function as(i){i.G=0,i.I=-1,i.j&&((0!=Yn(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Vn(i.l),i.l.length=0),i.j.ua())}function ps(i,e,t){let s=function Ut(i){return i instanceof Hi?fr(i):new Hi(i,void 0)}(t);if(""!=s.i)e&&te(s,e+"."+s.i),U(s,s.m);else{const l=Me.location;s=function Cn(i,e,t,s){var l=new Hi(null,void 0);return i&&L(l,i),e&&te(l,e),t&&U(l,t),s&&(l.l=s),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&On(i.aa,function(l,d){Ge(s,d,l)}),t=i.sa,(e=i.D)&&t&&Ge(s,e,t),Ge(s,"VER",i.ma),To(i,s),s}function bs(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new k(t&&i.Ba&&!i.qa?new vi({ib:!0}):i.qa)).L=i.H,e}function Jr(){}function ea(){if(_t&&!(10<=Number(T)))throw Error("Environmental error: no available transport.")}function Vs(i,e){zn.call(this),this.g=new ss(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Wn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new oi(this)}function Es(i){qi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ao(){hs.call(this),this.status=1}function oi(i){this.g=i}(Ie=k.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rs.g(),this.C=function kr(i){return i.h||(i.h=i.i())}(this.u?this.u:rs),this.g.onreadystatechange=Tt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Vt(this,d)}i=t||"";const l=new ji(this.headers);s&&_i(s,function(d,g){l.set(g,d)}),s=function rr(i){e:{var e=vt;const t=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in s&&e.call(void 0,s[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=Me.FormData&&i instanceof Me.FormData,!(0<=rn(Be,e))||s||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ar(this),0<this.B&&((this.K=function Ye(i){return _t&&function Ot(){return function Er(i){var e=Qt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=kn(String(Sn)).split("."),t=kn("9").split("."),s=Math.max(e.length,t.length);for(let g=0;0==i&&g<s;g++){var l=e[g]||"",d=t[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=Dn(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||Dn(0==l[2].length,0==d[2].length)||Dn(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.pa,this)):this.A=li(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Vt(this,d)}},Ie.pa=function(){typeof ot<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mn(this,"complete"),mn(this,"abort"),Kn(this))},Ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kn(this,!0)),k.Z.M.call(this)},Ie.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},Ie.cb=function(){Pn(this)},Ie.ba=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},Ie.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),E(e)}},Ie.Da=function(){return this.m},Ie.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=ss.prototype).ma=8,Ie.G=1,Ie.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},Ie.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new yo(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=Mn(d),_r(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xo(this,l,e),Ge(t=fr(this.F),"RID",i),Ge(t,"CVER",22),this.D&&Ge(t,"X-HTTP-Session-Id",this.D),To(this,t),this.o&&d&&mi(t,this.o,d),yn(this.i,l),this.Ra&&Ge(t,"TYPE","init"),this.ja?(Ge(t,"$req",e),Ge(t,"SID","null"),l.$=!0,Gs(l,t,null)):Gs(l,t,e),this.G=2}}else 3==this.G&&(i?Do(this,i):0==this.l.length||Qe(this.i)||Do(this))},Ie.Ga=function(){if(this.u=null,dn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=tn(Tt(this.bb,this),i)}},Ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gt(10),Ss(this),dn(this))},Ie.ab=function(){null!=this.v&&(this.v=null,Ss(this),Ks(this),gt(19))},Ie.jb=function(i){i?(this.h.info("Successfully pinged google.com"),gt(2)):(this.h.info("Failed to ping google.com"),gt(1))},(Ie=Jr.prototype).xa=function(){},Ie.wa=function(){},Ie.va=function(){},Ie.ua=function(){},Ie.Oa=function(){},ea.prototype.g=function(i,e){return new Vs(i,e)},zt(Vs,zn),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),jr(Tt(i.hb,i,e))),gt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=ps(i,null,i.W),Ls(i)},Vs.prototype.close=function(){Vr(this.g)},Vs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,os(this.g,e)}else this.v?((e={}).__data__=Gr(i),os(this.g,e)):os(this.g,i)},Vs.prototype.M=function(){this.g.j=null,delete this.j,Vr(this.g),delete this.g,Vs.Z.M.call(this)},zt(Es,qi),zt(Ao,hs),zt(oi,Jr),oi.prototype.xa=function(){mn(this.g,"a")},oi.prototype.wa=function(i){mn(this.g,new Es(i))},oi.prototype.va=function(i){mn(this.g,new Ao(i))},oi.prototype.ua=function(){mn(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,ur.COMPLETE="complete",Ri.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",zn.prototype.listen=zn.prototype.N,k.prototype.listenOnce=k.prototype.O,k.prototype.getLastError=k.prototype.La,k.prototype.getLastErrorCode=k.prototype.Da,k.prototype.getStatus=k.prototype.ba,k.prototype.getResponseJson=k.prototype.Qa,k.prototype.getResponseText=k.prototype.ga,k.prototype.send=k.prototype.ea;var qs=ke.createWebChannelTransport=function(){return new ea},So=ke.getStatEventTarget=function(){return zr()},la=ke.ErrorCode=fn,el=ke.EventType=ur,ua=ke.Event=Ds,ta=ke.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yi=ke.FetchXmlHttpFactory=vi,No=ke.WebChannel=Ri,$o=ke.XhrIo=k;const ca="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let na="9.9.4";const bo=new ve.Yd("@firebase/firestore");function Va(){return bo.logLevel}function Yt(i,...e){if(bo.logLevel<=ve.in.DEBUG){const t=e.map(x);bo.debug(`Firestore (${na}): ${i}`,...t)}}function Ei(i,...e){if(bo.logLevel<=ve.in.ERROR){const t=e.map(x);bo.error(`Firestore (${na}): ${i}`,...t)}}function co(i,...e){if(bo.logLevel<=ve.in.WARN){const t=e.map(x);bo.warn(`Firestore (${na}): ${i}`,...t)}}function x(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function w(i="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+i;throw Ei(e),new Error(e)}function b(i,e){i||w()}function B(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class je{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class Fr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hn{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const d=Q=>this.i!==l?(l=this.i,t(Q)):Promise.resolve();let g=new je;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new je,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const Q=g;e.enqueueRetryable((0,De.Z)(function*(){yield Q.promise,yield d(s.currentUser)}))},z=Q=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Q=>z(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?z(Q):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new je)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(b("string"==typeof s.accessToken),new Bt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new Qi(e)}}class ui{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(b(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ci{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l}getToken(){return Promise.resolve(new ui(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bs{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Yt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?l(d):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(b("string"==typeof t.token),this.A=t.token,new Eo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function da(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ys{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=da(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<t&&(s+=e.charAt(l[d]%e.length))}return s}}function tr(i,e){return i<e?-1:i>e?1:0}function Mo(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function ho(i){return i+"\0"}class wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new wi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tr(this.nanoseconds,e.nanoseconds):tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xn(e)}static min(){return new Xn(new wi(0,0))}static max(){return new Xn(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wl{constructor(e,t,s){void 0===t?t=0:t>e.length&&w(),void 0===s?s=e.length-t:s>e.length-t&&w(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===wl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const d=e.get(l),g=t.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qr extends wl{construct(e,t,s){return new qr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new qr(t)}static emptyPath(){return new qr([])}}const ws=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ls extends wl{construct(e,t,s){return new ls(e,t,s)}static isValidIdentifier(e){return ws.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ls.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ls(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const d=()=>{if(0===s.length)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let g=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[l+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=z,l+=2}else"`"===S?(g=!g,l++):"."!==S||g?(s+=S,l++):(d(),l++)}if(d(),g)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ls(t)}static emptyPath(){return new ls([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(qr.fromString(e))}static fromName(e){return new gn(qr.fromString(e).popFirst(5))}static empty(){return new gn(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new qr(e.slice()))}}class nl{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function cc(i){return i.fields.find(e=>2===e.kind)}function Ba(i){return i.fields.filter(e=>2!==e.kind)}nl.UNKNOWN_ID=-1;class Su{constructor(e,t){this.fieldPath=e,this.kind=t}}class ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ja(0,js.min())}}function Ms(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Xn.fromTimestamp(1e9===s?new wi(t+1,0):new wi(t,s));return new js(l,gn.empty(),e)}function Ia(i){return new js(i.readTime,i.key,-1)}class js{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new js(Xn.min(),gn.empty(),-1)}static max(){return new js(Xn.max(),gn.empty(),-1)}}function Il(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:tr(i.largestBatchId,e.largestBatchId))}const Mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cs(i){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,De.Z)(function*(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==Mu)throw i;Yt("LocalStore","Unexpectedly lost primary lease")}),Ha.apply(this,arguments)}class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&w(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xt?t:xt.resolve(t)}catch(t){return xt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xt.reject(t)}static resolve(e){return new xt((t,s)=>{t(e)})}static reject(e){return new xt((t,s)=>{s(e)})}static waitFor(e){return new xt((t,s)=>{let l=0,d=0,g=!1;e.forEach(S=>{++l,S.next(()=>{++d,g&&d===l&&t()},z=>s(z))}),g=!0,d===l&&t()})}static or(e){let t=xt.resolve(!1);for(const s of e)t=t.next(l=>l?xt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,d)=>{s.push(t.call(this,l,d))}),this.waitFor(s)}static mapArray(e,t){return new xt((s,l)=>{const d=e.length,g=new Array(d);let S=0;for(let z=0;z<d;z++){const Q=z;t(e[Q]).next(ye=>{g[Q]=ye,++S,S===d&&s(g)},ye=>l(ye))}})}static doWhile(e,t){return new xt((s,l)=>{const d=()=>{!0===e()?t().next(()=>{d()},l):s()};d()})}}class ra{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new je,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ha(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const l=fa(s.target.error);this.P.reject(new ha(e,l))}}static open(e,t,s,l){try{return new ra(t,e.transaction(l,s))}catch(d){throw new ha(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new hd(t)}}class xo{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===xo.D((0,ge.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Yt("SimpleDb","Removing database:",e),Go(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ge.hl)())return!1;if(xo.N())return!0;const e=(0,ge.z$)(),t=xo.D(e),s=0<t&&t<10,l=xo.k(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,De.Z)(function*(){return t.db||(Yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const S=g.target.error;l("VersionError"===S.name?new oe(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new oe(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new ha(e,S))},d.onupgradeneeded=g=>{Yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var d=this;return(0,De.Z)(function*(){const g="readonly"===t;let S=0;for(;;){++S;try{d.db=yield d.F(e);const z=ra.open(d.db,e,g?"readonly":"readwrite",s),Q=l(z).next(ye=>(z.V(),ye)).catch(ye=>(z.abort(ye),xt.reject(ye))).toPromise();return Q.catch(()=>{}),yield z.v,Q}catch(z){const Q=z,ye="FirebaseError"!==Q.name&&S<3;if(Yt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ye),d.close(),!ye)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Da{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Go(this.U.delete())}}class ha extends oe{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ta(i){return"IndexedDbTransactionError"===i.name}class hd{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Yt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Go(s)}add(e){return Yt("SimpleDb","ADD",this.store.name,e,e),Go(this.store.add(e))}get(e){return Go(this.store.get(e)).next(t=>(void 0===t&&(t=null),Yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Yt("SimpleDb","DELETE",this.store.name,e),Go(this.store.delete(e))}count(){return Yt("SimpleDb","COUNT",this.store.name),Go(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.H(l,(g,S)=>{d.push(S)}).next(()=>d)}{const l=this.store.getAll(s.range);return new xt((d,g)=>{l.onerror=S=>{g(S.target.error)},l.onsuccess=S=>{d(S.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new xt((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}Y(e,t){Yt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const l=this.cursor(s);return this.H(l,(d,g,S)=>S.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.H(l,t)}tt(e){const t=this.cursor({});return new xt((s,l)=>{t.onerror=d=>{const g=fa(d.target.error);l(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(S=>{S?g.continue():s()}):s()}})}H(e,t){const s=[];return new xt((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const S=g.target.result;if(!S)return void l();const z=new Da(S),Q=t(S.primaryKey,S.value,z);if(Q instanceof xt){const ye=Q.catch(ze=>(z.done(),xt.reject(ze)));s.push(ye)}z.isDone?l():null===z.G?S.continue():S.continue(z.G)}}).next(()=>xt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Go(i){return new xt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=fa(s.target.error);t(l)}})}let Hs=!1;function fa(i){const e=xo.D((0,ge.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hs||(Hs=!0,setTimeout(()=>{throw s},0)),s}}return i}class pa{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{Yt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Ta(s)?Yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Cs(s)}yield t.nt(1)}))}}class xu{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let l=t,d=!0;return xt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Yt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,l).next(S=>{l-=S,s.add(g)});d=!1})).next(()=>t-l)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(l,d)).next(S=>(Yt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>g.size)}))}ot(e,t){let s=e;return t.changes.forEach((l,d)=>{const g=Ia(d);Il(g,s)>0&&(s=g)}),new js(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Dl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ma(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function dc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}xs.at=-1;class Ji{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new Ji(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Ji(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}}class $a{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,t,s,l,d){this.key=e,this.value=t,this.color=s??$s.RED,this.left=l??$s.EMPTY,this.right=d??$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,d){return new $s(e??this.key,t??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return $s.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw w();const e=this.left.check();if(e!==this.right.check())throw w();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw w()}get value(){throw w()}get color(){throw w()}get left(){throw w()}get right(){throw w()}copy(i,e,t,s,l){return this}insert(i,e,t){return new $s(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new Ji(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ga(this.data.getIterator())}getIteratorFrom(e){return new Ga(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class Ga{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rl(i){return i.hasNext()?i.getNext():void 0}class Rs{constructor(e){this.fields=e,e.sort(ls.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new Br(ls.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class $i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $i(t)}static fromUint8Array(e){const t=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new $i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const Aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(i){if(b(!!i),"string"==typeof i){let e=0;const t=Aa.exec(i);if(b(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:us(i.seconds),nanos:us(i.nanos)}}function us(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function zo(i){return"string"==typeof i?$i.fromBase64String(i):$i.fromUint8Array(i)}function iu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function za(i){const e=i.mapValue.fields.__previous_value__;return iu(e)?za(e):e}function Sa(i){const e=ia(i.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}class N{constructor(e,t,s,l,d,g,S,z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=S,this.useFetchStreams=z}}class j{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new j("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof j&&e.projectId===this.projectId&&e.database===this.database}}function ie(i){return null==i}function Fe(i){return 0===i&&1/i==-1/0}function pt(i){return"number"==typeof i&&Number.isInteger(i)&&!Fe(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const St={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qt={nullValue:"NULL_VALUE"};function un(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?iu(i)?4:Lo(i)?9007199254740991:10:w()}function jn(i,e){if(i===e)return!0;const t=un(i);if(t!==un(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sa(i).isEqual(Sa(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=ia(s.timestampValue),g=ia(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,zo(i.bytesValue).isEqual(zo(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return us(s.geoPointValue.latitude)===us(l.geoPointValue.latitude)&&us(s.geoPointValue.longitude)===us(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return us(s.integerValue)===us(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=us(s.doubleValue),g=us(l.doubleValue);return d===g?Fe(d)===Fe(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return Mo(i.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:return function(s,l){const d=s.mapValue.fields||{},g=l.mapValue.fields||{};if(Dl(d)!==Dl(g))return!1;for(const S in d)if(d.hasOwnProperty(S)&&(void 0===g[S]||!jn(d[S],g[S])))return!1;return!0}(i,e);default:return w()}var l}function ir(i,e){return void 0!==(i.values||[]).find(t=>jn(t,e))}function sr(i,e){if(i===e)return 0;const t=un(i),s=un(e);if(t!==s)return tr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return tr(i.booleanValue,e.booleanValue);case 2:return function(l,d){const g=us(l.integerValue||l.doubleValue),S=us(d.integerValue||d.doubleValue);return g<S?-1:g>S?1:g===S?0:isNaN(g)?isNaN(S)?0:-1:1}(i,e);case 3:return Jn(i.timestampValue,e.timestampValue);case 4:return Jn(Sa(i),Sa(e));case 5:return tr(i.stringValue,e.stringValue);case 6:return function(l,d){const g=zo(l),S=zo(d);return g.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const g=l.split("/"),S=d.split("/");for(let z=0;z<g.length&&z<S.length;z++){const Q=tr(g[z],S[z]);if(0!==Q)return Q}return tr(g.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const g=tr(us(l.latitude),us(d.latitude));return 0!==g?g:tr(us(l.longitude),us(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const g=l.values||[],S=d.values||[];for(let z=0;z<g.length&&z<S.length;++z){const Q=sr(g[z],S[z]);if(Q)return Q}return tr(g.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){if(l===St.mapValue&&d===St.mapValue)return 0;if(l===St.mapValue)return 1;if(d===St.mapValue)return-1;const g=l.fields||{},S=Object.keys(g),z=d.fields||{},Q=Object.keys(z);S.sort(),Q.sort();for(let ye=0;ye<S.length&&ye<Q.length;++ye){const ze=tr(S[ye],Q[ye]);if(0!==ze)return ze;const At=sr(g[S[ye]],z[Q[ye]]);if(0!==At)return At}return tr(S.length,Q.length)}(i.mapValue,e.mapValue);default:throw w()}}function Jn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return tr(i,e);const t=ia(i),s=ia(e),l=tr(t.seconds,s.seconds);return 0!==l?l:tr(t.nanos,s.nanos)}function Fi(i){return Xs(i)}function Xs(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=ia(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?zo(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const g of s.values||[])d?d=!1:l+=",",l+=Xs(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const S of l)g?g=!1:d+=",",d+=`${S}:${Xs(s.fields[S])}`;return d+"}"}(i.mapValue):w();var e}function Ro(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zo(i){return!!i&&"integerValue"in i}function wo(i){return!!i&&"arrayValue"in i}function Tl(i){return!!i&&"nullValue"in i}function Za(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ga(i){return!!i&&"mapValue"in i}function eo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ma(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=eo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Lo(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Al(i){return"nullValue"in i?qt:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ro(j.empty(),gn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:w()}function Wp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ro(j.empty(),gn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?St:w()}function hc(i,e){const t=sr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function fc(i,e){const t=sr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ga(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(t)}setAll(e){let t=ls.emptyPath(),s={},l=[];e.forEach((g,S)=>{if(!t.isImmediateParentOf(S)){const z=this.getFieldsMap(t);this.applyChanges(z,s,l),s={},l=[],t=S.popLast()}g?s[S.lastSegment()]=eo(g):l.push(S.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,l)}delete(e){const t=this.field(e.popLast());ga(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];ga(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){ma(t,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new fo(eo(this.value))}}function su(i){const e=[];return ma(i.fields,(t,s)=>{const l=new ls([t]);if(ga(s)){const d=su(s.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new Rs(e)}class Gi{constructor(e,t,s,l,d,g){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Gi(e,0,Xn.min(),Xn.min(),fo.empty(),0)}static newFoundDocument(e,t,s){return new Gi(e,1,t,Xn.min(),s,0)}static newNoDocument(e,t){return new Gi(e,2,t,Xn.min(),fo.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,Xn.min(),fo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yh{constructor(e,t=null,s=[],l=[],d=null,g=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=S,this.ht=null}}function ou(i,e=null,t=[],s=[],l=null,d=null,g=null){return new Yh(i,e,t,s,l,d,g)}function Ma(i){const e=B(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(l=s).field.canonicalString()+l.op.toString()+Fi(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),ie(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Fi(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Fi(s)).join(",")),e.ht=t}return e.ht}function au(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Ou(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(s=e.filters[l]).op||!t.field.isEqual(s.field)||!jn(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!gc(i.startAt,e.startAt)&&gc(i.endAt,e.endAt)}function Ru(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pc(i,e){return i.filters.filter(t=>t instanceof to&&t.field.isEqual(e))}function il(i,e,t){let s=qt,l=!0;for(const d of pc(i,e)){let g=qt,S=!0;switch(d.op){case"<":case"<=":g=Al(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,S=!1;break;case"!=":case"not-in":g=qt}hc({value:s,inclusive:l},{value:g,inclusive:S})<0&&(s=g,l=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];hc({value:s,inclusive:l},{value:g,inclusive:t.inclusive})<0&&(s=g,l=t.inclusive);break}return{value:s,inclusive:l}}function Pu(i,e,t){let s=St,l=!0;for(const d of pc(i,e)){let g=St,S=!0;switch(d.op){case">=":case">":g=Wp(d.value),S=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,S=!1;break;case"!=":case"not-in":g=St}fc({value:s,inclusive:l},{value:g,inclusive:S})>0&&(s=g,l=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];fc({value:s,inclusive:l},{value:g,inclusive:t.inclusive})>0&&(s=g,l=t.inclusive);break}return{value:s,inclusive:l}}class to extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new fd(e,t,s):"array-contains"===t?new Qh(e,s):"in"===t?new Jh(e,s):"not-in"===t?new Xh(e,s):"array-contains-any"===t?new ef(e,s):new to(e,t,s)}static lt(e,t,s){return"in"===t?new pd(e,s):new sl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(sr(t,this.value)):null!==t&&un(this.value)===un(t)&&this.ft(sr(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return w()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fd extends to{constructor(e,t,s){super(e,t,s),this.key=gn.fromName(s.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.ft(t)}}class pd extends to{constructor(e,t){super(e,"in",t),this.keys=mc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sl extends to{constructor(e,t){super(e,"not-in",t),this.keys=mc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>gn.fromName(s.referenceValue))}class Qh extends to{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wo(t)&&ir(t.arrayValue,this.value)}}class Jh extends to{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ir(this.value.arrayValue,t)}}class Xh extends to{constructor(e,t){super(e,"not-in",t)}matches(e){if(ir(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ir(this.value.arrayValue,t)}}class ef extends to{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ir(this.value.arrayValue,s))}}class no{constructor(e,t){this.position=e,this.inclusive=t}}class sa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ou(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function md(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(s=d.field.isKeyField()?gn.comparator(gn.fromName(g.referenceValue),t.key):sr(g,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function gc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!jn(i.position[t],e.position[t]))return!1;return!0}class xa{constructor(e,t=null,s=[],l=[],d=null,g="F",S=null,z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=S,this.endAt=z,this._t=null,this.wt=null}}function ku(i,e,t,s,l,d,g,S){return new xa(i,e,t,s,l,d,g,S)}function Ml(i){return new xa(i)}function Nu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Fu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function yc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function _c(i){return null!==i.collectionGroup}function xl(i){const e=B(i);if(null===e._t){e._t=[];const t=yc(e),s=Fu(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new sa(t)),e._t.push(new sa(ls.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new sa(ls.keyField(),d))}}}return e._t}function Wo(i){const e=B(i);if(!e.wt)if("F"===e.limitType)e.wt=ou(e.path,e.collectionGroup,xl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of xl(e))t.push(new sa(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new no(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new no(e.startAt.position,e.startAt.inclusive):null;e.wt=ou(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e.wt}function C(i,e,t){return new xa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function f(i,e){return au(Wo(i),Wo(e))&&i.limitType===e.limitType}function m(i){return`${Ma(Wo(i))}|lt:${i.limitType}`}function M(i){return`Query(target=${function Sl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Fi(s.value)}`;var s}).join(", ")}]`),ie(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Fi(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Fi(t)).join(",")),`Target(${e})`}(Wo(i))}; limitType=${i.limitType})`}function ee(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):gn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,d,g){const S=md(l,d,g);return l.inclusive?S<=0:S<0}(t.startAt,xl(t),s)||t.endAt&&!function(l,d,g){const S=md(l,d,g);return l.inclusive?S>=0:S>0}(t.endAt,xl(t),s)));var t,s}function we(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function It(i){return(e,t)=>{let s=!1;for(const l of xl(i)){const d=Kt(l,e,t);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Kt(i,e,t){const s=i.field.isKeyField()?gn.comparator(e.key,t.key):function(l,d,g){const S=d.data.field(l),z=g.data.field(l);return null!==S&&null!==z?sr(S,z):w()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return w()}}function Rn(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(e)?"-0":e}}function er(i){return{integerValue:""+i}}function Hr(i,e){return pt(e)?er(e):Rn(i,e)}class Mi{constructor(){this._=void 0}}function Ko(i,e,t){return i instanceof Rl?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof _a?vc(i,e):i instanceof Wa?Uu(i,e):function(s,l){const d=Lu(s,l),g=Vu(d)+Vu(s.yt);return Zo(d)&&Zo(s.yt)?er(g):Rn(s.It,g)}(i,e)}function ya(i,e,t){return i instanceof _a?vc(i,e):i instanceof Wa?Uu(i,e):t}function Lu(i,e){return i instanceof ol?Zo(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Rl extends Mi{}class _a extends Mi{constructor(e){super(),this.elements=e}}function vc(i,e){const t=al(e);for(const s of i.elements)t.some(l=>jn(l,s))||t.push(s);return{arrayValue:{values:t}}}class Wa extends Mi{constructor(e){super(),this.elements=e}}function Uu(i,e){let t=al(e);for(const s of i.elements)t=t.filter(l=>!jn(l,s));return{arrayValue:{values:t}}}class ol extends Mi{constructor(e,t){super(),this.It=e,this.yt=t}}function Vu(i){return us(i.integerValue||i.doubleValue)}function al(i){return wo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ll{constructor(e,t){this.field=e,this.transform=t}}class Ec{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yd{}function _d(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ro(i.key,Rr.none()):new Bu(i.key,i.data,Rr.none());{const t=i.data,s=fo.empty();let l=new Br(ls.comparator);for(let d of e.fields)if(!l.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?s.delete(d):s.set(d,g),l=l.add(d)}return new ul(i.key,s,new Rs(l.toArray()),Rr.none())}}function tf(i,e,t){i instanceof Bu?function(s,l,d){const g=s.value.clone(),S=Ny(s.fieldTransforms,l,d.transformResults);g.setAll(S),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof ul?function(s,l,d){if(!gd(s.precondition,l))return void l.convertToUnknownDocument(d.version);const g=Ny(s.fieldTransforms,l,d.transformResults),S=l.data;S.setAll(ky(s)),S.setAll(g),l.convertToFoundDocument(d.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wc(i,e,t,s){return i instanceof Bu?function(l,d,g,S){if(!gd(l.precondition,d))return g;const z=l.value.clone(),Q=ju(l.fieldTransforms,S,d);return z.setAll(Q),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null}(i,e,t,s):i instanceof ul?function(l,d,g,S){if(!gd(l.precondition,d))return g;const z=ju(l.fieldTransforms,S,d),Q=d.data;return Q.setAll(ky(l)),Q.setAll(z),d.convertToFoundDocument(d.version,Q).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ye=>ye.field))}(i,e,t,s):(g=t,gd(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function Oy(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=Lu(s.transform,l||null);null!=d&&(null===t&&(t=fo.empty()),t.set(s.field,d))}return t||null}function Kp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Mo(t,s,(l,d)=>function bc(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof _a&&s instanceof _a||t instanceof Wa&&s instanceof Wa?Mo(t.elements,s.elements,jn):t instanceof ol&&s instanceof ol?jn(t.yt,s.yt):t instanceof Rl&&s instanceof Rl);var t,s}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Bu extends yd{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ul extends yd{constructor(e,t,s,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function ky(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Ny(i,e,t){const s=new Map;b(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],g=d.transform,S=e.data.field(d.field);s.set(d.field,ya(g,S,t[l]))}return s}function ju(i,e,t){const s=new Map;for(const l of i){const d=l.transform,g=t.data.field(l.field);s.set(l.field,Ko(d,g,e))}return s}class ro extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cc extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qp{constructor(e){this.count=e}}var Qs,Ir;function Hu(i){switch(i){default:return w();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function vd(i){if(void 0===i)return Ei("GRPC error has no .code"),W.UNKNOWN;switch(i){case Qs.OK:return W.OK;case Qs.CANCELLED:return W.CANCELLED;case Qs.UNKNOWN:return W.UNKNOWN;case Qs.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Qs.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Qs.INTERNAL:return W.INTERNAL;case Qs.UNAVAILABLE:return W.UNAVAILABLE;case Qs.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Qs.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Qs.NOT_FOUND:return W.NOT_FOUND;case Qs.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Qs.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Qs.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Qs.ABORTED:return W.ABORTED;case Qs.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Qs.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Qs.DATA_LOSS:return W.DATA_LOSS;default:return w()}}(Ir=Qs||(Qs={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";class Pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(t,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return dc(this.inner)}size(){return this.innerSize}}const Fy=new Ji(gn.comparator);function Uo(){return Fy}const Yp=new Ji(gn.comparator);function $u(...i){let e=Yp;for(const t of i)e=e.insert(t.key,t);return e}function Qp(i){let e=Yp;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ra(){return Ic()}function Jp(){return Ic()}function Ic(){return new Pl(i=>i.toString(),(i,e)=>i.isEqual(e))}const nf=new Ji(gn.comparator),Ly=new Br(gn.comparator);function $r(...i){let e=Ly;for(const t of i)e=e.add(t);return e}const rf=new Br(tr);function bd(){return rf}class Dc{constructor(e,t,s,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t)),new Dc(Xn.min(),s,bd(),Uo(),$r())}}class Ol{constructor(e,t,s,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ol($i.EMPTY_BYTE_STRING,t,$r(),$r(),$r())}}class Ed{constructor(e,t,s,l){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=l}}class Xp{constructor(e,t){this.targetId=e,this.At=t}}class em{constructor(e,t,s=$i.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class tm{constructor(){this.Rt=0,this.bt=nm(),this.Pt=$i.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$r(),t=$r(),s=$r();return this.bt.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:w()}}),new Ol(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=nm()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Uy{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Uo(),this.qt=sf(),this.Kt=new Br(tr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:w()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,l)=>{this.Ht(l)&&t(l)})}Yt(e){const t=e.targetId,s=e.At.count,l=this.Xt(t);if(l){const d=l.target;if(Ru(d))if(0===s){const g=new gn(d.path);this.jt(t,g,Gi.newNoDocument(g,Xn.min()))}else b(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const S=this.Xt(g);if(S){if(d.current&&Ru(S.target)){const z=new gn(S.target.path);null!==this.Ut.get(z)||this.ee(g,z)||this.jt(g,z,Gi.newNoDocument(z,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let s=$r();this.qt.forEach((d,g)=>{let S=!0;g.forEachWhile(z=>{const Q=this.Xt(z);return!Q||2===Q.purpose||(S=!1,!1)}),S&&(s=s.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const l=new Dc(e,t,this.Kt,this.Ut,s);return this.Ut=Uo(),this.qt=sf(),this.Kt=new Br(tr),l}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const l=this.zt(e);this.ee(e,t)?l.kt(t,1):l.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new tm,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Br(tr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Yt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new tm),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function sf(){return new Ji(gn.comparator)}function nm(){return new Ji(gn.comparator)}const Vy={asc:"ASCENDING",desc:"DESCENDING"},By={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jy{constructor(e,t){this.databaseId=e,this.gt=t}}function Tc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rm(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Hy(i,e){return Tc(i,e.toTimestamp())}function po(i){return b(!!i),Xn.fromTimestamp(function(e){const t=ia(e);return new wi(t.seconds,t.nanos)}(i))}function kl(i,e){return(t=i,new qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Pa(i){const e=qr.fromString(i);return b(am(e)),e}function wd(i,e){return kl(i.databaseId,e.path)}function cl(i,e){const t=Pa(e);if(t.get(1)!==i.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(Id(t))}function Cd(i,e){return kl(i.databaseId,e)}function $y(i){const e=Pa(i);return 4===e.length?qr.emptyPath():Id(e)}function qo(i){return new qr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Id(i){return b(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Dd(i,e,t){return{name:wd(i,e),fields:t.value.mapValue.fields}}function im(i,e,t){const s=cl(i,e.name),l=po(e.updateTime),d=new fo({mapValue:{fields:e.fields}}),g=Gi.newFoundDocument(s,l,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Gu(i,e){let t;if(e instanceof Bu)t={update:Dd(i,e.key,e.value)};else if(e instanceof ro)t={delete:wd(i,e.key)};else if(e instanceof ul)t={update:Dd(i,e.key,e.data),updateMask:Ky(e.fieldMask)};else{if(!(e instanceof Cc))return w();t={verify:wd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,d){const g=d.transform;if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _a)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ol)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw w()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Hy(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:w()),t;var l}function Td(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Rr.updateTime(po(l.updateTime)):void 0!==l.exists?Rr.exists(l.exists):Rr.none():Rr.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(d,g){let S=null;"setToServerValue"in g?(b("REQUEST_TIME"===g.setToServerValue),S=new Rl):"appendMissingElements"in g?S=new _a(g.appendMissingElements.values||[]):"removeAllFromArray"in g?S=new Wa(g.removeAllFromArray.values||[]):"increment"in g?S=new ol(d,g.increment):w();const z=ls.fromServerFormat(g.fieldPath);return new ll(z,S)}(i,l)):[];var l;if(e.update){const l=cl(i,e.update.name),d=new fo({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Rs((e.updateMask.fieldPaths||[]).map(Q=>ls.fromServerFormat(Q)));return new ul(l,d,g,t,s)}return new Bu(l,d,t,s)}if(e.delete){const l=cl(i,e.delete);return new ro(l,t)}if(e.verify){const l=cl(i,e.verify);return new Cc(l,t)}return w()}function Ad(i,e){return{documents:[Cd(i,e.path)]}}function lf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Cd(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Cd(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(z){if(0===z.length)return;const Q=z.map(ye=>function(ze){if("=="===ze.op){if(Za(ze.value))return{unaryFilter:{field:Nl(ze.field),op:"IS_NAN"}};if(Tl(ze.value))return{unaryFilter:{field:Nl(ze.field),op:"IS_NULL"}}}else if("!="===ze.op){if(Za(ze.value))return{unaryFilter:{field:Nl(ze.field),op:"IS_NOT_NAN"}};if(Tl(ze.value))return{unaryFilter:{field:Nl(ze.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(ze.field),op:zy(ze.op),value:ze.value}}}(ye));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);l&&(t.structuredQuery.where=l);const d=function(z){if(0!==z.length)return z.map(Q=>{return{field:Nl((ye=Q).field),direction:om(ye.dir)};var ye})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(Q=e.limit,i.gt||ie(Q)?Q:{value:Q});var Q,S,z;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),t}function Gy(i){let e=$y(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){b(1===s);const ye=t.from[0];ye.allDescendants?l=ye.collectionId:e=e.child(ye.collectionId)}let d=[];t.where&&(d=Sd(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ye=>{return new sa(Zu((ze=ye).field),function(At){switch(At){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ze.direction));var ze}));let S=null;t.limit&&(S=function(ye){let ze;return ze="object"==typeof ye?ye.value:ye,ie(ze)?null:ze}(t.limit));let z=null;var ye;t.startAt&&(z=new no((ye=t.startAt).values||[],!!ye.before));let Q=null;return t.endAt&&(Q=function(ye){return new no(ye.values||[],!ye.before)}(t.endAt)),ku(e,l,g,d,S,"F",z,Q)}function Sd(i){return i?void 0!==i.unaryFilter?[Wy(i)]:void 0!==i.fieldFilter?[Zy(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Sd(e)).reduce((e,t)=>e.concat(t)):w():[]}function om(i){return Vy[i]}function zy(i){return By[i]}function Nl(i){return{fieldPath:i.canonicalString()}}function Zu(i){return ls.fromServerFormat(i.fieldPath)}function Zy(i){return to.create(Zu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return w()}}(i.fieldFilter.op),i.fieldFilter.value)}function Wy(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Zu(i.unaryFilter.field);return to.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zu(i.unaryFilter.field);return to.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zu(i.unaryFilter.field);return to.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zu(i.unaryFilter.field);return to.create(l,"!=",{nullValue:"NULL_VALUE"});default:return w()}}function Ky(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function am(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Vo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Md(e)),e=lm(i.get(t),e);return Md(e)}function lm(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Md(i){return i+"\x01\x01"}function Oa(i){const e=i.length;if(b(e>=2),2===e)return b("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),qr.emptyPath();const t=e-2,s=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&w(),i.charAt(g+1)){case"\x01":const S=i.substring(d,g);let z;0===l.length?z=S:(l+=S,z=l,l=""),s.push(z);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:w()}d=g+2}return new qr(s)}const xd=["userId","batchId"];function Rd(i,e){return[i,Vo(e)]}function um(i,e,t){return[i,Vo(e),t]}const cm={},dm=["prefixPath","collectionGroup","readTime","documentId"],lu=["prefixPath","collectionGroup","documentId"],hm=["collectionGroup","readTime","prefixPath","documentId"],fm=["canonicalId","targetId"],qy=["targetId","path"],Pd=["path","targetId"],Yy=["collectionId","parent"],pm=["indexId","uid"],mm=["uid","sequenceNumber"],gm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uf=["indexId","uid","orderedDocumentKey"],ym=["userId","collectionPath","documentId"],Od=["userId","collectionPath","largestBatchId"],kd=["userId","collectionGroup","largestBatchId"],cf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],df=[...cf,"documentOverlays"],hf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nd=hf,Sc=[...Nd,"indexConfiguration","indexState","indexEntries"];class ff extends oo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ao(i,e){const t=B(i);return xo.O(t.ie,e)}class pf{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&tf(d,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Jp();return this.mutations.forEach(l=>{const d=e.get(l.key),g=d.overlayedDocument;let S=this.applyToLocalView(g,d.mutatedFields);S=t.has(l.key)?null:S;const z=_d(g,S);null!==z&&s.set(l.key,z),g.isValidDocument()||g.convertToNoDocument(Xn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$r())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(t,s)=>Kp(t,s))&&Mo(this.baseMutations,e.baseMutations,(t,s)=>Kp(t,s))}}class mf{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){b(e.mutations.length===s.length);let l=nf;const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new mf(e,t,s,l)}}class Fd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ka{constructor(e,t,s,l,d=Xn.min(),g=Xn.min(),S=$i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=S}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gf{constructor(e){this.re=e}}function yf(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ld(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:wd(l=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Tc(l,d.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Fl(e.version)};else{if(!e.isUnknownDocument())return w();s.unknownDocument={path:t.path.toArray(),version:Fl(e.version)}}var l,d;return s}function Ld(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Fl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uu(i){const e=new wi(i.seconds,i.nanoseconds);return Xn.fromTimestamp(e)}function cu(i,e){const t=(e.baseMutations||[]).map(d=>Td(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>Td(i.re,d)),l=wi.fromMillis(e.localWriteTimeMs);return new pf(e.batchId,l,t,s)}function Bo(i){const e=uu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?uu(i.lastLimboFreeSnapshotVersion):Xn.min();let s;var l;return void 0!==i.query.documents?(b(1===(l=i.query).documents.length),s=Wo(Ml($y(l.documents[0])))):s=Wo(Gy(i.query)),new Ka(s,i.targetId,0,i.lastListenSequenceNumber,e,t,$i.fromBase64String(i.resumeToken))}function _m(i,e){const t=Fl(e.snapshotVersion),s=Fl(e.lastLimboFreeSnapshotVersion);let l;l=Ru(e.target)?Ad(i.re,e.target):lf(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ma(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Ud(i){const e=Gy({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?C(e,e.limit,"L"):e}function _f(i,e){return new Fd(e.largestBatchId,Td(i.re,e.overlayMutation))}function vm(i,e){const t=e.path.lastSegment();return[i,Vo(e.path.popLast()),t]}function bm(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Fl(s.readTime),documentKey:Vo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Qy{getBundleMetadata(e,t){return vf(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:uu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return vf(e).put({bundleId:(s=t).id,createTime:Fl(po(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Em(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:Ud(l.bundledQuery),readTime:uu(l.readTime)};var l})}saveNamedQuery(e,t){return Em(e).put({name:(s=t).name,readTime:Fl(po(s.readTime)),bundledQuery:s.bundledQuery});var s}}function vf(i){return ao(i,"bundles")}function Em(i){return ao(i,"namedQueries")}class Vd{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Vd(e,t.uid||"")}getOverlay(e,t){return Mc(e).get(vm(this.userId,t)).next(s=>s?_f(this.It,s):null)}getOverlays(e,t){const s=Ra();return xt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((d,g)=>{const S=new Fd(t,g);l.push(this.ue(e,S))}),xt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(g=>l.add(Vo(g.getCollectionPath())));const d=[];return l.forEach(g=>{const S=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(Mc(e).Y("collectionPathOverlayIndex",S))}),xt.waitFor(d)}getOverlaysForCollection(e,t,s){const l=Ra(),d=Vo(t),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Mc(e).W("collectionPathOverlayIndex",g).next(S=>{for(const z of S){const Q=_f(this.It,z);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const d=Ra();let g;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mc(e).Z({index:"collectionGroupOverlayIndex",range:S},(z,Q,ye)=>{const ze=_f(this.It,Q);d.size()<l||ze.largestBatchId===g?(d.set(ze.getKey(),ze),g=ze.largestBatchId):ye.done()}).next(()=>d)}ue(e,t){return Mc(e).put(function(s,l,d){const[g,S,z]=vm(l,d.mutation.key);return{userId:l,collectionPath:S,documentId:z,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Gu(s.re,d.mutation)}}(this.It,this.userId,t))}}function Mc(i){return ao(i,"documentOverlays")}class vr{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(us(e.integerValue));else if("doubleValue"in e){const s=us(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Fe(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(zo(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?Lo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):w()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const l of Object.keys(s))this._e(l,t),this.ae(s[l],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const l of s)this.ae(l,t)}ge(e,t){this.le(t,37),gn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function wm(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function bf(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const d=wm(255&t[l]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}vr.Te=new vr;class Cm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const l=t.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const l=t.codePointAt(0);this.Pe(240|l>>>18),this.Pe(128|63&l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l)}}this.ve()}De(e){const t=this.Ce(e),s=bf(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Ne(e){const t=this.Ce(e),s=bf(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Bd{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class ka{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Wu{constructor(){this.Be=new Cm,this.Le=new Bd(this.Be),this.Ue=new ka(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class du{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new du(this.indexId,this.documentKey,this.arrayValue,s)}}function dl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=qa(i.arrayValue,e.arrayValue),0!==t?t:(t=qa(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function qa(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Ef{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=cc(e);if(void 0!==t&&!this.ze(t))return!1;const s=Ba(e);let l=0,d=0;for(;l<s.length&&this.ze(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.je){const g=s[l];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++l}for(;l<s.length;++l){const g=s[l];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Im{constructor(){this.Ye=new xc}addToCollectionParentIndex(e,t){return this.Ye.add(t),xt.resolve()}getCollectionParents(e,t){return xt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return xt.resolve()}deleteFieldIndex(e,t){return xt.resolve()}getDocumentsMatchingTarget(e,t){return xt.resolve(null)}getIndexType(e,t){return xt.resolve(0)}getFieldIndexes(e,t){return xt.resolve([])}getNextCollectionGroupToUpdate(e){return xt.resolve(null)}getMinOffset(e,t){return xt.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return xt.resolve(js.min())}updateCollectionGroup(e,t,s){return xt.resolve()}updateIndexEntries(e,t){return xt.resolve()}}class xc{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Br(qr.comparator),d=!l.has(s);return this.index[t]=l.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Br(qr.comparator)).toArray()}}const wf=new Uint8Array(0);class Dm{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new xc,this.Ze=new Pl(s=>Ma(s),(s,l)=>au(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:s,parent:Vo(l)};return Jy(e).put(d)}return xt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[ho(t),""],!1,!0);return Jy(e).W(l).next(d=>{for(const g of d){if(g.collectionId!==t)break;s.push(Oa(g.parent))}return s})}addFieldIndex(e,t){const s=hu(e),l={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var g;delete l.indexId;const d=s.add(l);if(t.indexState){const g=fu(e);return d.next(S=>{g.put(bm(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=hu(e),l=fu(e),d=Ll(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Ll(e);let l=!0;const d=new Map;return xt.forEach(this.tn(t),g=>this.en(e,g).next(S=>{l&&(l=!!S),d.set(g,S)})).next(()=>{if(l){let g=$r();const S=[];return xt.forEach(d,(z,Q)=>{var ye;Yt("IndexedDbIndexManager",`Using index ${ye=z,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(Ci=>`${Ci.fieldPath}:${Ci.kind}`).join(",")}`} to execute ${Ma(t)}`);const ze=function(Ci,Ps){const yi=cc(Ps);if(void 0===yi)return null;for(const Pi of pc(Ci,yi.fieldPath))switch(Pi.op){case"array-contains-any":return Pi.value.arrayValue.values||[];case"array-contains":return[Pi.value]}return null}(Q,z),At=function(Ci,Ps){const yi=new Map;for(const Pi of Ba(Ps))for(const so of pc(Ci,Pi.fieldPath))switch(so.op){case"==":case"in":yi.set(Pi.fieldPath.canonicalString(),so.value);break;case"not-in":case"!=":return yi.set(Pi.fieldPath.canonicalString(),so.value),Array.from(yi.values())}return null}(Q,z),Ht=function(Ci,Ps){const yi=[];let Pi=!0;for(const so of Ba(Ps)){const ud=0===so.kind?il(Ci,so.fieldPath,Ci.startAt):Pu(Ci,so.fieldPath,Ci.startAt);yi.push(ud.value),Pi&&(Pi=ud.inclusive)}return new no(yi,Pi)}(Q,z),Zt=function(Ci,Ps){const yi=[];let Pi=!0;for(const so of Ba(Ps)){const ud=0===so.kind?Pu(Ci,so.fieldPath,Ci.endAt):il(Ci,so.fieldPath,Ci.endAt);yi.push(ud.value),Pi&&(Pi=ud.inclusive)}return new no(yi,Pi)}(Q,z),wn=this.nn(z,Q,Ht),Zn=this.nn(z,Q,Zt),Yr=this.sn(z,Q,At),zi=this.rn(z.indexId,ze,wn,Ht.inclusive,Zn,Zt.inclusive,Yr);return xt.forEach(zi,Ci=>s.J(Ci,t.limit).next(Ps=>{Ps.forEach(yi=>{const Pi=gn.fromSegments(yi.documentKey);g.has(Pi)||(g=g.add(Pi),S.push(Pi))})}))}).next(()=>S)}return xt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,l,d,g,S){const z=(null!=t?t.length:1)*Math.max(s.length,d.length),Q=z/(null!=t?t.length:1),ye=[];for(let ze=0;ze<z;++ze){const At=t?this.on(t[ze/Q]):wf,Ht=this.un(e,At,s[ze%Q],l),Zt=this.cn(e,At,d[ze%Q],g),wn=S.map(Zn=>this.un(e,At,Zn,!0));ye.push(...this.createRange(Ht,Zt,wn))}return ye}un(e,t,s,l){const d=new du(e,gn.empty(),t,s);return l?d:d.Ke()}cn(e,t,s,l){const d=new du(e,gn.empty(),t,s);return l?d.Ke():d}en(e,t){const s=new Ef(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let g=null;for(const S of d)s.We(S)&&(!g||S.fields.length>g.fields.length)&&(g=S);return g})}getIndexType(e,t){let s=2;return xt.forEach(this.tn(t),l=>this.en(e,l).next(d=>{d?0!==s&&d.fields.length<function(g){let S=new Br(ls.comparator),z=!1;for(const Q of g.filters){const ye=Q;ye.field.isKeyField()||("array-contains"===ye.op||"array-contains-any"===ye.op?z=!0:S=S.add(ye.field))}for(const Q of g.orderBy)Q.field.isKeyField()||(S=S.add(Q.field));return S.size+(z?1:0)}(l)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new Wu;for(const l of Ba(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const g=s.qe(l.kind);vr.Te.ce(d,g)}return s.$e()}on(e){const t=new Wu;return vr.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new Wu;return vr.Te.ce(Ro(this.databaseId,t),s.qe(function(l){const d=Ba(l);return 0===d.length?0:d[d.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let l=[];l.push(new Wu);let d=0;for(const g of Ba(e)){const S=s[d++];for(const z of l)if(this.ln(t,g.fieldPath)&&wo(S))l=this.fn(l,g,S);else{const Q=z.qe(g.kind);vr.Te.ce(S,Q)}}return this.dn(l)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const l=[...e],d=[];for(const g of s.arrayValue.values||[])for(const S of l){const z=new Wu;z.seed(S.$e()),vr.Te.ce(g,z.qe(t.kind)),d.push(z)}return d}ln(e,t){return!!e.filters.find(s=>s instanceof to&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=hu(e),l=fu(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const g=[];return xt.forEach(d,S=>l.get([S.indexId,this.uid]).next(z=>{g.push(function(Q,ye){const ze=ye?new ja(ye.sequenceNumber,new js(uu(ye.readTime),new gn(Oa(ye.documentKey)),ye.largestBatchId)):ja.empty(),At=Q.fields.map(([Ht,Zt])=>new Su(ls.fromServerFormat(Ht),Zt));return new nl(Q.indexId,Q.collectionGroup,At,ze)}(S,z))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:tr(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=hu(e),d=fu(e);return this._n(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>xt.forEach(S,z=>d.put(bm(z.indexId,this.user,g,s)))))}updateIndexEntries(e,t){const s=new Map;return xt.forEach(t,(l,d)=>{const g=s.get(l.collectionGroup);return(g?xt.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),xt.forEach(S,z=>this.wn(e,l,z).next(Q=>{const ye=this.mn(d,z);return Q.isEqual(ye)?xt.resolve():this.gn(e,d,z,Q,ye)}))))})}yn(e,t,s,l){return Ll(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,l){return Ll(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const l=Ll(e);let d=new Br(dl);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(g,S)=>{d=d.add(new du(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>d)}mn(e,t){let s=new Br(dl);const l=this.an(t,e);if(null==l)return s;const d=cc(t);if(null!=d){const g=e.data.field(d.fieldPath);if(wo(g))for(const S of g.arrayValue.values||[])s=s.add(new du(t.indexId,e.key,this.on(S),l))}else s=s.add(new du(t.indexId,e.key,wf,l));return s}gn(e,t,s,l,d){Yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(S,z,Q,ye,ze){const At=S.getIterator(),Ht=z.getIterator();let Zt=rl(At),wn=rl(Ht);for(;Zt||wn;){let Zn=!1,Yr=!1;if(Zt&&wn){const zi=Q(Zt,wn);zi<0?Yr=!0:zi>0&&(Zn=!0)}else null!=Zt?Yr=!0:Zn=!0;Zn?(ye(wn),wn=rl(Ht)):Yr?(ze(Zt),Zt=rl(At)):(Zt=rl(At),wn=rl(Ht))}}(l,d,dl,S=>{g.push(this.yn(e,t,s,S))},S=>{g.push(this.pn(e,t,s,S))}),xt.waitFor(g)}_n(e){let t=1;return fu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((g,S)=>dl(g,S)).filter((g,S,z)=>!S||0!==dl(g,z[S-1]));const l=[];l.push(e);for(const g of s){const S=dl(g,e),z=dl(g,t);if(0===S)l[0]=e.Ke();else if(S>0&&z<0)l.push(g),l.push(g.Ke());else if(z>0)break}l.push(t);const d=[];for(let g=0;g<l.length;g+=2)d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,wf,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,wf,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jd)}getMinOffset(e,t){return xt.mapArray(this.tn(t),s=>this.en(e,s).next(l=>l||w())).next(jd)}}function Jy(i){return ao(i,"collectionParents")}function Ll(i){return ao(i,"indexEntries")}function hu(i){return ao(i,"indexConfiguration")}function fu(i){return ao(i,"indexState")}function jd(i){b(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Il(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new js(e.readTime,e.documentKey,t)}const Hd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tm(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let S=0;const z=s.Z({range:g},(ye,ze,At)=>(S++,At.delete()));d.push(z.next(()=>{b(1===S)}));const Q=[];for(const ye of t.mutations){const ze=um(e,ye.key.path,t.batchId);d.push(l.delete(ze)),Q.push(ye.key)}return xt.waitFor(d).next(()=>Q)}function $d(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw w();e=i.noDocument}return JSON.stringify(e).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class Gd{constructor(e,t,s,l){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=l,this.In={}}static oe(e,t,s,l){b(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Gd(d,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).Z({index:"userMutationsIndex",range:s},(l,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const d=Rc(e),g=hl(e);return g.add({}).next(S=>{b("number"==typeof S);const z=new pf(S,t,s,l),Q=function(At,Ht,Zt){const wn=Zt.baseMutations.map(Yr=>Gu(At.re,Yr)),Zn=Zt.mutations.map(Yr=>Gu(At.re,Yr));return{userId:Ht,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:wn,mutations:Zn}}(this.It,this.userId,z),ye=[];let ze=new Br((At,Ht)=>tr(At.canonicalString(),Ht.canonicalString()));for(const At of l){const Ht=um(this.userId,At.key.path,S);ze=ze.add(At.key.path.popLast()),ye.push(g.put(Q)),ye.push(d.put(Ht,cm))}return ze.forEach(At=>{ye.push(this.indexManager.addToCollectionParentIndex(e,At))}),e.addOnCommittedListener(()=>{this.In[S]=z.keys()}),xt.waitFor(ye).next(()=>z)})}lookupMutationBatch(e,t){return hl(e).get(t).next(s=>s?(b(s.userId===this.userId),cu(this.It,s)):null)}Tn(e,t){return this.In[t]?xt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return hl(e).Z({index:"userMutationsIndex",range:l},(g,S,z)=>{S.userId===this.userId&&(b(S.batchId>=s),d=cu(this.It,S)),z.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return hl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).W("userMutationsIndex",t).next(s=>s.map(l=>cu(this.It,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Rd(this.userId,t.path),l=IDBKeyRange.lowerBound(s),d=[];return Rc(e).Z({range:l},(g,S,z)=>{const[Q,ye,ze]=g,At=Oa(ye);if(Q===this.userId&&t.path.isEqual(At))return hl(e).get(ze).next(Ht=>{if(!Ht)throw w();b(Ht.userId===this.userId),d.push(cu(this.It,Ht))});z.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Br(tr);const l=[];return t.forEach(d=>{const g=Rd(this.userId,d.path),S=IDBKeyRange.lowerBound(g),z=Rc(e).Z({range:S},(Q,ye,ze)=>{const[At,Ht,Zt]=Q,wn=Oa(Ht);At===this.userId&&d.path.isEqual(wn)?s=s.add(Zt):ze.done()});l.push(z)}),xt.waitFor(l).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,d=Rd(this.userId,s),g=IDBKeyRange.lowerBound(d);let S=new Br(tr);return Rc(e).Z({range:g},(z,Q,ye)=>{const[ze,At,Ht]=z,Zt=Oa(At);ze===this.userId&&s.isPrefixOf(Zt)?Zt.length===l&&(S=S.add(Ht)):ye.done()}).next(()=>this.En(e,S))}En(e,t){const s=[],l=[];return t.forEach(d=>{l.push(hl(e).get(d).next(g=>{if(null===g)throw w();b(g.userId===this.userId),s.push(cu(this.It,g))}))}),xt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return Tm(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),xt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Rc(e).Z({range:s},(d,g,S)=>{if(d[0]===this.userId){const z=Oa(d[1]);l.push(z)}else S.done()}).next(()=>{b(0===l.length)})})}containsKey(e,t){return Am(e,this.userId,t)}Rn(e){return Sm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Am(i,e,t){const s=Rd(e,t.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return Rc(i).Z({range:d,X:!0},(S,z,Q)=>{const[ye,ze,At]=S;ye===e&&ze===l&&(g=!0),Q.done()}).next(()=>g)}function hl(i){return ao(i,"mutations")}function Rc(i){return ao(i,"documentMutations")}function Sm(i){return ao(i,"mutationQueues")}class Ku{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ku(0)}static vn(){return new Ku(-1)}}class Mm{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Ku(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Xn.fromTimestamp(new wi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(b(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let l=0;const d=[];return pu(e).Z((g,S)=>{const z=Bo(S);z.sequenceNumber<=t&&null===s.get(z.targetId)&&(l++,d.push(this.removeTargetData(e,z)))}).next(()=>xt.waitFor(d)).next(()=>l)}forEachTarget(e,t){return pu(e).Z((s,l)=>{const d=Bo(l);t(d)})}Vn(e){return xm(e).get("targetGlobalKey").next(t=>(b(null!==t),t))}Sn(e,t){return xm(e).put("targetGlobalKey",t)}Dn(e,t){return pu(e).put(_m(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ma(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return pu(e).Z({range:l,index:"queryTargetsIndex"},(g,S,z)=>{const Q=Bo(S);au(t,Q.target)&&(d=Q,z.done())}).next(()=>d)}addMatchingKeys(e,t,s){const l=[],d=Ya(e);return t.forEach(g=>{const S=Vo(g.path);l.push(d.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,g))}),xt.waitFor(l)}removeMatchingKeys(e,t,s){const l=Ya(e);return xt.forEach(t,d=>{const g=Vo(d.path);return xt.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=Ya(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=Ya(e);let d=$r();return l.Z({range:s,X:!0},(g,S,z)=>{const Q=Oa(g[1]),ye=new gn(Q);d=d.add(ye)}).next(()=>d)}containsKey(e,t){const s=Vo(t.path),l=IDBKeyRange.bound([s],[ho(s)],!1,!0);let d=0;return Ya(e).Z({index:"documentTargetsIndex",X:!0,range:l},([g,S],z,Q)=>{0!==g&&(d++,Q.done())}).next(()=>d>0)}se(e,t){return pu(e).get(t).next(s=>s?Bo(s):null)}}function pu(i){return ao(i,"targets")}function xm(i){return ao(i,"targetGlobal")}function Ya(i){return ao(i,"targetDocuments")}function Xy([i,e],[t,s]){const l=tr(i,t);return 0===l?tr(e,s):l}class Yv{constructor(e){this.xn=e,this.buffer=new Br(Xy),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Xy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qv{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ta(s)?Yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Cs(s)}yield t.Fn(3e5)}))}}class Jv{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return xt.resolve(xs.at);const s=new Yv(t);return this.$n.forEachTarget(e,l=>s.Mn(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>s.Mn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(Hd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hd):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,l,d,g,S,z,Q;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ze=>(ze>this.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ze}`),l=this.params.maximumSequenceNumbersToCollect):l=ze,g=Date.now(),this.nthSequenceNumber(e,l))).next(ze=>(s=ze,S=Date.now(),this.removeTargets(e,s,t))).next(ze=>(d=ze,z=Date.now(),this.removeOrphanedDocuments(e,s))).next(ze=>(Q=Date.now(),Va()<=ve.in.DEBUG&&Yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ye}ms\n\tDetermined least recently used ${l} in `+(S-g)+`ms\n\tRemoved ${d} targets in `+(z-S)+`ms\n\tRemoved ${ze} documents in `+(Q-z)+`ms\nTotal Duration: ${Q-ye}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ze})))}}class Xv{constructor(e,t){this.db=e,this.garbageCollector=new Jv(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,l)=>t(l))}addReference(e,t,s){return Cf(e,s)}removeReference(e,t,s){return Cf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Cf(e,t)}Gn(e,t){return function(s,l){let d=!1;return Sm(s).tt(g=>Am(s,g,l).next(S=>(S&&(d=!0),xt.resolve(!S)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Kn(e,(g,S)=>{if(S<=t){const z=this.Gn(e,g).next(Q=>{if(!Q)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,Xn.min()),Ya(e).delete([0,Vo(g.path)])))});l.push(z)}}).next(()=>xt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Cf(e,t)}Kn(e,t){const s=Ya(e);let l,d=xs.at;return s.Z({index:"documentTargetsIndex"},([g,S],{path:z,sequenceNumber:Q})=>{0===g?(d!==xs.at&&t(new gn(Oa(l)),d),d=Q,l=z):d=xs.at}).next(()=>{d!==xs.at&&t(new gn(Oa(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(i,e){return Ya(i).put((s=i.currentSequenceNumber,{targetId:0,path:Vo(e.path),sequenceNumber:s}));var s}class e_{constructor(){this.changes=new Pl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?xt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e0{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return pl(e).put(s)}removeEntry(e,t,s){return pl(e).delete(function(l,d){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Ld(d),g[g.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=Gi.newInvalidDocument(t);return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Pc(t))},(l,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:Gi.newInvalidDocument(t)};return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Pc(t))},(l,d)=>{s={document:this.jn(t,d),size:$d(d)}}).next(()=>s)}getEntries(e,t){let s=Uo();return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);s=s.insert(l,g)}).next(()=>s)}Hn(e,t){let s=Uo(),l=new Ji(gn.comparator);return this.zn(e,t,(d,g)=>{const S=this.jn(d,g);s=s.insert(d,S),l=l.insert(d,$d(g))}).next(()=>({documents:s,Jn:l}))}zn(e,t,s){if(t.isEmpty())return xt.resolve();let l=new Br(zd);t.forEach(z=>l=l.add(z));const d=IDBKeyRange.bound(Pc(l.first()),Pc(l.last())),g=l.getIterator();let S=g.getNext();return pl(e).Z({index:"documentKeyIndex",range:d},(z,Q,ye)=>{const ze=gn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;S&&zd(S,ze)<0;)s(S,null),S=g.getNext();S&&S.isEqual(ze)&&(s(S,Q),S=g.hasNext()?g.getNext():null),S?ye.j(Pc(S)):ye.done()}).next(()=>{for(;S;)s(S,null),S=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,s){const l=[t.popLast().toArray(),t.lastSegment(),Ld(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).W(IDBKeyRange.bound(l,d,!0)).next(g=>{let S=Uo();for(const z of g){const Q=this.jn(gn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);S=S.insert(Q.key,Q)}return S})}getAllFromCollectionGroup(e,t,s,l){let d=Uo();const g=If(t,s),S=If(t,js.max());return pl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,S,!0)},(z,Q,ye)=>{const ze=this.jn(gn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);d=d.insert(ze.key,ze),d.size===l&&ye.done()}).next(()=>d)}newChangeBuffer(e){return new t0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fl(e).get("remoteDocumentGlobalKey").next(t=>(b(!!t),t))}Qn(e,t){return fl(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function qv(i,e){let t;if(e.document)t=im(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=gn.fromSegments(e.noDocument.path),l=uu(e.noDocument.readTime);t=Gi.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return w();{const s=gn.fromSegments(e.unknownDocument.path),l=uu(e.unknownDocument.version);t=Gi.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new wi(s[0],s[1]);return Xn.fromTimestamp(l)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Xn.min()))return s}return Gi.newInvalidDocument(e)}}function t_(i){return new e0(i)}class t0 extends e_{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Pl(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new Br((d,g)=>tr(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const S=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,S.readTime)),g.isValidDocument()){const z=yf(this.Yn.It,g);l=l.add(d.path.popLast()),s+=$d(z)-S.size,t.push(this.Yn.addEntry(e,d,z))}else if(s-=S.size,this.trackRemovals){const z=yf(this.Yn.It,g.convertToNoDocument(Xn.min()));t.push(this.Yn.addEntry(e,d,z))}}),l.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),xt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:l})=>(l.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function fl(i){return ao(i,"remoteDocumentGlobal")}function pl(i){return ao(i,"remoteDocumentsV14")}function Pc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function If(i,e){const t=e.documentKey.path.toArray();return[i,Ld(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zd(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(l=tr(t[d],s[d]),l)return l;return l=tr(t.length,s.length),l||(l=tr(t[t.length-2],s[s.length-2]),l||tr(t[t.length-1],s[s.length-1]))}class Rm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zd{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.getBaseDocument(e,t,s))).next(l=>(null!==s&&wc(s.mutation,l,Rs.empty(),wi.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,$r()).next(()=>s))}getLocalViewOfDocuments(e,t,s=$r()){const l=Ra();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(d=>{let g=$u();return d.forEach((S,z)=>{g=g.insert(S,z.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const s=Ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,$r()))}populateOverlays(e,t,s){const l=[];return s.forEach(d=>{t.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((g,S)=>{t.set(g,S)})})}computeViews(e,t,s,l){let d=Uo();const g=Ic(),S=Ic();return t.forEach((z,Q)=>{const ye=s.get(Q.key);l.has(Q.key)&&(void 0===ye||ye.mutation instanceof ul)?d=d.insert(Q.key,Q):void 0!==ye&&(g.set(Q.key,ye.mutation.getFieldMask()),wc(ye.mutation,Q,ye.mutation.getFieldMask(),wi.now()))}),this.recalculateAndSaveOverlays(e,d).next(z=>(z.forEach((Q,ye)=>g.set(Q,ye)),t.forEach((Q,ye)=>{var ze;return S.set(Q,new Rm(ye,null!==(ze=g.get(Q))&&void 0!==ze?ze:null))}),S))}recalculateAndSaveOverlays(e,t){const s=Ic();let l=new Ji((g,S)=>g-S),d=$r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const S of g)S.keys().forEach(z=>{const Q=t.get(z);if(null===Q)return;let ye=s.get(z)||Rs.empty();ye=S.applyToLocalView(Q,ye),s.set(z,ye);const ze=(l.get(S.batchId)||$r()).add(z);l=l.insert(S.batchId,ze)})}).next(()=>{const g=[],S=l.getReverseIterator();for(;S.hasNext();){const z=S.getNext(),Q=z.key,ye=z.value,ze=Jp();ye.forEach(At=>{if(!d.has(At)){const Ht=_d(t.get(At),s.get(At));null!==Ht&&ze.set(At,Ht),d=d.add(At)}}),g.push(this.documentOverlayCache.saveOverlays(e,Q,ze))}return xt.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return gn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(d=>{const g=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-d.size):xt.resolve(Ra());let S=-1,z=d;return g.next(Q=>xt.forEach(Q,(ye,ze)=>(S<ze.largestBatchId&&(S=ze.largestBatchId),d.get(ye)?xt.resolve():this.getBaseDocument(e,ye,ze).next(At=>{z=z.insert(ye,At)}))).next(()=>this.populateOverlays(e,Q,d)).next(()=>this.computeViews(e,z,Q,$r())).next(ye=>({batchId:S,changes:Qp(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(s=>{let l=$u();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let d=$u();return this.indexManager.getCollectionParents(e,l).next(g=>xt.forEach(g,S=>{const z=(Q=t,ye=S.child(l),new xa(ye,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ye;return this.getDocumentsMatchingCollectionQuery(e,z,s).next(Q=>{Q.forEach((ye,ze)=>{d=d.insert(ye,ze)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(d=>(l=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(d=>{d.forEach((S,z)=>{const Q=z.getKey();null===l.get(Q)&&(l=l.insert(Q,Gi.newInvalidDocument(Q)))});let g=$u();return l.forEach((S,z)=>{const Q=d.get(S);void 0!==Q&&wc(Q.mutation,z,Rs.empty(),wi.now()),ee(t,z)&&(g=g.insert(S,z))}),g})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):xt.resolve(Gi.newInvalidDocument(t))}}class n_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return xt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:po(s.createTime)}),xt.resolve()}getNamedQuery(e,t){return xt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Ud(s.bundledQuery),readTime:po(s.readTime)}),xt.resolve();var s}}class Ul{constructor(){this.overlays=new Ji(gn.comparator),this.es=new Map}getOverlay(e,t){return xt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ra();return xt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,d)=>{this.ue(e,t,d)}),xt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.es.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),xt.resolve()}getOverlaysForCollection(e,t,s){const l=Ra(),d=t.length+1,g=new gn(t.child("")),S=this.overlays.getIteratorFrom(g);for(;S.hasNext();){const z=S.getNext().value,Q=z.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===d&&z.largestBatchId>s&&l.set(z.getKey(),z)}return xt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let d=new Ji((Q,ye)=>Q-ye);const g=this.overlays.getIterator();for(;g.hasNext();){const Q=g.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let ye=d.get(Q.largestBatchId);null===ye&&(ye=Ra(),d=d.insert(Q.largestBatchId,ye)),ye.set(Q.getKey(),Q)}}const S=Ra(),z=d.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((Q,ye)=>S.set(Q,ye)),!(S.size()>=l)););return xt.resolve(S)}ue(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.es.get(l.largestBatchId).delete(s.key);this.es.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Fd(t,s));let d=this.es.get(t);void 0===d&&(d=$r(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class Wd{constructor(){this.ns=new Br(mo.ss),this.rs=new Br(mo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new mo(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new mo(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new gn(new qr([])),s=new mo(t,e),l=new mo(t,e+1),d=[];return this.rs.forEachInRange([s,l],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new gn(new qr([])),s=new mo(t,e),l=new mo(t,e+1);let d=$r();return this.rs.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new mo(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class mo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return gn.comparator(e.key,t.key)||tr(e._s,t._s)}static os(e,t){return tr(e._s,t._s)||gn.comparator(e.key,t.key)}}class Df{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Br(mo.ss)}checkEmpty(e){return xt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const d=this.ws;this.ws++;const g=new pf(d,t,s,l);this.mutationQueue.push(g);for(const S of l)this.gs=this.gs.add(new mo(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return xt.resolve(g)}lookupMutationBatch(e,t){return xt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),d=l<0?0:l;return xt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new mo(t,0),l=new mo(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,l],g=>{const S=this.ys(g._s);d.push(S)}),xt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Br(tr);return t.forEach(l=>{const d=new mo(l,0),g=new mo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],S=>{s=s.add(S._s)})}),xt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let d=s;gn.isDocumentKey(d)||(d=d.child(""));const g=new mo(new gn(d),0);let S=new Br(tr);return this.gs.forEachWhile(z=>{const Q=z.key.path;return!!s.isPrefixOf(Q)&&(Q.length===l&&(S=S.add(z._s)),!0)},g),xt.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(s=>{const l=this.ys(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){b(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return xt.forEach(t.mutations,l=>{const d=new mo(l.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new mo(t,0),l=this.gs.firstAfterOrEqual(s);return xt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return xt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class r_{constructor(e){this.Es=e,this.docs=new Ji(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),d=l?l.size:0,g=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return xt.resolve(s?s.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let s=Uo();return t.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():Gi.newInvalidDocument(l))}),xt.resolve(s)}getAllFromCollection(e,t,s){let l=Uo();const d=new gn(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:S,value:{document:z}}=g.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||Il(Ia(z),s)<=0||(l=l.insert(z.key,z.mutableCopy()))}return xt.resolve(l)}getAllFromCollectionGroup(e,t,s,l){w()}As(e,t){return xt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Pm(this)}getSize(e){return xt.resolve(this.size)}}class Pm extends e_{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(s)}),xt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class i_{constructor(e){this.persistence=e,this.Rs=new Pl(t=>Ma(t),au),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wd,this.targetCount=0,this.vs=Ku.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,l)=>t(l)),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),xt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,xt.resolve()}updateTargetData(e,t){return this.Dn(t),xt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,t,s){let l=0;const d=[];return this.Rs.forEach((g,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),xt.waitFor(d).next(()=>l)}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return xt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),xt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),xt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),xt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return xt.resolve(s)}containsKey(e,t){return xt.resolve(this.Ps.containsKey(t))}}class Om{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new xs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new i_(this),this.indexManager=new Im,this.remoteDocumentCache=new r_(s=>this.referenceDelegate.xs(s)),this.It=new gf(t),this.Ns=new n_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ul,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Df(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Yt("MemoryPersistence","Starting transaction:",e);const l=new Oc(this.Ss.next());return this.referenceDelegate.ks(),s(l).next(d=>this.referenceDelegate.Ms(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Os(e,t){return xt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Oc extends oo{constructor(e){super(),this.currentSequenceNumber=e}}class ml{constructor(e){this.persistence=e,this.Fs=new Wd,this.$s=null}static Bs(e){return new ml(e)}get Ls(){if(this.$s)return this.$s;throw w()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),xt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),xt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),xt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.Ls,s=>{const l=gn.fromPath(s);return this.Us(e,l).next(d=>{d||t.removeEntry(l,Xn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return xt.or([()=>xt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Tf{constructor(e){this.It=e}$(e,t,s,l){const d=new ra("createOrUpgrade",t);var S;s<1&&l>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xd,{unique:!0}),S.createObjectStore("documentMutations"),mu(e),function(S){S.createObjectStore("remoteDocuments")}(e));let g=xt.resolve();return s<3&&l>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),mu(e)),g=g.next(()=>function(S){const z=S.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",Q)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(S,z){return z.store("mutations").W().next(Q=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xd,{unique:!0});const ye=z.store("mutations"),ze=Q.map(At=>ye.put(At));return xt.waitFor(ze)})}(e,d))),g=g.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.qs(d))),s<6&&l>=6&&(g=g.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&l>=7&&(g=g.next(()=>this.Gs(d))),s<8&&l>=8&&(g=g.next(()=>this.Qs(e,d))),s<9&&l>=9&&(g=g.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.js(d))),s<11&&l>=11&&(g=g.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(S){const z=S.createObjectStore("documentOverlays",{keyPath:ym});z.createIndex("collectionPathOverlayIndex",Od,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",kd,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(S){const z=S.createObjectStore("remoteDocumentsV14",{keyPath:dm});z.createIndex("documentKeyIndex",lu),z.createIndex("collectionGroupIndex",hm)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.zs(e,d))),s<15&&l>=15&&(g=g.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:pm}).createIndex("sequenceNumberIndex",mm,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:gm}).createIndex("documentKeyIndex",uf,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,l)=>{t+=$d(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(l=>xt.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(S=>xt.forEach(S,z=>{b(z.userId===d.userId);const Q=cu(this.It,z);return Tm(e,d.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Z((g,S)=>{const z=new qr(g),Q=[0,Vo(z)];d.push(t.get(Q).next(ye=>ye?xt.resolve():t.put({targetId:0,path:Vo(z),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>xt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Yy});const s=t.store("collectionParents"),l=new xc,d=g=>{if(l.add(g)){const S=g.lastSegment(),z=g.popLast();return s.put({collectionId:S,parent:Vo(z)})}};return t.store("remoteDocuments").Z({X:!0},(g,S)=>{const z=new qr(g);return d(z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,S,z],Q)=>{const ye=Oa(S);return d(ye.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,l)=>{const d=Bo(l),g=_m(this.It,d);return t.put(g)})}Ws(e,t){const s=t.store("remoteDocuments"),l=[];return s.Z((d,g)=>{const S=t.store("remoteDocumentsV14"),z=(Q=g,Q.document?new gn(qr.fromString(Q.document.name).popFirst(5)):Q.noDocument?gn.fromSegments(Q.noDocument.path):Q.unknownDocument?gn.fromSegments(Q.unknownDocument.path):w()).path.toArray();var Q;const ye={prefixPath:z.slice(0,z.length-2),collectionGroup:z[z.length-2],documentId:z[z.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};l.push(S.put(ye))}).next(()=>xt.waitFor(l))}zs(e,t){const s=t.store("mutations"),l=t_(this.It),d=new Om(ml.Bs,this.It.re);return s.W().next(g=>{const S=new Map;return g.forEach(z=>{var Q;let ye=null!==(Q=S.get(z.userId))&&void 0!==Q?Q:$r();cu(this.It,z).keys().forEach(ze=>ye=ye.add(ze)),S.set(z.userId,ye)}),xt.forEach(S,(z,Q)=>{const ye=new Qi(Q),ze=Vd.oe(this.It,ye),At=d.getIndexManager(ye),Ht=Gd.oe(ye,this.It,At,d.referenceDelegate);return new Zd(l,Ht,ze,At).recalculateAndSaveOverlaysForDocumentKeys(new ff(t,xs.at),z).next()})})}}function mu(i){i.createObjectStore("targetDocuments",{keyPath:qy}).createIndex("documentTargetsIndex",Pd,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fm,{unique:!0}),i.createObjectStore("targetGlobal")}const gu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vl{constructor(e,t,s,l,d,g,S,z,Q,ye,ze=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=g,this.document=S,this.Js=Q,this.Ys=ye,this.Xs=ze,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=At=>Promise.resolve(),!Vl.C())throw new oe(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xv(this,l),this.ii=t+"main",this.It=new gf(z),this.ri=new xo(this.ii,this.Xs,new Tf(this.It)),this.Cs=new Mm(this.referenceDelegate,this.It),this.remoteDocumentCache=t_(this.It),this.Ns=new Qy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ye&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(W.FAILED_PRECONDITION,gu);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new xs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,De.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,De.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Nc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ta(e))return Yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return kc(e).get("owner").next(t=>xt.resolve(this.mi(t)))}gi(e){return Nc(e).delete(this.clientId)}yi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ao(s,"clientMetadata");return l.W().next(d=>{const g=e.Ii(d,18e5),S=d.filter(z=>-1===g.indexOf(z));return xt.forEach(S,z=>l.delete(z.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?xt.resolve(!0):kc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new oe(W.FAILED_PRECONDITION,gu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nc(e).W().next(s=>void 0===this.Ii(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,S=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new ff(t,xs.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Nc(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Gd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Dm(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Vd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Yt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?Sc:14===g?Nd:13===g?hf:12===g?df:11===g?cf:void w();var g;let S;return this.ri.runTransaction(e,l,d,z=>(S=new ff(z,this.Ss?this.Ss.next():xs.at),"readwrite-primary"===t?this.fi(S).next(Q=>!!Q||this.di(S)).next(Q=>{if(!Q)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new oe(W.FAILED_PRECONDITION,Mu);return s(S)}).next(Q=>this.wi(S).next(()=>Q)):this.Vi(S).next(()=>s(S)))).then(z=>(S.raiseOnCommittedEvent(),z))}Vi(e){return kc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(W.FAILED_PRECONDITION,gu)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kc(e).put("owner",t)}static C(){return xo.C()}_i(e){const t=kc(e);return t.get("owner").next(s=>this.mi(s)?(Yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):xt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ei(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ge.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Yt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ei("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kc(i){return ao(i,"owner")}function Nc(i){return ao(i,"clientMetadata")}function Kd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Fc{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=l}static Ci(e,t){let s=$r(),l=$r();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Fc(e,t.fromCache,s,l)}}class qd{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.ki(e,t).next(d=>d||this.Mi(e,t,l,s)).next(d=>d||this.Oi(e,t))}ki(e,t){if(Nu(t))return xt.resolve(null);let s=Wo(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=C(t,null,"F"),s=Wo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=$r(...d);return this.Ni.getDocuments(e,g).next(S=>this.indexManager.getMinOffset(e,s).next(z=>{const Q=this.Fi(t,S);return this.$i(t,Q,g,z.readTime)?this.ki(e,C(t,null,"F")):this.Bi(e,Q,t,z)}))})))}Mi(e,t,s,l){return Nu(t)||l.isEqual(Xn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,s,l)?this.Oi(e,t):(Va()<=ve.in.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),M(t)),this.Bi(e,g,t,Ms(l,-1)))})}Fi(e,t){let s=new Br(It(e));return t.forEach((l,d)=>{ee(e,d)&&(s=s.add(d))}),s}$i(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Oi(e,t){return Va()<=ve.in.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",M(t)),this.Ni.getDocumentsMatchingQuery(e,t,js.min())}Bi(e,t,s,l){return this.Ni.getDocumentsMatchingQuery(e,s,l).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class km{constructor(e,t,s,l){this.persistence=e,this.Li=t,this.It=l,this.Ui=new Ji(tr),this.qi=new Pl(d=>Ma(d),au),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Lc(i,e,t,s){return new km(i,e,t,s)}function Nm(i,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,De.Z)(function*(i,e){const t=B(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],S=[];let z=$r();for(const Q of l){g.push(Q.batchId);for(const ye of Q.mutations)z=z.add(ye.key)}for(const Q of d){S.push(Q.batchId);for(const ye of Q.mutations)z=z.add(ye.key)}return t.localDocuments.getDocuments(s,z).next(Q=>({ji:Q,removedBatchIds:g,addedBatchIds:S}))})})}),Yd.apply(this,arguments)}function n0(i,e){const t=B(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,S,z,Q){const ye=z.batch,ze=ye.keys();let At=xt.resolve();return ze.forEach(Ht=>{At=At.next(()=>Q.getEntry(S,Ht)).next(Zt=>{const wn=z.docVersions.get(Ht);b(null!==wn),Zt.version.compareTo(wn)<0&&(ye.applyToRemoteDocument(Zt,z),Zt.isValidDocument()&&(Zt.setReadTime(z.commitVersion),Q.addEntry(Zt)))})}),At.next(()=>g.mutationQueue.removeMutationBatch(S,ye))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let S=$r();for(let z=0;z<g.mutationResults.length;++z)g.mutationResults[z].transformResults.length>0&&(S=S.add(g.batch.mutations[z].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function Af(i){const e=B(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Fm(i,e){const t=B(i),s=e.snapshotVersion;let l=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.Ui;const S=[];e.targetChanges.forEach((ye,ze)=>{const At=l.get(ze);if(!At)return;S.push(t.Cs.removeMatchingKeys(d,ye.removedDocuments,ze).next(()=>t.Cs.addMatchingKeys(d,ye.addedDocuments,ze)));let Ht=At.withSequenceNumber(d.currentSequenceNumber);var Zt,wn,Zn;e.targetMismatches.has(ze)?Ht=Ht.withResumeToken($i.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):ye.resumeToken.approximateByteSize()>0&&(Ht=Ht.withResumeToken(ye.resumeToken,s)),l=l.insert(ze,Ht),wn=Ht,Zn=ye,(0===(Zt=At).resumeToken.approximateByteSize()||wn.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(d,Ht))});let z=Uo(),Q=$r();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(d,ye))}),S.push(Lm(d,g,e.documentUpdates).next(ye=>{z=ye.Wi,Q=ye.zi})),!s.isEqual(Xn.min())){const ye=t.Cs.getLastRemoteSnapshotVersion(d).next(ze=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));S.push(ye)}return xt.waitFor(S).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,z,Q)).next(()=>z)}).then(d=>(t.Ui=l,d))}function Lm(i,e,t){let s=$r(),l=$r();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=Uo();return t.forEach((S,z)=>{const Q=d.get(S);z.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(S)),z.isNoDocument()&&z.version.isEqual(Xn.min())?(e.removeEntry(S,z.readTime),g=g.insert(S,z)):!Q.isValidDocument()||z.version.compareTo(Q.version)>0||0===z.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(z),g=g.insert(S,z)):Yt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",Q.version," Watch version:",z.version)}),{Wi:g,zi:l}})}function Um(i,e){const t=B(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qu(i,e){const t=B(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Cs.getTargetData(s,e).next(d=>d?(l=d,xt.resolve(l)):t.Cs.allocateTargetId(s).next(g=>(l=new Ka(e,g,0,s.currentSequenceNumber),t.Cs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.Ui.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Yu(i,e,t){return jo.apply(this,arguments)}function jo(){return jo=(0,De.Z)(function*(i,e,t){const s=B(i),l=s.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Ta(g))throw g;Yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.Ui=s.Ui.remove(e),s.qi.delete(l.target)}),jo.apply(this,arguments)}function Qd(i,e,t){const s=B(i);let l=Xn.min(),d=$r();return s.persistence.runTransaction("Execute query","readonly",g=>function(S,z,Q){const ye=B(S),ze=ye.qi.get(Q);return void 0!==ze?xt.resolve(ye.Ui.get(ze)):ye.Cs.getTargetData(z,Q)}(s,g,Wo(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(g,S.targetId).next(z=>{d=z})}).next(()=>s.Li.getDocumentsMatchingQuery(g,e,t?l:Xn.min(),t?d:$r())).next(S=>(o_(s,we(e),S),{documents:S,Hi:d})))}function Vm(i,e){const t=B(i),s=B(t.Cs),l=t.Ui.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>s.se(d,e).next(g=>g?g.target:null))}function s_(i,e){const t=B(i),s=t.Ki.get(e)||Xn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Gi.getAllFromCollectionGroup(l,e,Ms(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(o_(t,e,l),l))}function o_(i,e,t){let s=Xn.min();t.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Ki.set(e,s)}function jm(){return jm=(0,De.Z)(function*(i,e,t,s){const l=B(i);let d=$r(),g=Uo();for(const Q of t){const ye=e.Ji(Q.metadata.name);Q.document&&(d=d.add(ye));const ze=e.Yi(Q);ze.setReadTime(e.Xi(Q.metadata.readTime)),g=g.insert(ye,ze)}const S=l.Gi.newChangeBuffer({trackRemovals:!0}),z=yield qu(l,(Q=s,Wo(Ml(qr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Lm(Q,S,g).next(ye=>(S.apply(Q),ye)).next(ye=>l.Cs.removeMatchingKeysForTargetId(Q,z.targetId).next(()=>l.Cs.addMatchingKeys(Q,d,z.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,ye.Wi,ye.zi)).next(()=>ye.Wi)))}),jm.apply(this,arguments)}function a_(i,e){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,De.Z)(function*(i,e,t=$r()){const s=yield qu(i,Wo(Ud(e.bundledQuery))),l=B(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=po(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Ns.saveNamedQuery(d,e);const S=s.withResumeToken($i.EMPTY_BYTE_STRING,g);return l.Ui=l.Ui.insert(S.targetId,S),l.Cs.updateTargetData(d,S).next(()=>l.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>l.Ns.saveNamedQuery(d,e))})}),Uc.apply(this,arguments)}function Sf(i,e){return`firestore_clients_${i}_${e}`}function Hm(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Mf(i,e){return`firestore_targets_${i}_${e}`}class Jd{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Zi(e,t,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new oe(l.error.code,l.error.message))),g?new Jd(e,t,l.state,d):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new oe(s.error.code,s.error.message))),d?new Qu(e,s.state,l):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=bd();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=pt(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new Xd(e,d):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eh(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xf{constructor(){this.activeTargetIds=bd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rf{constructor(e,t,s,l,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ji(tr),this.started=!1,this.cr=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Sf(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new xf),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.vi();for(const l of t){if(l===e.sr)continue;const d=e.getItem(Sf(e.persistenceKey,l));if(d){const g=Xd.Zi(l,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const l=e.yr(s);l&&e.pr(l)}for(const l of e.cr)e.rr(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Mf(this.persistenceKey,e));if(s){const l=Qu.Zi(e,s);l&&(t=l.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Mf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Er(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Yt("SharedClientState","READ",e,t),t}setItem(e,t){Yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Yt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const l=t.vr(s.key);return t.Vr(l,null)}{const l=t.Sr(s.key,s.newValue);if(l)return t.Vr(l.clientId,l)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const l=t.Dr(s.key,s.newValue);if(l)return t.Cr(l)}}else if(t._r.test(s.key)){if(null!==s.newValue){const l=t.Nr(s.key,s.newValue);if(l)return t.kr(l)}}else if(s.key===t.wr){if(null!==s.newValue){const l=t.yr(s.newValue);if(l)return t.pr(l)}}else if(s.key===t.hr){const l=function(d){let g=xs.at;if(null!=d)try{const S=JSON.parse(d);b("number"==typeof S),g=S}catch(S){Ei("SharedClientState","Failed to read sequence number from WebStorage",S)}return g}(s.newValue);l!==xs.at&&t.sequenceNumberHandler(l)}else if(s.key===t.mr){const l=t.Mr(s.newValue);yield Promise.all(l.map(d=>t.syncEngine.Or(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const l=new Jd(this.currentUser,e,t,s),d=Hm(this.persistenceKey,this.currentUser,e);this.setItem(d,l.tr())}Er(e){const t=Hm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const l=Mf(this.persistenceKey,e),d=new Qu(e,t,s);this.setItem(l,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Xd.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),l=Number(s[1]);return Jd.Zi(new Qi(void 0!==s[2]?s[2]:null),l,t)}Nr(e,t){const s=this._r.exec(e),l=Number(s[1]);return Qu.Zi(l,t)}yr(e){return eh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),l=this.Ir(this.ur),d=this.Ir(s),g=[],S=[];return d.forEach(z=>{l.has(z)||g.push(z)}),l.forEach(z=>{d.has(z)||S.push(z)}),this.syncEngine.Br(g,S).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=bd();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Pf{constructor(){this.Lr=new xf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xf,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $m{qr(e){}shutdown(){}}class Gm{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Qa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Of{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class l_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,l,d){const g=this.ao(e,t);Yt("RestConnection","Sending: ",g,s);const S={};return this.ho(S,l,d),this.lo(e,g,S,s).then(z=>(Yt("RestConnection","Received: ",z),z),z=>{throw co("RestConnection",`${e} failed with error: `,z,"url: ",g,"request:",s),z})}fo(e,t,s,l,d,g){return this.co(e,t,s,l,d)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),s&&s.headers.forEach((l,d)=>e[d]=l)}ao(e,t){return`${this.oo}/v1/${t}:${Qa[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,l){return new Promise((d,g)=>{const S=new $o;S.listenOnce(el.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case la.NO_ERROR:const Q=S.getResponseJson();Yt("Connection","XHR received:",JSON.stringify(Q)),d(Q);break;case la.TIMEOUT:Yt("Connection",'RPC "'+e+'" timed out'),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case la.HTTP_ERROR:const ye=S.getStatus();if(Yt("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",S.getResponseText()),ye>0){const ze=S.getResponseJson().error;if(ze&&ze.status&&ze.message){const At=function(Ht){const Zt=Ht.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Zt)>=0?Zt:W.UNKNOWN}(ze.status);g(new oe(At,ze.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+S.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:w()}}finally{Yt("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(l);S.send(t,"POST",z,s,15)})}_o(e,t,s){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qs(),g=So(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new Yi({})),this.ho(S.initMessageHeaders,t,s),(0,ge.uI)()||(0,ge.b$)()||(0,ge.d)()||(0,ge.w1)()||(0,ge.Mn)()||(0,ge.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const z=l.join("");Yt("Connection","Creating WebChannel: "+z,S);const Q=d.createWebChannel(z,S);let ye=!1,ze=!1;const At=new Of({Hr:Zt=>{ze?Yt("Connection","Not sending because WebChannel is closed:",Zt):(ye||(Yt("Connection","Opening WebChannel transport."),Q.open(),ye=!0),Yt("Connection","WebChannel sending:",Zt),Q.send(Zt))},Jr:()=>Q.close()}),Ht=(Zt,wn,Zn)=>{Zt.listen(wn,Yr=>{try{Zn(Yr)}catch(zi){setTimeout(()=>{throw zi},0)}})};return Ht(Q,No.EventType.OPEN,()=>{ze||Yt("Connection","WebChannel transport opened.")}),Ht(Q,No.EventType.CLOSE,()=>{ze||(ze=!0,Yt("Connection","WebChannel transport closed"),At.io())}),Ht(Q,No.EventType.ERROR,Zt=>{ze||(ze=!0,co("Connection","WebChannel transport errored:",Zt),At.io(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),Ht(Q,No.EventType.MESSAGE,Zt=>{var wn;if(!ze){const Zn=Zt.data[0];b(!!Zn);const Yr=Zn,zi=Yr.error||(null===(wn=Yr[0])||void 0===wn?void 0:wn.error);if(zi){Yt("Connection","WebChannel received error:",zi);const Ci=zi.status;let Ps=function(Pi){const so=Qs[Pi];if(void 0!==so)return vd(so)}(Ci),yi=zi.message;void 0===Ps&&(Ps=W.INTERNAL,yi="Unknown error status: "+Ci+" with message "+zi.message),ze=!0,At.io(new oe(Ps,yi)),Q.close()}else Yt("Connection","WebChannel received:",Zn),At.ro(Zn)}}),Ht(g,ua.STAT_EVENT,Zt=>{Zt.stat===ta.PROXY?Yt("Connection","Detected buffering proxy"):Zt.stat===ta.NOPROXY&&Yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{At.so()},0),At}}function zm(){return typeof window<"u"?window:null}function kf(){return typeof document<"u"?document:null}function Ju(i){return new jy(i,!0)}class Nf{constructor(e,t,s=1e3,l=1.5,d=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=l,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),l=Math.max(0,t-s);l>0&&Yt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Zm{constructor(e,t,s,l,d,g,S,z){this.Hs=e,this.Po=s,this.vo=l,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=S,this.listener=z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Nf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,De.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,De.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,De.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===W.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.So===t&&this.Go(s,l)},s=>{e(()=>{const l=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(l)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{s(()=>this.Qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,De.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u_ extends Zm{constructor(e,t,s,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,g),this.It=d}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Ac(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:w(),l=e.targetChange.targetIds||[],d=function(z,Q){return z.gt?(b(void 0===Q||"string"==typeof Q),$i.fromBase64String(Q||"")):(b(void 0===Q||Q instanceof Uint8Array),$i.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,S=g&&function(z){const Q=void 0===z.code?W.UNKNOWN:vd(z.code);return new oe(Q,z.message||"")}(g);t=new em(s,l,d,S||null)}else if("documentChange"in e){const s=e.documentChange,l=cl(i,s.document.name),d=po(s.document.updateTime),g=new fo({mapValue:{fields:s.document.fields}}),S=Gi.newFoundDocument(l,d,g);t=new Ed(s.targetIds||[],s.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const s=e.documentDelete,l=cl(i,s.document),d=s.readTime?po(s.readTime):Xn.min(),g=Gi.newNoDocument(l,d);t=new Ed([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=cl(i,s.document);t=new Ed([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return w();{const s=e.filter,d=new qp(s.count||0);t=new Xp(s.targetId,d)}}var z;return t}(this.It,e),s=function(l){if(!("targetChange"in l))return Xn.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Xn.min():d.readTime?po(d.readTime):Xn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=qo(this.It),t.addTarget=function(l,d){let g;const S=d.target;return g=Ru(S)?{documents:Ad(l,S)}:{query:lf(l,S)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=rm(l,d.resumeToken):d.snapshotVersion.compareTo(Xn.min())>0&&(g.readTime=Tc(l,d.snapshotVersion.toTimestamp())),g}(this.It,e);const s=function zu(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return w()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=qo(this.It),t.removeTarget=e,this.Bo(t)}}class Ff extends Zm{constructor(e,t,s,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function af(i,e){return i&&i.length>0?(b(void 0!==e),i.map(t=>function(s,l){let d=po(s.updateTime?s.updateTime:l);return d.isEqual(Xn.min())&&(d=po(l)),new Ec(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=po(e.commitTime);return this.listener.Zo(s,t)}return b(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=qo(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Gu(this.It,s))};this.Bo(t)}}class c_ extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=l,this.nu=!1}su(){if(this.nu)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.Vo.co(e,t,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(W.UNKNOWN,l.toString())})}fo(e,t,s,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,t,s,d,g,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(W.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class d_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ei(t),this.ou=!1):Yt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class th{constructor(e,t,s,l,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(S=>{s.enqueueAndForget((0,De.Z)(function*(){var z;gl(g)&&(Yt("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,De.Z)(function*(Q){const ye=B(Q);ye._u.add(4),yield Bl(ye),ye.gu.set("Unknown"),ye._u.delete(4),yield yu(ye)}),function(Q){return z.apply(this,arguments)})(g))}))}),this.gu=new d_(s,l)}}function yu(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,De.Z)(function*(i){if(gl(i))for(const e of i.wu)yield e(!0)}),Lf.apply(this,arguments)}function Bl(i){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,De.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Vc.apply(this,arguments)}function Bc(i,e){const t=B(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Vf(t)?Wm(t):Xu(t).ko()&&Uf(t,e))}function jc(i,e){const t=B(i),s=Xu(t);t.du.delete(e),s.ko()&&nh(t,e),0===t.du.size&&(s.ko()?s.Fo():gl(t)&&t.gu.set("Unknown"))}function Uf(i,e){i.yu.Ot(e.targetId),Xu(i).zo(e)}function nh(i,e){i.yu.Ot(e),Xu(i).Ho(e)}function Wm(i){i.yu=new Uy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Xu(i).start(),i.gu.uu()}function Vf(i){return gl(i)&&!Xu(i).No()&&i.du.size>0}function gl(i){return 0===B(i)._u.size}function Bf(i){i.yu=void 0}function Km(i){return rh.apply(this,arguments)}function rh(){return rh=(0,De.Z)(function*(i){i.du.forEach((e,t)=>{Uf(i,e)})}),rh.apply(this,arguments)}function qm(i,e){return Na.apply(this,arguments)}function Na(){return Na=(0,De.Z)(function*(i,e){Bf(i),Vf(i)?(i.gu.hu(e),Wm(i)):i.gu.set("Unknown")}),Na.apply(this,arguments)}function ih(i,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,De.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof em&&2===e.state&&e.cause)try{yield(s=(0,De.Z)(function*(l,d){const g=d.cause;for(const S of d.targetIds)l.du.has(S)&&(yield l.remoteSyncer.rejectListen(S,g),l.du.delete(S),l.yu.removeTarget(S))}),function(l,d){return s.apply(this,arguments)})(i,e)}catch(s){Yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield sh(i,s)}else if(e instanceof Ed?i.yu.Gt(e):e instanceof Xp?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(Xn.min()))try{const s=yield Af(i.localStore);t.compareTo(s)>=0&&(yield function(l,d){const g=l.yu.te(d);return g.targetChanges.forEach((S,z)=>{if(S.resumeToken.approximateByteSize()>0){const Q=l.du.get(z);Q&&l.du.set(z,Q.withResumeToken(S.resumeToken,d))}}),g.targetMismatches.forEach(S=>{const z=l.du.get(S);if(!z)return;l.du.set(S,z.withResumeToken($i.EMPTY_BYTE_STRING,z.snapshotVersion)),nh(l,S);const Q=new Ka(z.target,S,1,z.sequenceNumber);Uf(l,Q)}),l.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(s){Yt("RemoteStore","Failed to raise snapshot:",s),yield sh(i,s)}var s}),jf.apply(this,arguments)}function sh(i,e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,De.Z)(function*(i,e,t){if(!Ta(e))throw e;i._u.add(1),yield Bl(i),i.gu.set("Offline"),t||(t=()=>Af(i.localStore)),i.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Yt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield yu(i)}))}),Ym.apply(this,arguments)}function oh(i,e){return e().catch(t=>sh(i,t,e))}function _u(i){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,De.Z)(function*(i){const e=B(i),t=$l(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;$c(e);)try{const l=yield Um(e.localStore,s);if(null===l){0===e.fu.length&&t.Fo();break}s=l.batchId,h_(e,l)}catch(l){yield sh(e,l)}ah(e)&&Hf(e)}),Hc.apply(this,arguments)}function $c(i){return gl(i)&&i.fu.length<10}function h_(i,e){i.fu.push(e);const t=$l(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ah(i){return gl(i)&&!$l(i).No()&&i.fu.length>0}function Hf(i){$l(i).start()}function Qm(i){return lh.apply(this,arguments)}function lh(){return lh=(0,De.Z)(function*(i){$l(i).eu()}),lh.apply(this,arguments)}function f_(i){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,De.Z)(function*(i){const e=$l(i);for(const t of i.fu)e.Xo(t.mutations)}),Gc.apply(this,arguments)}function p_(i,e,t){return $f.apply(this,arguments)}function $f(){return $f=(0,De.Z)(function*(i,e,t){const s=i.fu.shift(),l=mf.from(s,e,t);yield oh(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield _u(i)}),$f.apply(this,arguments)}function Jm(i,e){return jl.apply(this,arguments)}function jl(){return jl=(0,De.Z)(function*(i,e){var t;e&&$l(i).Yo&&(yield(t=(0,De.Z)(function*(s,l){if(Hu(d=l.code)&&d!==W.ABORTED){const g=s.fu.shift();$l(s).Oo(),yield oh(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield _u(s)}var d}),function(s,l){return t.apply(this,arguments)})(i,e)),ah(i)&&Hf(i)}),jl.apply(this,arguments)}function Gf(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,De.Z)(function*(i,e){const t=B(i);t.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const s=gl(t);t._u.add(3),yield Bl(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield yu(t)}),zf.apply(this,arguments)}function Zf(i,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,De.Z)(function*(i,e){const t=B(i);e?(t._u.delete(2),yield yu(t)):e||(t._u.add(2),yield Bl(t),t.gu.set("Unknown"))}),Hl.apply(this,arguments)}function Xu(i){return i.pu||(i.pu=function(e,t,s){const l=B(e);return l.su(),new u_(t,l.Vo,l.authCredentials,l.appCheckCredentials,l.It,s)}(i.datastore,i.asyncQueue,{Yr:Km.bind(null,i),Zr:qm.bind(null,i),Wo:ih.bind(null,i)}),i.wu.push(function(){var e=(0,De.Z)(function*(t){t?(i.pu.Oo(),Vf(i)?Wm(i):i.gu.set("Unknown")):(yield i.pu.stop(),Bf(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function $l(i){return i.Iu||(i.Iu=function(e,t,s){const l=B(e);return l.su(),new Ff(t,l.Vo,l.authCredentials,l.appCheckCredentials,l.It,s)}(i.datastore,i.asyncQueue,{Yr:Qm.bind(null,i),Zr:Jm.bind(null,i),tu:f_.bind(null,i),Zo:p_.bind(null,i)}),i.wu.push(function(){var e=(0,De.Z)(function*(t){t?(i.Iu.Oo(),yield _u(i)):(yield i.Iu.stop(),i.fu.length>0&&(Yt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Wf{constructor(e,t,s,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,s,l,d){const g=Date.now()+s,S=new Wf(e,t,g,l,d);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),Ta(i))return new oe(W.UNAVAILABLE,`${e}: ${i}`);throw i}class Po{constructor(e){this.comparator=e?(t,s)=>e(t,s)||gn.comparator(t.key,s.key):(t,s)=>gn.comparator(t.key,s.key),this.keyedMap=$u(),this.sortedSet=new Ji(this.comparator)}static emptySet(e){return new Po(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class uh{constructor(){this.Tu=new Ji(gn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):w():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class vu{constructor(e,t,s,l,d,g,S,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=S,this.excludesMetadataChanges=z}static fromInitialDocuments(e,t,s,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new vu(e,t,Po.emptySet(t),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class Xm{constructor(){this.Au=void 0,this.listeners=[]}}class eg{constructor(){this.queries=new Pl(e=>m(e),f),this.onlineState="Unknown",this.Ru=new Set}}function ch(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,De.Z)(function*(i,e){const t=B(i),s=e.query;let l=!1,d=t.queries.get(s);if(d||(l=!0,d=new Xm),l)try{d.Au=yield t.onListen(s)}catch(g){const S=ec(g,`Initialization of query '${M(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&ng(t)}),Kf.apply(this,arguments)}function qf(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,De.Z)(function*(i,e){const t=B(i),s=e.query;let l=!1;const d=t.queries.get(s);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Yf.apply(this,arguments)}function m_(i,e){const t=B(i);let s=!1;for(const l of e){const g=t.queries.get(l.query);if(g){for(const S of g.listeners)S.Pu(l)&&(s=!0);g.Au=l}}s&&ng(t)}function tg(i,e,t){const s=B(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);s.queries.delete(e)}function ng(i){i.Ru.forEach(e=>{e.next()})}class dh{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new vu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class g_{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class rg{constructor(e){this.It=e}Ji(e){return cl(this.It,e)}Yi(e){return e.metadata.exists?im(this.It,e.document,!1):Gi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return po(e)}}class r0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=y_(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=qr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new rg(this.It);for(const l of e)if(l.metadata.queries){const d=s.Ji(l.metadata.name);for(const g of l.metadata.queries){const S=(t.get(g)||$r()).add(d);t.set(g,S)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function Bm(i,e,t,s){return jm.apply(this,arguments)}(e.localStore,new rg(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const l of e.queries)yield a_(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function y_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class hh{constructor(e){this.key=e}}class ig{constructor(e){this.key=e}}class Qf{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=$r(),this.mutatedKeys=$r(),this.Ku=It(e),this.Gu=new Po(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new uh,l=t?t.Gu:this.Gu;let d=t?t.mutatedKeys:this.mutatedKeys,g=l,S=!1;const z="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ye,ze)=>{const At=l.get(ye),Ht=ee(this.query,ze)?ze:null,Zt=!!At&&this.mutatedKeys.has(At.key),wn=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let Zn=!1;At&&Ht?At.data.isEqual(Ht.data)?Zt!==wn&&(s.track({type:3,doc:Ht}),Zn=!0):this.zu(At,Ht)||(s.track({type:2,doc:Ht}),Zn=!0,(z&&this.Ku(Ht,z)>0||Q&&this.Ku(Ht,Q)<0)&&(S=!0)):!At&&Ht?(s.track({type:0,doc:Ht}),Zn=!0):At&&!Ht&&(s.track({type:1,doc:At}),Zn=!0,(z||Q)&&(S=!0)),Zn&&(Ht?(g=g.add(Ht),d=wn?d.add(ye):d.delete(ye)):(g=g.delete(ye),d=d.delete(ye)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ye="F"===this.query.limitType?g.last():g.first();g=g.delete(ye.key),d=d.delete(ye.key),s.track({type:1,doc:ye})}return{Gu:g,Wu:s,$i:S,mutatedKeys:d}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((Q,ye)=>function(ze,At){const Ht=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return w()}};return Ht(ze)-Ht(At)}(Q.type,ye.type)||this.Ku(Q.doc,ye.doc)),this.Hu(s);const g=t?this.Ju():[],S=0===this.qu.size&&this.current?1:0,z=S!==this.Uu;return this.Uu=S,0!==d.length||z?{snapshot:new vu(this.query,e.Gu,l,d,e.mutatedKeys,0===S,z,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=$r(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new ig(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new hh(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=$r();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return vu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class sg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class s0{constructor(e){this.key=e,this.ec=!1}}class Fa{constructor(e,t,s,l,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new Pl(S=>m(S),f),this.ic=new Map,this.rc=new Set,this.oc=new Ji(gn.comparator),this.uc=new Map,this.cc=new Wd,this.ac={},this.hc=new Map,this.lc=Ku.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function o0(i,e){return og.apply(this,arguments)}function og(){return og=(0,De.Z)(function*(i,e){const t=Ch(i);let s,l;const d=t.sc.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),l=d.view.tc();else{const g=yield qu(t.localStore,Wo(e));t.isPrimaryClient&&Bc(t.remoteStore,g);const S=t.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield fh(t,e,s,"current"===S)}return l}),og.apply(this,arguments)}function fh(i,e,t,s){return ph.apply(this,arguments)}function ph(){return ph=(0,De.Z)(function*(i,e,t,s){i.dc=(ye,ze,At)=>{return(Ht=(0,De.Z)(function*(Zt,wn,Zn,Yr){let zi=wn.view.ju(Zn);zi.$i&&(zi=yield Qd(Zt.localStore,wn.query,!1).then(({documents:yi})=>wn.view.ju(yi,zi)));const Ci=Yr&&Yr.targetChanges.get(wn.targetId),Ps=wn.view.applyChanges(zi,Zt.isPrimaryClient,Ci);return zc(Zt,wn.targetId,Ps.Yu),Ps.snapshot}),function(Zt,wn,Zn,Yr){return Ht.apply(this,arguments)})(i,ye,ze,At);var Ht};const l=yield Qd(i.localStore,e,!0),d=new Qf(e,l.Hi),g=d.ju(l.documents),S=Ol.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),z=d.applyChanges(g,i.isPrimaryClient,S);zc(i,t,z.Yu);const Q=new sg(e,t,d);return i.sc.set(e,Q),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),z.snapshot}),ph.apply(this,arguments)}function ag(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,De.Z)(function*(i,e){const t=B(i),s=t.sc.get(e),l=t.ic.get(s.targetId);if(l.length>1)return t.ic.set(s.targetId,l.filter(d=>!f(d,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Yu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),jc(t.remoteStore,s.targetId),tc(t,s.targetId)}).catch(Cs))):(tc(t,s.targetId),yield Yu(t.localStore,s.targetId,!0))}),Jf.apply(this,arguments)}function mh(){return mh=(0,De.Z)(function*(i,e,t){const s=Ih(i);try{const l=yield function(d,g){const S=B(d),z=wi.now(),Q=g.reduce((At,Ht)=>At.add(Ht.key),$r());let ye,ze;return S.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Ht=Uo(),Zt=$r();return S.Gi.getEntries(At,Q).next(wn=>{Ht=wn,Ht.forEach((Zn,Yr)=>{Yr.isValidDocument()||(Zt=Zt.add(Zn))})}).next(()=>S.localDocuments.getOverlayedDocuments(At,Ht)).next(wn=>{ye=wn;const Zn=[];for(const Yr of g){const zi=Oy(Yr,ye.get(Yr.key).overlayedDocument);null!=zi&&Zn.push(new ul(Yr.key,zi,su(zi.value.mapValue),Rr.exists(!0)))}return S.mutationQueue.addMutationBatch(At,z,Zn,g)}).next(wn=>{ze=wn;const Zn=wn.applyToLocalDocumentSet(ye,Zt);return S.documentOverlayCache.saveOverlays(At,wn.batchId,Zn)})}).then(()=>({batchId:ze.batchId,changes:Qp(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,S){let z=d.ac[d.currentUser.toKey()];z||(z=new Ji(tr)),z=z.insert(g,S),d.ac[d.currentUser.toKey()]=z}(s,l.batchId,t),yield Is(s,l.changes),yield _u(s.remoteStore)}catch(l){const d=ec(l,"Failed to persist write");t.reject(d)}}),mh.apply(this,arguments)}function gh(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,De.Z)(function*(i,e){const t=B(i);try{const s=yield Fm(t.localStore,e);e.targetChanges.forEach((l,d)=>{const g=t.uc.get(d);g&&(b(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.ec=!0:l.modifiedDocuments.size>0?b(g.ec):l.removedDocuments.size>0&&(b(g.ec),g.ec=!1))}),yield Is(t,s,e)}catch(s){yield Cs(s)}}),Xf.apply(this,arguments)}function yh(i,e,t){const s=B(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.sc.forEach((d,g)=>{const S=g.view.bu(e);S.snapshot&&l.push(S.snapshot)}),function(d,g){const S=B(d);S.onlineState=g;let z=!1;S.queries.forEach((Q,ye)=>{for(const ze of ye.listeners)ze.bu(g)&&(z=!0)}),z&&ng(S)}(s.eventManager,e),l.length&&s.nc.Wo(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function __(i,e,t){return ep.apply(this,arguments)}function ep(){return ep=(0,De.Z)(function*(i,e,t){const s=B(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.uc.get(e),d=l&&l.key;if(d){let g=new Ji(gn.comparator);g=g.insert(d,Gi.newNoDocument(d,Xn.min()));const S=$r().add(d),z=new Dc(Xn.min(),new Map,new Br(tr),g,S);yield gh(s,z),s.oc=s.oc.remove(d),s.uc.delete(e),Eu(s)}else yield Yu(s.localStore,e,!1).then(()=>tc(s,e,t)).catch(Cs)}),ep.apply(this,arguments)}function v_(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,De.Z)(function*(i,e){const t=B(i),s=e.batch.batchId;try{const l=yield n0(t.localStore,e);bu(t,s,null),rp(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Is(t,l)}catch(l){yield Cs(l)}}),tp.apply(this,arguments)}function b_(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,De.Z)(function*(i,e,t){const s=B(i);try{const l=yield function(d,g){const S=B(d);return S.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let Q;return S.mutationQueue.lookupMutationBatch(z,g).next(ye=>(b(null!==ye),Q=ye.keys(),S.mutationQueue.removeMutationBatch(z,ye))).next(()=>S.mutationQueue.performConsistencyCheck(z)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(z,Q,g)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,Q)).next(()=>S.localDocuments.getDocuments(z,Q))})}(s.localStore,e);bu(s,e,t),rp(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Is(s,l)}catch(l){yield Cs(l)}}),np.apply(this,arguments)}function Gl(){return Gl=(0,De.Z)(function*(i,e){const t=B(i);gl(t.remoteStore)||Yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=B(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>g.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const l=t.hc.get(s)||[];l.push(e),t.hc.set(s,l)}catch(s){const l=ec(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Gl.apply(this,arguments)}function rp(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function bu(i,e,t){const s=B(i);let l=s.ac[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),s.ac[s.currentUser.toKey()]=l}}function tc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ic.get(e))i.sc.delete(s),t&&i.nc._c(s,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(s=>{i.cc.containsKey(s)||lg(i,s)})}function lg(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(jc(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Eu(i))}function zc(i,e,t){for(const s of t)s instanceof hh?(i.cc.addReference(s.key,e),Ja(i,s)):s instanceof ig?(Yt("SyncEngine","Document no longer in limbo: "+s.key),i.cc.removeReference(s.key,e),i.cc.containsKey(s.key)||lg(i,s.key)):w()}function Ja(i,e){const t=e.key,s=t.path.canonicalString();i.oc.get(t)||i.rc.has(s)||(Yt("SyncEngine","New document in limbo: "+t),i.rc.add(s),Eu(i))}function Eu(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new gn(qr.fromString(e)),s=i.lc.next();i.uc.set(s,new s0(t)),i.oc=i.oc.insert(t,s),Bc(i.remoteStore,new Ka(Wo(Ml(t.path)),s,2,xs.at))}}function Is(i,e,t){return yl.apply(this,arguments)}function yl(){return yl=(0,De.Z)(function*(i,e,t){const s=B(i),l=[],d=[],g=[];var S;s.sc.isEmpty()||(s.sc.forEach((S,z)=>{g.push(s.dc(z,e,t).then(Q=>{if(Q){s.isPrimaryClient&&s.sharedClientState.updateQueryState(z.targetId,Q.fromCache?"not-current":"current"),l.push(Q);const ye=Fc.Ci(z.targetId,Q);d.push(ye)}}))}),yield Promise.all(g),s.nc.Wo(l),yield(S=(0,De.Z)(function*(z,Q){const ye=B(z);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>xt.forEach(Q,At=>xt.forEach(At.Si,Ht=>ye.persistence.referenceDelegate.addReference(ze,At.targetId,Ht)).next(()=>xt.forEach(At.Di,Ht=>ye.persistence.referenceDelegate.removeReference(ze,At.targetId,Ht)))))}catch(ze){if(!Ta(ze))throw ze;Yt("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of Q){const At=ze.targetId;if(!ze.fromCache){const Ht=ye.Ui.get(At),wn=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);ye.Ui=ye.Ui.insert(At,wn)}}}),function(z,Q){return S.apply(this,arguments)})(s.localStore,d))}),yl.apply(this,arguments)}function vh(i,e){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,De.Z)(function*(i,e){const t=B(i);if(!t.currentUser.isEqual(e)){Yt("SyncEngine","User change. New user:",e.toKey());const s=yield Nm(t.localStore,e);t.currentUser=e,(l=t).hc.forEach(g=>{g.forEach(S=>{S.reject(new oe(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Is(t,s.ji)}var l}),Yo.apply(this,arguments)}function ip(i,e){const t=B(i),s=t.uc.get(e);if(s&&s.ec)return $r().add(s.key);{let l=$r();const d=t.ic.get(e);if(!d)return l;for(const g of d){const S=t.sc.get(g);l=l.unionWith(S.view.Qu)}return l}}function nc(i,e){return zl.apply(this,arguments)}function zl(){return zl=(0,De.Z)(function*(i,e){const t=B(i),s=yield Qd(t.localStore,e.query,!0),l=e.view.Zu(s);return t.isPrimaryClient&&zc(t,e.targetId,l.Yu),l}),zl.apply(this,arguments)}function rc(i,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,De.Z)(function*(i,e){const t=B(i);return s_(t.localStore,e).then(s=>Is(t,s))}),Zl.apply(this,arguments)}function ic(i,e,t,s){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,De.Z)(function*(i,e,t,s){const l=B(i),d=yield function(g,S){const z=B(g),Q=B(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",ye=>Q.Tn(ye,S).next(ze=>ze?z.localDocuments.getDocuments(ye,ze):xt.resolve(null)))}(l.localStore,e);var S;null!==d?("pending"===t?yield _u(l.remoteStore):"acknowledged"===t||"rejected"===t?(bu(l,e,s||null),rp(l,e),S=e,B(B(l.localStore).mutationQueue).An(S)):w(),yield Is(l,d)):Yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wl.apply(this,arguments)}function Kl(){return Kl=(0,De.Z)(function*(i,e){const t=B(i);if(Ch(t),Ih(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield wu(t,s.toArray());t.fc=!0,yield Zf(t.remoteStore,!0);for(const d of l)Bc(t.remoteStore,d)}else if(!1===e&&!1!==t.fc){const s=[];let l=Promise.resolve();t.ic.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(tc(t,g),Yu(t.localStore,g,!0))),jc(t.remoteStore,g)}),yield l,yield wu(t,s),function(d){const g=B(d);g.uc.forEach((S,z)=>{jc(g.remoteStore,z)}),g.cc.fs(),g.uc=new Map,g.oc=new Ji(gn.comparator)}(t),t.fc=!1,yield Zf(t.remoteStore,!1)}}),Kl.apply(this,arguments)}function wu(i,e,t){return bh.apply(this,arguments)}function bh(){return bh=(0,De.Z)(function*(i,e,t){const s=B(i),l=[],d=[];for(const g of e){let S;const z=s.ic.get(g);if(z&&0!==z.length){S=yield qu(s.localStore,Wo(z[0]));for(const Q of z){const ye=s.sc.get(Q),ze=yield nc(s,ye);ze.snapshot&&d.push(ze.snapshot)}}else{const Q=yield Vm(s.localStore,g);S=yield qu(s.localStore,Q),yield fh(s,sp(Q),g,!1)}l.push(S)}return s.nc.Wo(d),l}),bh.apply(this,arguments)}function sp(i){return ku(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ug(i){const e=B(i);return B(B(e.localStore).persistence).vi()}function cg(i,e,t,s){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,De.Z)(function*(i,e,t,s){const l=B(i);if(l.fc)return void Yt("SyncEngine","Ignoring unexpected query state notification.");const d=l.ic.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield s_(l.localStore,we(d[0])),S=Dc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Is(l,g,S);break}case"rejected":yield Yu(l.localStore,e,!0),tc(l,e,s);break;default:w()}}),Eh.apply(this,arguments)}function dg(i,e,t){return wh.apply(this,arguments)}function wh(){return wh=(0,De.Z)(function*(i,e,t){const s=Ch(i);if(s.fc){for(const l of e){if(s.ic.has(l)){Yt("SyncEngine","Adding an already active target "+l);continue}const d=yield Vm(s.localStore,l),g=yield qu(s.localStore,d);yield fh(s,sp(d),g.targetId,!1),Bc(s.remoteStore,g)}for(const l of t)s.ic.has(l)&&(yield Yu(s.localStore,l,!1).then(()=>{jc(s.remoteStore,l),tc(s,l)}).catch(Cs))}}),wh.apply(this,arguments)}function Ch(i){const e=B(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ip.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__.bind(null,e),e.nc.Wo=m_.bind(null,e.eventManager),e.nc._c=tg.bind(null,e.eventManager),e}function Ih(i){const e=B(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b_.bind(null,e),e}class op{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.It=Ju(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Lc(this.persistence,new qd,e.initialUser,this.It)}gc(e){return new Om(ml.Bs,this.It)}mc(e){return new Pf}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hg extends op{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,De.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield Ih(s.Ec.syncEngine),yield _u(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Lc(this.persistence,new qd,e.initialUser,this.It)}Ic(e,t){return new Qv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new xu(t,this.persistence);return new pa(e.asyncQueue,s)}gc(e){const t=Kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new Vl(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,zm(),kf(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Pf}}class fg extends hg{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,De.Z)(function*(){yield t().call(s,e);const l=s.Ec.syncEngine;s.sharedClientState instanceof Rf&&(s.sharedClientState.syncEngine={Fr:ic.bind(null,l),$r:cg.bind(null,l),Br:dg.bind(null,l),vi:ug.bind(null,l),Or:rc.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,De.Z)(function*(g){yield function sc(i,e){return Kl.apply(this,arguments)}(s.Ec.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const t=zm();if(!Rf.C(t))throw new oe(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Dh{initialize(e,t){var s=this;return(0,De.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>yh(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=vh.bind(null,s.syncEngine),yield Zf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eg}createDatastore(e){const t=Ju(e.databaseInfo.databaseId),s=new l_(e.databaseInfo);return new c_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,d=S=>yh(this.syncEngine,S,0),g=Gm.C()?new Gm:new $m,new th(t,s,l,d,g);var t,s,l,d,g}createSyncEngine(e,t){return function(s,l,d,g,S,z,Q){const ye=new Fa(s,l,d,g,S,z);return Q&&(ye.fc=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const s=B(t);Yt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Bl(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pg(i,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mg{constructor(e,t){this.bc=e,this.It=t,this.metadata=new je,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),l=Number(s);isNaN(l)&&e.Sc(`length string (${s}) is not valid number`);const d=yield e.Dc(l);return new g_(JSON.parse(d),t.length+l)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,De.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,De.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class w_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new oe(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,De.Z)(function*(d,g){const S=B(d),z=qo(S.It)+"/documents",Q={documents:g.map(Ht=>wd(S.It,Ht))},ye=yield S.fo("BatchGetDocuments",z,Q,g.length),ze=new Map;ye.forEach(Ht=>{const Zt=function sm(i,e){return"found"in e?function(t,s){b(!!s.found);const l=cl(t,s.found.name),d=po(s.found.updateTime),g=new fo({mapValue:{fields:s.found.fields}});return Gi.newFoundDocument(l,d,g)}(i,e):"missing"in e?function(t,s){b(!!s.missing),b(!!s.readTime);const l=cl(t,s.missing),d=po(s.readTime);return Gi.newNoDocument(l,d)}(i,e):w()}(S.It,Ht);ze.set(Zt.key.toString(),Zt)});const At=[];return g.forEach(Ht=>{const Zt=ze.get(Ht.toString());b(!!Zt),At.push(Zt)}),At}),function(d,g){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const d=gn.fromPath(l);e.mutations.push(new Cc(d,e.precondition(d)))}),yield(s=(0,De.Z)(function*(l,d){const g=B(l),S=qo(g.It)+"/documents",z={writes:d.map(Q=>Gu(g.It,Q))};yield g.co("Commit",S,z)}),function(l,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw w();t=Xn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new oe(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xn.min())?Rr.exists(!1):Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xn.min()))throw new oe(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gg{constructor(e,t,s,l,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=d,this.Nc=s.maxAttempts,this.xo=new Nf(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,De.Z)(function*(){const t=new w_(e.datastore),s=e.Mc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Oc(d)}))}).catch(l=>{e.Oc(l)})}))}Mc(e){try{const t=this.updateFunction(e);return!ie(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Hu(t)}return!1}}class C_{constructor(e,t,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Qi.UNAUTHENTICATED,this.clientId=Ys.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,De.Z)(function*(S){Yt("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Yt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=ec(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function yg(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,De.Z)(function*(d){s.isEqual(d)||(yield Nm(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),_g.apply(this,arguments)}function vg(i,e){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Wc(i);Yt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Gf(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>Gf(e.remoteStore,d)),i.onlineComponents=e}),Zc.apply(this,arguments)}function Wc(i){return ap.apply(this,arguments)}function ap(){return ap=(0,De.Z)(function*(i){return i.offlineComponents||(Yt("FirestoreClient","Using default OfflineComponentProvider"),yield yg(i,new op)),i.offlineComponents}),ap.apply(this,arguments)}function lp(i){return bg.apply(this,arguments)}function bg(){return bg=(0,De.Z)(function*(i){return i.onlineComponents||(Yt("FirestoreClient","Using default OnlineComponentProvider"),yield vg(i,new Dh)),i.onlineComponents}),bg.apply(this,arguments)}function I_(i){return Wc(i).then(e=>e.persistence)}function Ah(i){return Wc(i).then(e=>e.localStore)}function up(i){return lp(i).then(e=>e.remoteStore)}function Eg(i){return lp(i).then(e=>e.syncEngine)}function oc(i){return ql.apply(this,arguments)}function ql(){return ql=(0,De.Z)(function*(i){const e=yield lp(i),t=e.eventManager;return t.onListen=o0.bind(null,e.syncEngine),t.onUnlisten=ag.bind(null,e.syncEngine),t}),ql.apply(this,arguments)}function cp(i,e,t={}){const s=new je;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(l,d,g,S,z){const Q=new Th({next:ze=>{d.enqueueAndForget(()=>qf(l,ye));const At=ze.docs.has(g);!At&&ze.fromCache?z.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&ze.fromCache&&S&&"server"===S.source?z.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(ze)},error:ze=>z.reject(ze)}),ye=new dh(Ml(g.path),Q,{includeMetadataChanges:!0,Nu:!0});return ch(l,ye)}(yield oc(i),i.asyncQueue,e,t,s)})),s.promise}function Cg(i,e,t={}){const s=new je;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(l,d,g,S,z){const Q=new Th({next:ze=>{d.enqueueAndForget(()=>qf(l,ye)),ze.fromCache&&"server"===S.source?z.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(ze)},error:ze=>z.reject(ze)}),ye=new dh(g,Q,{includeMetadataChanges:!0,Nu:!0});return ch(l,ye)}(yield oc(i),i.asyncQueue,e,t,s)})),s.promise}const Dg=new Map;function dp(i,e,t){if(!t)throw new oe(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hp(i,e,t,s){if(!0===e&&!0===s)throw new oe(W.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Tg(i){if(!gn.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fp(i){if(gn.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":w()}function ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kc(i);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function x_(i,e){if(e<=0)throw new oe(W.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Mh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Tn;switch(t.type){case"gapi":return new ci(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dg.get(e);t&&(Yt("ComponentProvider","Removing Datastore"),Dg.delete(e),t.terminate())}(this),Promise.resolve()}}class Li{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class va extends Co{constructor(e,t,s){super(e,t,Ml(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new gn(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function xh(i,e,...t){if(i=(0,ge.m9)(i),dp("collection","path",e),i instanceof qc){const s=qr.fromString(e,...t);return fp(s),new va(i,null,s)}{if(!(i instanceof Li||i instanceof va))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qr.fromString(e,...t));return fp(s),new va(i.firestore,null,s)}}function Cu(i,e,...t){if(i=(0,ge.m9)(i),1===arguments.length&&(e=Ys.R()),dp("doc","path",e),i instanceof qc){const s=qr.fromString(e,...t);return Tg(s),new Li(i,null,new gn(s))}{if(!(i instanceof Li||i instanceof va))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qr.fromString(e,...t));return Tg(s),new Li(i.firestore,i instanceof va?i.converter:null,new gn(s))}}function Yc(i,e){return i=(0,ge.m9)(i),e=(0,ge.m9)(e),(i instanceof Li||i instanceof va)&&(e instanceof Li||e instanceof va)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Rh(i,e){return i=(0,ge.m9)(i),e=(0,ge.m9)(e),i instanceof Co&&e instanceof Co&&i.firestore===e.firestore&&f(i._query,e._query)&&i.converter===e.converter}class u0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Nf(this,"async_queue_retry"),this.jc=()=>{const t=kf();t&&Yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new je;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ta(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const l=Wf.createAndSchedule(this,e,t,s,d=>this.Jc(d));return this.Uc.push(l),l}Wc(){this.qc&&w()}verifyOperationInProgress(){}Yc(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function pp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Ph{constructor(){this._progressObserver={},this._taskCompletionResolver=new je,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ms extends qc{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new u0,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mp(this),this._firestoreClient.terminate()}}function Js(i){return i._firestoreClient||mp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function mp(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new N(i._databaseId,d,i._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var d,S;i._firestoreClient=new C_(i._authCredentials,i._appCheckCredentials,i._queue,s)}function Mg(i,e,t){const s=new je;return i.asyncQueue.enqueue((0,De.Z)(function*(){try{yield yg(i,t),yield vg(i,e),s.resolve()}catch(l){const d=l;if(!("FirebaseError"===(g=d).name?g.code===W.FAILED_PRECONDITION||g.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;co("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var g})).then(()=>s.promise)}function kh(i){if(i._initialized||i._terminated)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La($i.fromBase64String(e))}catch(t){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new La($i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yl{constructor(e){this._methodName=e}}class Qc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tr(this._lat,e._lat)||tr(this._long,e._long)}}const Ng=/^__.*__$/;class Fg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class _p{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw w()}}class bp{constructor(e,t,s,l,d,g){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=l,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.sa({path:s,ra:!1});return l.oa(e),l}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.sa({path:s,ra:!1});return l.ea(),l}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return ac(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(vp(this.na)&&Ng.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class k_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Ju(e)}fa(e,t,s,l=!1){return new bp({na:e,methodName:t,la:s,path:ls.emptyPath(),ra:!1,ha:l},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Iu(i){const e=i._freezeSettings(),t=Ju(i._databaseId);return new k_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Jc(i,e,t,s,l,d={}){const g=i.fa(d.merge||d.mergeFields?2:0,e,t,l);Lh("Data must be an object, but it was:",g,s);const S=Ug(s,g);let z,Q;if(d.merge)z=new Rs(g.fieldMask),Q=g.fieldTransforms;else if(d.mergeFields){const ye=[];for(const ze of d.mergeFields){const At=Cp(e,ze,t);if(!g.contains(At))throw new oe(W.INVALID_ARGUMENT,`Field '${At}' is specified in your field mask but missing from your input data.`);Uh(ye,At)||ye.push(At)}z=new Rs(ye),Q=g.fieldTransforms.filter(ze=>z.covers(ze.field))}else z=null,Q=g.fieldTransforms;return new Fg(new fo(S),z,Q)}class Xc extends Yl{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function io(i,e,t){return new bp({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Nh extends Yl{_toFieldTransform(e){return new ll(e.path,new Rl)}isEqual(e){return e instanceof Nh}}class N_ extends Yl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=io(this,e,!0),s=this.da.map(d=>Ea(d,t)),l=new _a(s);return new ll(e.path,l)}isEqual(e){return this===e}}class F_ extends Yl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=io(this,e,!0),s=this.da.map(d=>Ea(d,t)),l=new Wa(s);return new ll(e.path,l)}isEqual(e){return this===e}}class Lg extends Yl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new ol(e.It,Hr(e.It,this._a));return new ll(e.path,t)}isEqual(e){return this===e}}function Ep(i,e,t,s){const l=i.fa(1,e,t);Lh("Data must be an object, but it was:",l,s);const d=[],g=fo.empty();ma(s,(z,Q)=>{const ye=Ip(e,z,t);Q=(0,ge.m9)(Q);const ze=l.ua(ye);if(Q instanceof Xc)d.push(ye);else{const At=Ea(Q,ze);null!=At&&(d.push(ye),g.set(ye,At))}});const S=new Rs(d);return new _p(g,S,l.fieldTransforms)}function Fh(i,e,t,s,l,d){const g=i.fa(1,e,t),S=[Cp(e,s,t)],z=[l];if(d.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let At=0;At<d.length;At+=2)S.push(Cp(e,d[At])),z.push(d[At+1]);const Q=[],ye=fo.empty();for(let At=S.length-1;At>=0;--At)if(!Uh(Q,S[At])){const Ht=S[At];let Zt=z[At];Zt=(0,ge.m9)(Zt);const wn=g.ua(Ht);if(Zt instanceof Xc)Q.push(Ht);else{const Zn=Ea(Zt,wn);null!=Zn&&(Q.push(Ht),ye.set(Ht,Zn))}}const ze=new Rs(Q);return new _p(ye,ze,g.fieldTransforms)}function wp(i,e,t,s=!1){return Ea(t,i.fa(s?4:3,e))}function Ea(i,e){if(Vg(i=(0,ge.m9)(i)))return Lh("Unsupported field value:",e,i),Ug(i,e);if(i instanceof Yl)return function(t,s){if(!vp(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const l=[];let d=0;for(const g of t){let S=Ea(g,s.ca(d));null==S&&(S={nullValue:"NULL_VALUE"}),l.push(S),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hr(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=wi.fromDate(t);return{timestampValue:Tc(s.It,l)}}if(t instanceof wi){const l=new wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tc(s.It,l)}}if(t instanceof Qc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof La)return{bytesValue:rm(s.It,t._byteString)};if(t instanceof Li){const l=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw s.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kl(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${Kc(t)}`)}(i,e)}function Ug(i,e){const t={};return dc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(i,(s,l)=>{const d=Ea(l,e.ia(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function Vg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof wi||i instanceof Qc||i instanceof La||i instanceof Li||i instanceof Yl)}function Lh(i,e,t){if(!Vg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Kc(t);throw e.aa("an object"===s?i+" a custom object":i+" "+s)}var s}function Cp(i,e,t){if((e=(0,ge.m9)(e))instanceof ba)return e._internalPath;if("string"==typeof e)return Ip(i,e);throw ac("Field path arguments must be of type string or ",i,!1,void 0,t)}const Bg=new RegExp("[~\\*/\\[\\]]");function Ip(i,e,t){if(e.search(Bg)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ba(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ac(i,e,t,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let z="";return(d||g)&&(z+=" (found",d&&(z+=` in field ${s}`),g&&(z+=` in document ${l}`),z+=")"),new oe(W.INVALID_ARGUMENT,S+i+z)}function Uh(i,e){return i.some(t=>t.isEqual(e))}class Qo{constructor(e,t,s,l,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L_ extends Qo{data(){return super.data()}}function Vh(i,e){return"string"==typeof e?Ip(i,e):e instanceof ba?e._internalPath:e._delegate._internalPath}class Oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends Qo{constructor(e,t,s,l,d,g){super(e,t,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ho extends lo{data(e={}){return super.data(e)}}class _l{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Oo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ho(this._firestore,this._userDataWriter,s.key,s,new Oo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Ho(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Oo(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const S=new Ho(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Oo(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let z=-1,Q=-1;return 0!==g.type&&(z=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),Q=d.indexOf(g.doc.key)),{type:jg(g.type),doc:S,oldIndex:z,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return w()}}function Hg(i,e){return i instanceof lo&&e instanceof lo?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _l&&e instanceof _l&&i._firestore===e._firestore&&Rh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $g(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ed{}function Ql(i,...e){for(const t of e)i=t._apply(i);return i}class Dp extends ed{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=Iu(e.firestore),s=function(l,d,g,S,z,Q,ye){let ze;if(z.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){xp(ye,Q);const Ht=[];for(const Zt of ye)Ht.push(Mp(S,l,Zt));ze={arrayValue:{values:Ht}}}else ze=Mp(S,l,ye)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||xp(ye,Q),ze=wp(g,"where",ye,"in"===Q||"not-in"===Q);const At=to.create(z,Q,ze);return function(Ht,Zt){if(Zt.dt()){const Zn=yc(Ht);if(null!==Zn&&!Zn.isEqual(Zt.field))throw new oe(W.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Zn.toString()}' and '${Zt.field.toString()}'`);const Yr=Fu(Ht);null!==Yr&&Rp(0,Zt.field,Yr)}const wn=function(Zn,Yr){for(const zi of Zn.filters)if(Yr.indexOf(zi.op)>=0)return zi.op;return null}(Ht,function(Zn){switch(Zn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Zt.op));if(null!==wn)throw new oe(W.INVALID_ARGUMENT,wn===Zt.op?`Invalid query. You cannot use more than one '${Zt.op.toString()}' filter.`:`Invalid query. You cannot use '${Zt.op.toString()}' filters with '${wn.toString()}' filters.`)}(l,At),At}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Co(e.firestore,e.converter,function(l,d){const g=l.filters.concat([d]);return new xa(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,s))}}class U_ extends ed{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,l,d){if(null!==s.startAt)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new sa(l,d);return function(S,z){if(null===Fu(S)){const Q=yc(S);null!==Q&&Rp(0,Q,z.field)}}(s,g),g}(e._query,this.wa,this.ya);return new Co(e.firestore,e.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new xa(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class zg extends ed{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new Co(e.firestore,e.converter,C(e._query,this.pa,this.Ia))}}class nd extends ed{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=Bh(e,this.type,this.Ta,this.Ea);return new Co(e.firestore,e.converter,(l=t,new xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class Tp extends ed{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=Bh(e,this.type,this.Ta,this.Ea);return new Co(e.firestore,e.converter,(l=t,new xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function Bh(i,e,t,s){if(t[0]=(0,ge.m9)(t[0]),t[0]instanceof Qo)return function(l,d,g,S,z){if(!S)throw new oe(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const Q=[];for(const ye of xl(l))if(ye.field.isKeyField())Q.push(Ro(d,S.key));else{const ze=S.data.field(ye.field);if(iu(ze))throw new oe(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const At=ye.field.canonicalString();throw new oe(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${At}' (used as the orderBy) does not exist.`)}Q.push(ze)}return new no(Q,z)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=Iu(i.firestore);return function(d,g,S,z,Q,ye){const ze=d.explicitOrderBy;if(Q.length>ze.length)throw new oe(W.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const At=[];for(let Ht=0;Ht<Q.length;Ht++){const Zt=Q[Ht];if(ze[Ht].field.isKeyField()){if("string"!=typeof Zt)throw new oe(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof Zt}`);if(!_c(d)&&-1!==Zt.indexOf("/"))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${Zt}' contains a slash.`);const wn=d.path.child(qr.fromString(Zt));if(!gn.isDocumentKey(wn))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${wn}' is not because it contains an odd number of segments.`);const Zn=new gn(wn);At.push(Ro(g,Zn))}else{const wn=wp(S,z,Zt);At.push(wn)}}return new no(At,ye)}(i._query,i.firestore._databaseId,l,e,t,s)}}function Mp(i,e,t){if("string"==typeof(t=(0,ge.m9)(t))){if(""===t)throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(e)&&-1!==t.indexOf("/"))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(qr.fromString(t));if(!gn.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ro(i,new gn(s))}if(t instanceof Li)return Ro(i,t._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(t)}.`)}function xp(i,e){if(!Array.isArray(i)||0===i.length)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Rp(i,e,t){if(!t.isEqual(e))throw new oe(W.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const qg={maxAttempts:5};class jh{convertValue(e,t="none"){switch(un(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw w()}}convertObject(e,t){const s={};return ma(e.fields,(l,d)=>{s[l]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new Qc(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=za(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const t=ia(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=qr.fromString(e);b(am(s));const l=new j(s.get(1),s.get(3)),d=new gn(s.popFirst(5));return l.isEqual(t)||Ei(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function rd(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Yg extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}class Qg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iu(e)}set(e,t,s){this._verifyNotCommitted();const l=Jl(e,this._firestore),d=rd(l.converter,t,s),g=Jc(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,Rr.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const d=Jl(e,this._firestore);let g;return g="string"==typeof(t=(0,ge.m9)(t))||t instanceof ba?Fh(this._dataReader,"WriteBatch.update",d._key,t,s,l):Ep(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jl(e,this._firestore);return this._mutations=this._mutations.concat(new ro(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jl(i,e){if((i=(0,ge.m9)(i)).firestore!==e)throw new oe(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Du extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function Jg(i,e,t){i=ri(i,Li);const s=ri(i.firestore,ms),l=rd(i.converter,e,t);return lc(s,[Jc(Iu(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Rr.none())])}function Xg(i,e,t,...s){i=ri(i,Li);const l=ri(i.firestore,ms),d=Iu(l);let g;return g="string"==typeof(e=(0,ge.m9)(e))||e instanceof ba?Fh(d,"updateDoc",i._key,e,t,s):Ep(d,"updateDoc",i._key,e),lc(l,[g.toMutation(i._key,Rr.exists(!0))])}function ey(i,...e){var t,s,l;i=(0,ge.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||pp(e[g])||(d=e[g],g++);const S={includeMetadataChanges:d.includeMetadataChanges};if(pp(e[g])){const ze=e[g];e[g]=null===(t=ze.next)||void 0===t?void 0:t.bind(ze),e[g+1]=null===(s=ze.error)||void 0===s?void 0:s.bind(ze),e[g+2]=null===(l=ze.complete)||void 0===l?void 0:l.bind(ze)}let z,Q,ye;if(i instanceof Li)Q=ri(i.firestore,ms),ye=Ml(i._key.path),z={next:ze=>{e[g]&&e[g](Pp(Q,i,ze))},error:e[g+1],complete:e[g+2]};else{const ze=ri(i,Co);Q=ri(ze.firestore,ms),ye=ze._query;const At=new Du(Q);z={next:Ht=>{e[g]&&e[g](new _l(Q,At,ze,Ht))},error:e[g+1],complete:e[g+2]},$g(i._query)}return function(ze,At,Ht,Zt){const wn=new Th(Zt),Zn=new dh(At,wn,Ht);return ze.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return ch(yield oc(ze),Zn)})),()=>{wn.Rc(),ze.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return qf(yield oc(ze),Zn)}))}}(Js(Q),ye,S,z)}function lc(i,e){return function(t,s){const l=new je;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function a0(i,e,t){return mh.apply(this,arguments)}(yield Eg(t),s,l)})),l.promise}(Js(i),e)}function Pp(i,e,t){const s=t.docs.get(e._key),l=new Du(i);return new lo(i,l,e._key,s,new Oo(t.hasPendingWrites,t.fromCache),e.converter)}class q_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Iu(e)}get(e){const t=Jl(e,this._firestore),s=new Yg(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return w();const d=l[0];if(d.isFoundDocument())return new Qo(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new Qo(this._firestore,s,t._key,null,t.converter);throw w()})}set(e,t,s){const l=Jl(e,this._firestore),d=rd(l.converter,t,s),g=Jc(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(e,t,s,...l){const d=Jl(e,this._firestore);let g;return g="string"==typeof(t=(0,ge.m9)(t))||t instanceof ba?Fh(this._dataReader,"Transaction.update",d._key,t,s,l):Ep(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=Jl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jl(e,this._firestore),s=new Du(this._firestore);return super.get(e).then(l=>new lo(this._firestore,s,t._key,l._document,new Oo(!1,!1),t.converter))}}function vl(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new oe("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function ly(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function uy(){if(!function Fo(){return typeof atob<"u"}())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){na=mt.SDK_VERSION,(0,mt._registerComponent)(new Re.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const d=t.getProvider("app").getImmediate(),g=new ms(new Hn(t.getProvider("auth-internal")),new Bs(t.getProvider("app-check-internal")),function(S,z){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j(S.options.projectId,z)}(d,s),d);return l=Object.assign({useFetchStreams:e},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(ca,"3.4.15",i),(0,mt.registerVersion)(ca,"3.4.15","esm2017")}();class Xa{constructor(e){this._delegate=e}static fromBase64String(e){return uy(),new Xa(La.fromBase64String(e))}static fromUint8Array(e){return ly(),new Xa(La.fromUint8Array(e))}toBase64(){return uy(),this._delegate.toBase64()}toUint8Array(){return ly(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cy(i){return function Np(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class d0{enableIndexedDbPersistence(e,t){return function gp(i,e){kh(i=ri(i,ms));const t=Js(i),s=i._freezeSettings(),l=new Dh;return Mg(t,l,new hg(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sg(i){kh(i=ri(i,ms));const e=Js(i),t=i._freezeSettings(),s=new Dh;return Mg(e,s,new fg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xg(i){if(i._initialized&&!i._terminated)throw new oe(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new je;return i._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(s){if(!xo.C())return Promise.resolve();const l=s+"main";yield xo.delete(l)}),function(s){return t.apply(this,arguments)})(Kd(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fp{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof j||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function l0(i,e,t,s={}){var l;const d=(i=ri(i,qc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&co("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let g,S;if("string"==typeof s.mockUserToken)g=s.mockUserToken,S=Qi.MOCK_USER;else{g=(0,ge.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qi(z)}i._authCredentials=new Fr(new Bt(g,S))}}(this._delegate,e,t,s)}enableNetwork(){return function yp(i){return function D_(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield I_(i),t=yield up(i);return e.setNetworkEnabled(!0),function(s){const l=B(s);return l._u.delete(0),yu(l)}(t)}))}(Js(i=ri(i,ms)))}(this._delegate)}disableNetwork(){return function Pg(i){return function wg(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield I_(i),t=yield up(i);return e.setNetworkEnabled(!1),(s=(0,De.Z)(function*(l){const d=B(l);d._u.add(0),yield Bl(d),d.gu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(Js(i=ri(i,ms)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,hp("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Rg(i){return function(e){const t=new je;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function _h(i,e){return Gl.apply(this,arguments)}(yield Eg(e),t)})),t.promise}(Js(i=ri(i,ms)))}(this._delegate)}onSnapshotsInSync(e){return function K_(i,e){return function Ig(i,e){const t=new Th(e);return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return s=yield oc(i),l=t,B(s).Ru.add(l),void l.next();var s,l})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return s=yield oc(i),l=t,void B(s).Ru.delete(l);var s,l}))}}(Js(i=ri(i,ms)),pp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new uc(this,xh(this._delegate,e))}catch(t){throw go(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,Cu(this._delegate,e))}catch(t){throw go(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jo(this,function R_(i,e){if(i=ri(i,qc),dp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(i,null,(t=e,new xa(qr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw go(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ty(i,e,t){i=ri(i,ms);const s=Object.assign(Object.assign({},qg),t);return function(l){if(l.maxAttempts<1)throw new oe(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function A_(i,e,t){const s=new je;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const l=yield(d=i,lp(d).then(g=>g.datastore));var d;new gg(i.asyncQueue,l,t,e,s).run()})),s.promise}(Js(i),l=>e(new q_(i,l)),s)}(this._delegate,t=>e(new cr(this,t)))}batch(){return Js(this._delegate),new dy(new Qg(this._delegate,e=>lc(this._delegate,e)))}loadBundle(e){return function Og(i,e){const t=Js(i=ri(i,ms)),s=new Ph;return function S_(i,e,t,s){const l=function(d,g){let S;return S="string"==typeof d?(new TextEncoder).encode(d):d,z=function(z,Q){if(z instanceof Uint8Array)return pg(z,Q);if(z instanceof ArrayBuffer)return pg(new Uint8Array(z),Q);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new mg(z,g);var z}(t,Ju(e));i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function E_(i,e,t){const s=B(i);var l;(l=(0,De.Z)(function*(d,g,S){try{const z=yield g.getMetadata();if(yield function(At,Ht){const Zt=B(At),wn=po(Ht.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",Zn=>Zt.Ns.getBundleMetadata(Zn,Ht.id)).then(Zn=>!!Zn&&Zn.createTime.compareTo(wn)>=0)}(d.localStore,z))return yield g.close(),S._completeWith({taskState:"Success",documentsLoaded:(At=z).totalDocuments,bytesLoaded:At.totalBytes,totalDocuments:At.totalDocuments,totalBytes:At.totalBytes}),Promise.resolve(new Set);S._updateProgress(y_(z));const Q=new r0(z,d.localStore,g.It);let ye=yield g.wc();for(;ye;){const At=yield Q.Ou(ye);At&&S._updateProgress(At),ye=yield g.wc()}const ze=yield Q.complete();return yield Is(d,ze.Bu,void 0),yield function(At,Ht){const Zt=B(At);return Zt.persistence.runTransaction("Save bundle","readwrite",wn=>Zt.Ns.saveBundleMetadata(wn,Ht))}(d.localStore,z),S._completeWith(ze.progress),Promise.resolve(ze.$u)}catch(z){return co("SyncEngine",`Loading bundle failed with ${z}`),S._failWith(z),Promise.resolve(new Set)}var At}),function(d,g,S){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Eg(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function kg(i,e){return function M_(i,e){return i.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,s){const l=B(t);return l.persistence.runTransaction("Get named query","readonly",d=>l.Ns.getNamedQuery(d,s))}(yield Ah(i),e)}))}(Js(i=ri(i,ms)),e).then(t=>t?new Co(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Jo(this,t):null)}}class id extends jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(new La(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class cr{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new id(e)}get(e){const t=eu(e);return this._delegate.get(t).then(s=>new Xl(this._firestore,new lo(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=eu(e);return s?(vl("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=eu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}}class dy{constructor(e){this._delegate=e}set(e,t,s){const l=eu(e);return s?(vl("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=eu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Ho(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cs(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Tu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(t);return d||(d=new Tu(e,new id(e),t),l.set(t,d)),d}}Tu.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}static forPath(e,t,s){if(e.length%2!=0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new Li(t._delegate,s,new gn(e)))}static forKey(e,t,s){return new wa(t,new Li(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new uc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uc(this.firestore,xh(this._delegate,e))}catch(t){throw go(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ge.m9)(e))instanceof Li&&Yc(this._delegate,e)}set(e,t){t=vl("DocumentReference.set",t);try{return t?Jg(this._delegate,e,t):Jg(this._delegate,e)}catch(s){throw go(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Xg(this._delegate,e):Xg(this._delegate,e,t,...s)}catch(l){throw go(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Z_(i){return lc(ri(i.firestore,ms),[new ro(i._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=hy(e),s=sd(e,l=>new Xl(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return ey(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function j_(i){i=ri(i,Li);const e=ri(i.firestore,ms),t=Js(e),s=new Du(e);return function T_(i,e){const t=new je;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(s=(0,De.Z)(function*(l,d,g){try{const S=yield function(z,Q){const ye=B(z);return ye.persistence.runTransaction("read document","readonly",ze=>ye.localDocuments.getDocument(ze,Q))}(l,d);S.isFoundDocument()?g.resolve(S):S.isNoDocument()?g.resolve(null):g.reject(new oe(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const z=ec(S,`Failed to get document '${d} from cache`);g.reject(z)}}),function(l,d,g){return s.apply(this,arguments)})(yield Ah(i),e,t);var s})),t.promise}(t,i._key).then(l=>new lo(e,s,i._key,l,new Oo(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function H_(i){i=ri(i,Li);const e=ri(i.firestore,ms);return cp(Js(e),i._key,{source:"server"}).then(t=>Pp(e,i,t))}(this._delegate):function B_(i){i=ri(i,Li);const e=ri(i.firestore,ms);return cp(Js(e),i._key).then(t=>Pp(e,i,t))}(this._delegate),t.then(s=>new Xl(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}function go(i,e,t){return i.message=i.message.replace(e,t),i}function hy(i){for(const e of i)if("object"==typeof e&&!cy(e))return e;return{}}function sd(i,e){var t,s;let l;return l=cy(i[0])?i[0]:cy(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Xl{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Hg(this._delegate,e._delegate)}}class cs extends Xl{data(e){const t=this._delegate.data(e);return function V(i,e){i||w()}(void 0!==t),t}}class Jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}where(e,t,s){try{return new Jo(this.firestore,Ql(this._delegate,function td(i,e,t){const s=e,l=Vh("where",i);return new Dp(l,s,t)}(e,t,s)))}catch(l){throw go(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jo(this.firestore,Ql(this._delegate,function Gg(i,e="asc"){const t=e,s=Vh("orderBy",i);return new U_(s,t)}(e,t)))}catch(s){throw go(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jo(this.firestore,Ql(this._delegate,function Zg(i){return x_("limit",i),new zg("limit",i,"F")}(e)))}catch(t){throw go(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jo(this.firestore,Ql(this._delegate,function Wg(i){return x_("limitToLast",i),new zg("limitToLast",i,"L")}(e)))}catch(t){throw go(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jo(this.firestore,Ql(this._delegate,function V_(...i){return new nd("startAt",i,!0)}(...e)))}catch(t){throw go(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jo(this.firestore,Ql(this._delegate,function Kg(...i){return new nd("startAfter",i,!1)}(...e)))}catch(t){throw go(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jo(this.firestore,Ql(this._delegate,function Ap(...i){return new Tp("endBefore",i,!1)}(...e)))}catch(t){throw go(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jo(this.firestore,Ql(this._delegate,function Sp(...i){return new Tp("endAt",i,!0)}(...e)))}catch(t){throw go(t,"endAt()","Query.endAt()")}}isEqual(e){return Rh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function G_(i){i=ri(i,Co);const e=ri(i.firestore,ms),t=Js(e),s=new Du(e);return function Sh(i,e){const t=new je;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(s=(0,De.Z)(function*(l,d,g){try{const S=yield Qd(l,d,!0),z=new Qf(d,S.Hi),Q=z.ju(S.documents),ye=z.applyChanges(Q,!1);g.resolve(ye.snapshot)}catch(S){const z=ec(S,`Failed to execute query '${d} against cache`);g.reject(z)}}),function(l,d,g){return s.apply(this,arguments)})(yield Ah(i),e,t);var s})),t.promise}(t,i._query).then(l=>new _l(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function z_(i){i=ri(i,Co);const e=ri(i.firestore,ms),t=Js(e),s=new Du(e);return Cg(t,i._query,{source:"server"}).then(l=>new _l(e,s,i,l))}(this._delegate):function $_(i){i=ri(i,Co);const e=ri(i.firestore,ms),t=Js(e),s=new Du(e);return $g(i._query),Cg(t,i._query).then(l=>new _l(e,s,i,l))}(this._delegate),t.then(s=>new Lp(this.firestore,new _l(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=hy(e),s=sd(e,l=>new Lp(this.firestore,new _l(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return ey(this._delegate,t,s)}withConverter(e){return new Jo(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}class fy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fy(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new cs(this._firestore,s))})}isEqual(e){return Hg(this._delegate,e._delegate)}}class uc extends Jo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?Cu(this._delegate):Cu(this._delegate,e))}catch(t){throw go(t,"doc()","CollectionReference.doc()")}}add(e){return function W_(i,e){const t=ri(i.firestore,ms),s=Cu(i),l=rd(i.converter,e);return lc(t,[Jc(Iu(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Rr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return Yc(this._delegate,e._delegate)}withConverter(e){return new uc(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}function eu(i){return ri(i,Li)}class Hh{constructor(...e){this._delegate=new ba(...e)}static documentId(){return new Hh(ls.keyField().canonicalString())}isEqual(e){return(e=(0,ge.m9)(e))instanceof ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ry(){return new Nh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tu(e)}static delete(){const e=function ny(){return new Xc("deleteField")}();return e._methodName="FieldValue.delete",new tu(e)}static arrayUnion(...e){const t=function iy(...i){return new N_("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new tu(t)}static arrayRemove(...e){const t=function sy(...i){return new F_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new tu(t)}static increment(e){const t=function oy(i){return new Lg("increment",i)}(e);return t._methodName="FieldValue.increment",new tu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const py={Firestore:Fp,GeoPoint:Qc,Timestamp:wi,Blob:Xa,Transaction:cr,WriteBatch:dy,DocumentReference:wa,DocumentSnapshot:Xl,Query:Jo,QueryDocumentSnapshot:cs,QuerySnapshot:Lp,CollectionReference:uc,FieldPath:Hh,FieldValue:tu,setLogLevel:function h0(i){!function tl(i){bo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function X_(i){(function J_(i,e){i.INTERNAL.registerComponent(new Re.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},py)))})(i,(e,t)=>new Fp(e,t,new d0)),i.registerVersion("@firebase/firestore-compat","0.1.24")}(nt.Z);var nu=D(1205),od=D(440),ev=D(127);function my(i,e){return function tv(i,e=p.z){return new $.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Gh(i,e){return my(i,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function ad(i,e){return Gh(i,e).pipe((0,fe.O)(void 0),Oe(),(0,he.U)(([t,s])=>{const l=s.payload.docChanges(),d=l.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,S)=>{const z=l.find(ye=>ye.doc.ref.isEqual(g.ref)),Q=null==t?void 0:t.payload.docs.find(ye=>ye.ref.isEqual(g.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(g.metadata)||!z&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:g}})}),d}))}function Up(i,e,t){return ad(i,t).pipe((0,Se.R)((s,l)=>function nv(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function ld(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Au(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Au(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Au(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,ft.x)(),(0,he.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Au(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function gy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class yy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ad(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,fe.O)(void 0),Oe(),(0,Ue.h)(([s,l])=>l.length>0||!s),(0,he.U)(([s,l])=>l),Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gy(e);return Up(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return Gh(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ae.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Ae.iC)}add(e){return this.ref.add(e)}doc(e){return new _y(this.ref.doc(e),this.afs)}}class _y{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:d}=Ey(s,t);return new yy(l,d,this.afs)}snapshotChanges(){return function $h(i,e){return my(i,e).pipe((0,fe.O)(void 0),Oe(),(0,he.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(Ae.iC)}}class vy{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ad(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Ue.h)(t=>t.length>0),Ae.iC):ad(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gy(e);return Up(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return Gh(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Ae.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Ae.iC)}}const Vp=new c.OlP("angularfire2.enableFirestorePersistence"),Bp=new c.OlP("angularfire2.firestore.persistenceSettings"),rv=new c.OlP("angularfire2.firestore.settings"),by=new c.OlP("angularfire2.firestore.use-emulator");function Ey(i,e=(t=>t)){return{query:e(i),ref:i}}let wy=(()=>{class i{constructor(t,s,l,d,g,S,z,Q,ye,ze,At,Ht,Zt,wn,Zn,Yr,zi){this.schedulers=z;const Ci=(0,Te.on)(t,S,s),Ps=ye;ze&&(0,nu.nw)(Ci,S,At,Zt,wn,Zn,Ht,Yr),[this.firestore,this.persistenceEnabled$]=(0,Te.cc)(`${Ci.name}.firestore`,"AngularFirestore",Ci.name,()=>{const yi=S.runOutsideAngular(()=>Ci.firestore());if(d&&yi.settings(d),Ps&&yi.useEmulator(...Ps),l&&!(0,Ze.PM)(g)){const Pi=()=>{try{return(0,pe.D)(yi.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(so){return typeof console<"u"&&console.warn(so),(0,v.of)(!1)}};return[yi,S.runOutsideAngular(Pi)]}return[yi,(0,v.of)(!1)]},[d,Ps,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=Ey(l,s),S=this.schedulers.ngZone.run(()=>d);return new yy(S,g,this)}collectionGroup(t,s){const l=s||(g=>g),d=this.firestore.collectionGroup(t);return new vy(l(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new _y(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(Te.Dh),c.LFG(Te.xv,8),c.LFG(Vp,8),c.LFG(rv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ae.HU),c.LFG(Bp,8),c.LFG(by,8),c.LFG(nu.zQ,8),c.LFG(nu.Qv,8),c.LFG(nu.L6,8),c.LFG(nu._Q,8),c.LFG(nu.rT,8),c.LFG(nu.lh,8),c.LFG(nu.f7,8),c.LFG(od.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),f0=(()=>{class i{constructor(){ev.Z.registerVersion("angularfire",Ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Vp,useValue:!0},{provide:Bp,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[wy]}),i})()},4585:(Wt,qe,D)=>{D.d(qe,{Q1:()=>le,TE:()=>Ur});var c=D(8306),p=D(9646),$=D(8996),pe=D(8372),v=D(4004),Ae=D(3900),Ne=D(5813),be=D(4650),Oe=D(2011),fe=D(3942),he=D(5861),Se=D(9681),ft=D(2090),Ue=D(4859);const Te="firebasestorage.googleapis.com",Ze="storageBucket";class De extends ft.ZR{constructor(G,me){super(mt(G),`Firebase Storage: ${me} (${mt(G)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}_codeEquals(G){return mt(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function mt(K){return"storage/"+K}function Re(){return new De("unknown","An unknown error occurred, please check the error payload for server response.")}function Me(){return new De("canceled","User canceled the upload/download.")}function Le(){return new De("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ct(K){return new De("invalid-argument",K)}function $t(){return new De("app-deleted","The Firebase app was deleted.")}function Tt(K){return new De("invalid-root-operation","The operation '"+K+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rt(K,G){return new De("invalid-format","String does not match format '"+K+"': "+G)}function zt(K){throw new De("internal-error","Internal error: "+K)}class Xe{constructor(G,me){this.bucket=G,this.path_=me}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,me){let ae;try{ae=Xe.makeFromUrl(G,me)}catch{return new Xe(G,"")}if(""===ae.path)return ae;throw function ct(K){return new De("invalid-default-bucket","Invalid default bucket '"+K+"'.")}(G)}static makeFromUrl(G,me){let ae=null;const Qe="([A-Za-z0-9.\\-_]+)",yn=new RegExp("^gs://"+Qe+"(/(.*))?$","i");function Yn(y){y.path_=decodeURIComponent(y.path)}const gi=me.replace(/[.]/g,"\\."),q=[{regex:yn,indices:{bucket:1,path:3},postModify:function Mt(y){"/"===y.path.charAt(y.path.length-1)&&(y.path_=y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gi}/v[A-Za-z0-9_]+/b/${Qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Yn},{regex:new RegExp(`^https?://${me===Te?"(?:storage.googleapis.com|storage.cloud.google.com)":me}/${Qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Yn}];for(let y=0;y<q.length;y++){const E=q[y],k=E.regex.exec(G);if(k){let Ee=k[E.indices.path];Ee||(Ee=""),ae=new Xe(k[E.indices.bucket],Ee),E.postModify(ae);break}}if(null==ae)throw function Je(K){return new De("invalid-url","Invalid URL '"+K+"'.")}(G);return ae}}class Dt{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Vn(K){return"string"==typeof K||K instanceof String}function Wn(K){return kn()&&K instanceof Blob}function kn(){return typeof Blob<"u"}function Gn(K,G,me,ae){if(ae<G)throw Ct(`Invalid value for '${K}'. Expected ${G} or greater.`);if(ae>me)throw Ct(`Invalid value for '${K}'. Expected ${me} or less.`)}function Dn(K,G,me){let ae=G;return null==me&&(ae=`https://${G}`),`${me}://${ae}/v0${K}`}function or(K){const G=encodeURIComponent;let me="?";for(const ae in K)K.hasOwnProperty(ae)&&(me=me+(G(ae)+"=")+G(K[ae])+"&");return me=me.slice(0,-1),me}var nn=(()=>{return(K=nn||(nn={}))[K.NO_ERROR=0]="NO_ERROR",K[K.NETWORK_ERROR=1]="NETWORK_ERROR",K[K.ABORT=2]="ABORT",nn;var K})();class Bn{constructor(G,me,ae,Qe,Mt,jt,yn,pn,Yn,yr,gi){this.url_=G,this.method_=me,this.headers_=ae,this.body_=Qe,this.successCodes_=Mt,this.additionalRetryCodes_=jt,this.callback_=yn,this.errorCallback_=pn,this.timeout_=Yn,this.progressCallback_=yr,this.connectionFactory_=gi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pi,Ai)=>{this.resolve_=pi,this.reject_=Ai,this.start_()})}start_(){const me=(ae,Qe)=>{const Mt=this.resolve_,jt=this.reject_,yn=Qe.connection;if(Qe.wasSuccessCode)try{const pn=this.callback_(yn,yn.getResponse());!function En(K){return void 0!==K}(pn)?Mt():Mt(pn)}catch(pn){jt(pn)}else if(null!==yn){const pn=Re();pn.serverResponse=yn.getErrorText(),jt(this.errorCallback_?this.errorCallback_(yn,pn):pn)}else jt(Qe.canceled?this.appDelete_?$t():Me():function ot(){return new De("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?me(0,new On(!1,null,!0)):this.backoffId_=function Lt(K,G,me){let ae=1,Qe=null,Mt=null,jt=!1,yn=0;function pn(){return 2===yn}let Yn=!1;function yr(...Cr){Yn||(Yn=!0,G.apply(null,Cr))}function gi(Cr){Qe=setTimeout(()=>{Qe=null,K(Ai,pn())},Cr)}function pi(){Mt&&clearTimeout(Mt)}function Ai(Cr,...Si){if(Yn)return void pi();if(Cr)return pi(),void yr.call(null,Cr,...Si);if(pn()||jt)return pi(),void yr.call(null,Cr,...Si);let q;ae<64&&(ae*=2),1===yn?(yn=2,q=0):q=1e3*(ae+Math.random()),gi(q)}let ti=!1;function vi(Cr){ti||(ti=!0,pi(),!Yn&&(null!==Qe?(Cr||(yn=2),clearTimeout(Qe),gi(0)):Cr||(yn=1)))}return gi(0),Mt=setTimeout(()=>{jt=!0,vi(!0)},me),vi}((ae,Qe)=>{if(Qe)return void ae(!1,new On(!1,null,!0));const Mt=this.connectionFactory_();this.pendingConnection_=Mt;const jt=yn=>{null!==this.progressCallback_&&this.progressCallback_(yn.loaded,yn.lengthComputable?yn.total:-1)};null!==this.progressCallback_&&Mt.addUploadProgressListener(jt),Mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Mt.removeUploadProgressListener(jt),this.pendingConnection_=null;const yn=Mt.getErrorCode()===nn.NO_ERROR,pn=Mt.getStatus();if(!yn||this.isRetryStatusCode_(pn)){const yr=Mt.getErrorCode()===nn.ABORT;return void ae(!1,new On(!1,null,yr))}const Yn=-1!==this.successCodes_.indexOf(pn);ae(!0,new On(Yn,Mt))})},me,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function rn(K){K(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(G){const me=G>=500&&G<600,Qe=-1!==[408,429].indexOf(G),Mt=-1!==this.additionalRetryCodes_.indexOf(G);return me||Qe||Mt}}class On{constructor(G,me,ae){this.wasSuccessCode=G,this.connection=me,this.canceled=!!ae}}function _t(...K){const G=function Dr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const me=new G;for(let ae=0;ae<K.length;ae++)me.append(K[ae]);return me.getBlob()}if(kn())return new Blob(K);throw new De("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ht={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cn{constructor(G,me){this.data=G,this.contentType=me||null}}function bn(K,G){switch(K){case ht.RAW:return new cn(Sn(G));case ht.BASE64:case ht.BASE64URL:return new cn(Nn(K,G));case ht.DATA_URL:return new cn(function Qt(K){const G=new Ln(K);return G.base64?Nn(ht.BASE64,G.rest):function Tr(K){let G;try{G=decodeURIComponent(K)}catch{throw Rt(ht.DATA_URL,"Malformed data URL.")}return Sn(G)}(G.rest)}(G),function Ot(K){return new Ln(K).contentType}(G))}throw Re()}function Sn(K){const G=[];for(let me=0;me<K.length;me++){let ae=K.charCodeAt(me);ae<=127?G.push(ae):ae<=2047?G.push(192|ae>>6,128|63&ae):55296==(64512&ae)?me<K.length-1&&56320==(64512&K.charCodeAt(me+1))?(ae=65536|(1023&ae)<<10|1023&K.charCodeAt(++me),G.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):G.push(239,191,189):56320==(64512&ae)?G.push(239,191,189):G.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(G)}function Nn(K,G){switch(K){case ht.BASE64:{const Qe=-1!==G.indexOf("-"),Mt=-1!==G.indexOf("_");if(Qe||Mt)throw Rt(K,"Invalid character '"+(Qe?"-":"_")+"' found: is it base64url encoded?");break}case ht.BASE64URL:{const Qe=-1!==G.indexOf("+"),Mt=-1!==G.indexOf("/");if(Qe||Mt)throw Rt(K,"Invalid character '"+(Qe?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let me;try{me=function We(K){return atob(K)}(G)}catch{throw Rt(K,"Invalid character found")}const ae=new Uint8Array(me.length);for(let Qe=0;Qe<me.length;Qe++)ae[Qe]=me.charCodeAt(Qe);return ae}class Ln{constructor(G){this.base64=!1,this.contentType=null;const me=G.match(/^data:([^,]+)?,/);if(null===me)throw Rt(ht.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=me[1]||null;null!=ae&&(this.base64=function O(K,G){return K.length>=G.length&&K.substring(K.length-G.length)===G}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-7):ae),this.rest=G.substring(G.indexOf(",")+1)}}class I{constructor(G,me){let ae=0,Qe="";Wn(G)?(this.data_=G,ae=G.size,Qe=G.type):G instanceof ArrayBuffer?(me?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),ae=this.data_.length):G instanceof Uint8Array&&(me?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),ae=G.length),this.size_=ae,this.type_=Qe}size(){return this.size_}type(){return this.type_}slice(G,me){if(Wn(this.data_)){const Qe=function en(K,G,me){return K.webkitSlice?K.webkitSlice(G,me):K.mozSlice?K.mozSlice(G,me):K.slice?K.slice(G,me):null}(this.data_,G,me);return null===Qe?null:new I(Qe)}{const ae=new Uint8Array(this.data_.buffer,G,me-G);return new I(ae,!0)}}static getBlob(...G){if(kn()){const me=G.map(ae=>ae instanceof I?ae.data_:ae);return new I(_t.apply(null,me))}{const me=G.map(jt=>Vn(jt)?bn(ht.RAW,jt).data:jt.data_);let ae=0;me.forEach(jt=>{ae+=jt.byteLength});const Qe=new Uint8Array(ae);let Mt=0;return me.forEach(jt=>{for(let yn=0;yn<jt.length;yn++)Qe[Mt++]=jt[yn]}),new I(Qe,!0)}}uploadData(){return this.data_}}function T(K){let G;try{G=JSON.parse(K)}catch{return null}return function hr(K){return"object"==typeof K&&!Array.isArray(K)}(G)?G:null}function He(K){const G=K.lastIndexOf("/",K.length-2);return-1===G?K:K.slice(G+1)}function Et(K,G){return G}class kt{constructor(G,me,ae,Qe){this.server=G,this.local=me||G,this.writable=!!ae,this.xform=Qe||Et}}let hn=null;function an(){if(hn)return hn;const K=[];K.push(new kt("bucket")),K.push(new kt("generation")),K.push(new kt("metageneration")),K.push(new kt("name","fullPath",!0));const me=new kt("name");me.xform=function G(Mt,jt){return function on(K){return!Vn(K)||K.length<2?K:He(K)}(jt)},K.push(me);const Qe=new kt("size");return Qe.xform=function ae(Mt,jt){return void 0!==jt?Number(jt):jt},K.push(Qe),K.push(new kt("timeCreated")),K.push(new kt("updated")),K.push(new kt("md5Hash",null,!0)),K.push(new kt("cacheControl",null,!0)),K.push(new kt("contentDisposition",null,!0)),K.push(new kt("contentEncoding",null,!0)),K.push(new kt("contentLanguage",null,!0)),K.push(new kt("contentType",null,!0)),K.push(new kt("metadata","customMetadata",!0)),hn=K,hn}function ne(K,G,me){const ae=T(G);return null===ae?null:function Ke(K,G,me){const ae={type:"file"},Qe=me.length;for(let Mt=0;Mt<Qe;Mt++){const jt=me[Mt];ae[jt.local]=jt.xform(ae,G[jt.server])}return function st(K,G){Object.defineProperty(K,"ref",{get:function me(){const Mt=new Xe(K.bucket,K.fullPath);return G._makeStorageReference(Mt)}})}(ae,K),ae}(K,ae,me)}function ce(K,G){const me={},ae=G.length;for(let Qe=0;Qe<ae;Qe++){const Mt=G[Qe];Mt.writable&&(me[Mt.server]=K[Mt.local])}return JSON.stringify(me)}const Ve="prefixes";class ue{constructor(G,me,ae,Qe){this.url=G,this.method=me,this.handler=ae,this.timeout=Qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _e(K){if(!K)throw Re()}function et(K,G){return function me(ae,Qe){const Mt=ne(K,Qe,G);return _e(null!==Mt),Mt}}function An(K){return function G(me,ae){let Qe;return Qe=401===me.getStatus()?me.getErrorText().includes("Firebase App Check token is invalid")?function ke(){return new De("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function lt(){return new De("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===me.getStatus()?function ge(K){return new De("quota-exceeded","Quota for bucket '"+K+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(K.bucket):403===me.getStatus()?function Ie(K){return new De("unauthorized","User does not have permission to access '"+K+"'.")}(K.path):ae,Qe.serverResponse=ae.serverResponse,Qe}}function sn(K){const G=An(K);return function me(ae,Qe){let Mt=G(ae,Qe);return 404===ae.getStatus()&&(Mt=function ve(K){return new De("object-not-found","Object '"+K+"' does not exist.")}(K.path)),Mt.serverResponse=Qe.serverResponse,Mt}}function zn(K,G,me){const Qe=Dn(G.fullServerUrl(),K.host,K._protocol),jt=K.maxOperationRetryTime,yn=new ue(Qe,"GET",et(K,me),jt);return yn.errorHandler=sn(G),yn}function mn(K,G,me,ae,Qe){const Mt={};Mt.prefix=G.isRoot?"":G.path+"/",me&&me.length>0&&(Mt.delimiter=me),ae&&(Mt.pageToken=ae),Qe&&(Mt.maxResults=Qe);const yn=Dn(G.bucketOnlyServerUrl(),K.host,K._protocol),Yn=K.maxOperationRetryTime,yr=new ue(yn,"GET",function bt(K,G){return function me(ae,Qe){const Mt=function Ce(K,G,me){const ae=T(me);return null===ae?null:function at(K,G,me){const ae={prefixes:[],items:[],nextPageToken:me.nextPageToken};if(me[Ve])for(const Qe of me[Ve]){const Mt=Qe.replace(/\/$/,""),jt=K._makeStorageReference(new Xe(G,Mt));ae.prefixes.push(jt)}if(me.items)for(const Qe of me.items){const Mt=K._makeStorageReference(new Xe(G,Qe.name));ae.items.push(Mt)}return ae}(K,G,ae)}(K,G,Qe);return _e(null!==Mt),Mt}}(K,G.bucket),Yn);return yr.urlParams=Mt,yr.errorHandler=An(G),yr}function Wi(K,G,me){const ae=Object.assign({},me);return ae.fullPath=K.path,ae.size=G.size(),ae.contentType||(ae.contentType=function xi(K,G){return K&&K.contentType||G&&G.type()||"application/octet-stream"}(null,G)),ae}class jr{constructor(G,me,ae,Qe){this.current=G,this.total=me,this.finalized=!!ae,this.metadata=Qe||null}}function Sr(K,G){let me=null;try{me=K.getResponseHeader("X-Goog-Upload-Status")}catch{_e(!1)}return _e(!!me&&-1!==(G||["active"]).indexOf(me)),me}const Vi={STATE_CHANGED:"state_changed"},lr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function li(K){switch(K){case"running":case"pausing":case"canceling":return lr.RUNNING;case"paused":return lr.PAUSED;case"success":return lr.SUCCESS;case"canceled":return lr.CANCELED;default:return lr.ERROR}}class es{constructor(G,me,ae){if(function rr(K){return"function"==typeof K}(G)||null!=me||null!=ae)this.next=G,this.error=me??void 0,this.complete=ae??void 0;else{const Mt=G;this.next=Mt.next,this.error=Mt.error,this.complete=Mt.complete}}}function Oi(K){return(...G)=>{Promise.resolve().then(()=>K(...G))}}class Ki extends class Or{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nn.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nn.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nn.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,me,ae,Qe){if(this.sent_)throw zt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(me,G,!0),void 0!==Qe)for(const Mt in Qe)Qe.hasOwnProperty(Mt)&&this.xhr_.setRequestHeader(Mt,Qe[Mt].toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}{initXhr(){this.xhr_.responseType="text"}}function Pr(){return new Ki}class Ii{constructor(G,me,ae=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=me,this._metadata=ae,this._mappings=an(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Qe=>{this._request=void 0,this._chunkMultiplier=1,Qe._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Qe,this._transition("error"))},this._metadataErrorHandler=Qe=>{this._request=void 0,Qe._codeEquals("canceled")?this.completeTransitions_():(this._error=Qe,this._transition("error"))},this._promise=new Promise((Qe,Mt)=>{this._resolve=Qe,this._reject=Mt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const G=this._transferred;return me=>this._updateProgress(G+me)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([me,ae])=>{switch(this._state){case"running":G(me,ae);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,me)=>{const ae=function Ui(K,G,me,ae,Qe){const Mt=G.bucketOnlyServerUrl(),jt=Wi(G,ae,Qe),yn={name:jt.fullPath},pn=Dn(Mt,K.host,K._protocol),yr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ae.size()}`,"X-Goog-Upload-Header-Content-Type":jt.contentType,"Content-Type":"application/json; charset=utf-8"},gi=ce(jt,me),ti=new ue(pn,"POST",function Ai(vi){let Cr;Sr(vi);try{Cr=vi.getResponseHeader("X-Goog-Upload-URL")}catch{_e(!1)}return _e(Vn(Cr)),Cr},K.maxUploadRetryTime);return ti.urlParams=yn,ti.headers=yr,ti.body=gi,ti.errorHandler=An(G),ti}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(ae,Pr,G,me);this._request=Qe,Qe.getPromise().then(Mt=>{this._request=void 0,this._uploadUrl=Mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((me,ae)=>{const Qe=function fi(K,G,me,ae){const pn=new ue(me,"POST",function Mt(Yn){const yr=Sr(Yn,["active","final"]);let gi=null;try{gi=Yn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_e(!1)}gi||_e(!1);const pi=Number(gi);return _e(!isNaN(pi)),new jr(pi,ae.size(),"final"===yr)},K.maxUploadRetryTime);return pn.headers={"X-Goog-Upload-Command":"query"},pn.errorHandler=An(G),pn}(this._ref.storage,this._ref._location,G,this._blob),Mt=this._ref.storage._makeRequest(Qe,Pr,me,ae);this._request=Mt,Mt.getPromise().then(jt=>{this._request=void 0,this._updateProgress(jt.current),this._needToFetchStatus=!1,jt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,me=new jr(this._transferred,this._blob.size()),ae=this._uploadUrl;this._resolveToken((Qe,Mt)=>{let jt;try{jt=function Xi(K,G,me,ae,Qe,Mt,jt,yn){const pn=new jr(0,0);if(jt?(pn.current=jt.current,pn.total=jt.total):(pn.current=0,pn.total=ae.size()),ae.size()!==pn.total)throw function dt(){return new De("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Yn=pn.total-pn.current;let yr=Yn;Qe>0&&(yr=Math.min(yr,Qe));const gi=pn.current,ti={"X-Goog-Upload-Command":yr===Yn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${pn.current}`},vi=ae.slice(gi,gi+yr);if(null===vi)throw Le();const q=new ue(me,"POST",function Cr(y,E){const k=Sr(y,["active","final"]),X=pn.current+yr,Ee=ae.size();let Be;return Be="final"===k?et(G,Mt)(y,E):null,new jr(X,Ee,"final"===k,Be)},G.maxUploadRetryTime);return q.headers=ti,q.body=vi.uploadData(),q.progressCallback=yn||null,q.errorHandler=An(K),q}(this._ref._location,this._ref.storage,ae,this._blob,G,this._mappings,me,this._makeProgressCallback())}catch(pn){return this._error=pn,void this._transition("error")}const yn=this._ref.storage._makeRequest(jt,Pr,Qe,Mt);this._request=yn,yn.getPromise().then(pn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pn.current),pn.finalized?(this._metadata=pn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,me)=>{const ae=zn(this._ref.storage,this._ref._location,this._mappings),Qe=this._ref.storage._makeRequest(ae,Pr,G,me);this._request=Qe,Qe.getPromise().then(Mt=>{this._request=void 0,this._metadata=Mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,me)=>{const ae=function hi(K,G,me,ae,Qe){const Mt=G.bucketOnlyServerUrl(),jt={"X-Goog-Upload-Protocol":"multipart"},pn=function yn(){let q="";for(let y=0;y<2;y++)q+=Math.random().toString().slice(2);return q}();jt["Content-Type"]="multipart/related; boundary="+pn;const Yn=Wi(G,ae,Qe),yr=ce(Yn,me),Ai=I.getBlob("--"+pn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yr+"\r\n--"+pn+"\r\nContent-Type: "+Yn.contentType+"\r\n\r\n",ae,"\r\n--"+pn+"--");if(null===Ai)throw Le();const ti={name:Yn.fullPath},vi=Dn(Mt,K.host,K._protocol),Si=K.maxUploadRetryTime,Ws=new ue(vi,"POST",et(K,me),Si);return Ws.urlParams=ti,Ws.headers=jt,Ws.body=Ai.uploadData(),Ws.errorHandler=An(G),Ws}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(ae,Pr,G,me);this._request=Qe,Qe.getPromise().then(Mt=>{this._request=void 0,this._metadata=Mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const me=this._transferred;this._transferred=G,this._transferred!==me&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request&&this._request.cancel();break;case"running":const me="paused"===this._state;this._state=G,me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=Me(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=li(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,me,ae,Qe){const Mt=new es(me||void 0,ae||void 0,Qe||void 0);return this._addObserver(Mt),()=>{this._removeObserver(Mt)}}then(G,me){return this._promise.then(G,me)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const me=this._observers.indexOf(G);-1!==me&&this._observers.splice(me,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(me=>{this._notifyObserver(me)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(li(this._state)){case lr.SUCCESS:Oi(this._resolve.bind(null,this.snapshot))();break;case lr.CANCELED:case lr.ERROR:Oi(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(li(this._state)){case lr.RUNNING:case lr.PAUSED:G.next&&Oi(G.next.bind(G,this.snapshot))();break;case lr.SUCCESS:G.complete&&Oi(G.complete.bind(G))();break;default:G.error&&Oi(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class ns{constructor(G,me){this._service=G,this._location=me instanceof Xe?me:Xe.makeFromUrl(me,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,me){return new ns(G,me)}get root(){const G=new Xe(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return He(this._location.path)}get storage(){return this._service}get parent(){const G=function H(K){if(0===K.length)return null;const G=K.lastIndexOf("/");return-1===G?"":K.slice(0,G)}(this._location.path);if(null===G)return null;const me=new Xe(this._location.bucket,G);return new ns(this._service,me)}_throwIfRoot(G){if(""===this._location.path)throw Tt(G)}}function gt(K,G,me){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,he.Z)(function*(K,G,me){const Qe=yield tn(K,{pageToken:me});G.prefixes.push(...Qe.prefixes),G.items.push(...Qe.items),null!=Qe.nextPageToken&&(yield gt(K,G,Qe.nextPageToken))})).apply(this,arguments)}function tn(K,G){null!=G&&"number"==typeof G.maxResults&&Gn("options.maxResults",1,1e3,G.maxResults);const me=G||{},ae=mn(K.storage,K._location,"/",me.pageToken,me.maxResults);return K.storage.makeRequestWithTokens(ae,Pr)}function Wr(K){K._throwIfRoot("getDownloadURL");const G=function Gr(K,G,me){const Qe=Dn(G.fullServerUrl(),K.host,K._protocol),jt=K.maxOperationRetryTime,yn=new ue(Qe,"GET",function Xt(K,G){return function me(ae,Qe){const Mt=ne(K,Qe,G);return _e(null!==Mt),function se(K,G,me,ae){const Qe=T(G);if(null===Qe||!Vn(Qe.downloadTokens))return null;const Mt=Qe.downloadTokens;if(0===Mt.length)return null;const jt=encodeURIComponent;return Mt.split(",").map(Yn=>{const gi=K.fullPath;return Dn("/b/"+jt(K.bucket)+"/o/"+jt(gi),me,ae)+or({alt:"media",token:Yn})})[0]}(Mt,Qe,K.host,K._protocol)}}(K,me),jt);return yn.errorHandler=sn(G),yn}(K.storage,K._location,an());return K.storage.makeRequestWithTokens(G,Pr).then(me=>{if(null===me)throw function tt(){return new De("no-download-url","The given file does not have any download URLs.")}();return me})}function Ri(K,G){const me=function J(K,G){const me=G.split("/").filter(ae=>ae.length>0).join("/");return 0===K.length?me:K+"/"+me}(K._location.path,G),ae=new Xe(K._location.bucket,me);return new ns(K.storage,ae)}function hs(K,G){if(K instanceof gs){const me=K;if(null==me._bucket)throw function $e(){return new De("no-default-bucket","No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const ae=new ns(me,me._bucket);return null!=G?hs(ae,G):ae}return void 0!==G?Ri(K,G):K}function rs(K,G){if(G&&function ds(K){return/^[A-Za-z]+:\/\//.test(K)}(G)){if(K instanceof gs)return function qi(K,G){return new ns(K,G)}(K,G);throw Ct("To use ref(service, url), the first argument must be a Storage instance.")}return hs(K,G)}function Di(K,G){const me=null==G?void 0:G[Ze];return null==me?null:Xe.makeFromBucketSpec(me,K)}class gs{constructor(G,me,ae,Qe,Mt){this.app=G,this._authProvider=me,this._appCheckProvider=ae,this._url=Qe,this._firebaseVersion=Mt,this._bucket=null,this._host=Te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Qe?Xe.makeFromBucketSpec(Qe,this._host):Di(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?Xe.makeFromBucketSpec(this._url,G):Di(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){Gn("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){Gn("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,he.Z)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const me=G._authProvider.getImmediate({optional:!0});if(me){const ae=yield me.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,he.Z)(function*(){const me=G._appCheckProvider.getImmediate({optional:!0});return me?(yield me.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new ns(this,G)}_makeRequest(G,me,ae,Qe){if(this._deleted)return new Dt($t());{const Mt=function Er(K,G,me,ae,Qe,Mt){const jt=or(K.urlParams),yn=K.url+jt,pn=Object.assign({},K.headers);return function _r(K,G){G&&(K["X-Firebase-GMPID"]=G)}(pn,G),function Mn(K,G){null!==G&&G.length>0&&(K.Authorization="Firebase "+G)}(pn,me),function ar(K,G){K["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(pn,Mt),function br(K,G){null!==G&&(K["X-Firebase-AppCheck"]=G)}(pn,ae),new Bn(yn,K.method,pn,K.body,K.successCodes,K.additionalRetryCodes,K.handler,K.errorHandler,K.timeout,K.progressCallback,Qe)}(G,this._appId,ae,Qe,me,this._firebaseVersion);return this._requests.add(Mt),Mt.getPromise().then(()=>this._requests.delete(Mt),()=>this._requests.delete(Mt)),Mt}}makeRequestWithTokens(G,me){var ae=this;return(0,he.Z)(function*(){const[Qe,Mt]=yield Promise.all([ae._getAuthToken(),ae._getAppCheckToken()]);return ae._makeRequest(G,me,Qe,Mt).getPromise()})()}}const ys="@firebase/storage";function si(K,G){return rs(K=(0,ft.m9)(K),G)}function Zs(K,{instanceIdentifier:G}){const me=K.getProvider("app").getImmediate(),ae=K.getProvider("auth-internal"),Qe=K.getProvider("app-check-internal");return new gs(me,ae,Qe,G,Se.SDK_VERSION)}!function vs(){(0,Se._registerComponent)(new Ue.wA("storage",Zs,"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(ys,"0.9.9",""),(0,Se.registerVersion)(ys,"0.9.9","esm2017")}();class Hi{constructor(G,me,ae){this._delegate=G,this.task=me,this.ref=ae}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fr{constructor(G,me){this._delegate=G,this._ref=me,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hi(this._delegate.snapshot,this,this._ref)}then(G,me){return this._delegate.then(ae=>{if(G)return G(new Hi(ae,this,this._ref))},me)}on(G,me,ae,Qe){let Mt;return me&&(Mt="function"==typeof me?jt=>me(new Hi(jt,this,this._ref)):{next:me.next?jt=>me.next(new Hi(jt,this,this._ref)):void 0,complete:me.complete||void 0,error:me.error||void 0}),this._delegate.on(G,Mt,ae||void 0,Qe||void 0)}}class L{constructor(G,me){this._delegate=G,this._service=me}get prefixes(){return this._delegate.prefixes.map(G=>new te(G,this._service))}get items(){return this._delegate.items.map(G=>new te(G,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class te{constructor(G,me){this._delegate=G,this.storage=me}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(G){const me=function _o(K,G){return Ri(K,G)}(this._delegate,G);return new te(me,this.storage)}get root(){return new te(this._delegate.root,this.storage)}get parent(){const G=this._delegate.parent;return null==G?null:new te(G,this.storage)}put(G,me){return this._throwIfRoot("put"),new fr(function ko(K,G,me){return function uo(K,G,me){return K._throwIfRoot("uploadBytesResumable"),new Ii(K,new I(G),me)}(K=(0,ft.m9)(K),G,me)}(this._delegate,G,me),this)}putString(G,me=ht.RAW,ae){this._throwIfRoot("putString");const Qe=bn(me,G),Mt=Object.assign({},ae);return null==Mt.contentType&&null!=Qe.contentType&&(Mt.contentType=Qe.contentType),new fr(new Ii(this._delegate,new I(Qe.data,!0),Mt),this)}listAll(){return function Bi(K){return function rt(K){const G={prefixes:[],items:[]};return gt(K,G).then(()=>G)}(K=(0,ft.m9)(K))}(this._delegate).then(G=>new L(G,this.storage))}list(G){return function fs(K,G){return tn(K=(0,ft.m9)(K),G)}(this._delegate,G||void 0).then(me=>new L(me,this.storage))}getMetadata(){return function Ni(K){return function fn(K){K._throwIfRoot("getMetadata");const G=zn(K.storage,K._location,an());return K.storage.makeRequestWithTokens(G,Pr)}(K=(0,ft.m9)(K))}(this._delegate)}updateMetadata(G){return function Fs(K,G){return function ur(K,G){K._throwIfRoot("updateMetadata");const me=function Un(K,G,me,ae){const Mt=Dn(G.fullServerUrl(),K.host,K._protocol),yn=ce(me,ae),Yn=K.maxOperationRetryTime,yr=new ue(Mt,"PATCH",et(K,ae),Yn);return yr.headers={"Content-Type":"application/json; charset=utf-8"},yr.body=yn,yr.errorHandler=sn(G),yr}(K.storage,K._location,G,an());return K.storage.makeRequestWithTokens(me,Pr)}(K=(0,ft.m9)(K),G)}(this._delegate,G)}getDownloadURL(){return function zs(K){return Wr(K=(0,ft.m9)(K))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function xr(K){return function kr(K){K._throwIfRoot("deleteObject");const G=function ai(K,G){const ae=Dn(G.fullServerUrl(),K.host,K._protocol),yn=new ue(ae,"DELETE",function jt(pn,Yn){},K.maxOperationRetryTime);return yn.successCodes=[200,204],yn.errorHandler=sn(G),yn}(K.storage,K._location);return K.storage.makeRequestWithTokens(G,Pr)}(K=(0,ft.m9)(K))}(this._delegate)}_throwIfRoot(G){if(""===this._delegate._location.path)throw Tt(G)}}class U{constructor(G,me){this.app=G,this._delegate=me}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(G){if(de(G))throw Ct("ref() expected a child path but got a URL, use refFromURL instead.");return new te(si(this._delegate,G),this)}refFromURL(G){if(!de(G))throw Ct("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xe.makeFromUrl(G,this._delegate.host)}catch{throw Ct("refFromUrl() expected a valid full URL but got an invalid one.")}return new te(si(this._delegate,G),this)}setMaxUploadRetryTime(G){this._delegate.maxUploadRetryTime=G}setMaxOperationRetryTime(G){this._delegate.maxOperationRetryTime=G}useEmulator(G,me,ae={}){!function ji(K,G,me,ae={}){!function yo(K,G,me,ae={}){K.host=`${G}:${me}`,K._protocol="http";const{mockUserToken:Qe}=ae;Qe&&(K._overrideAuthToken="string"==typeof Qe?Qe:(0,ft.Sg)(Qe,K.app.options.projectId))}(K,G,me,ae)}(this._delegate,G,me,ae)}}function de(K){return/^[A-Za-z]+:\/\//.test(K)}function Cn(K,{instanceIdentifier:G}){const me=K.getProvider("app-compat").getImmediate(),ae=K.getProvider("storage").getImmediate({identifier:G});return new U(me,ae)}!function qn(K){const G={TaskState:lr,TaskEvent:Vi,StringFormat:ht,Storage:U,Reference:te};K.INTERNAL.registerComponent(new Ue.wA("storage-compat",Cn,"PUBLIC").setServiceProps(G).setMultipleInstances(!0)),K.registerVersion("@firebase/storage-compat","0.1.17")}(fe.Z);var gr=D(440),nr=D(127);function Kr(K){const G=function wr(K){return new c.y(G=>{const me=jt=>G.next(jt);me(K.snapshot);const Mt=K.on("state_changed",me);return K.then(jt=>{me(jt),G.complete()},jt=>{me(K.snapshot),(jt=>{G.error(jt)})(jt)}),function(){Mt()}}).pipe((0,pe.b)(0))}(K);return{task:K,then:K.then.bind(K),catch:K.catch.bind(K),pause:K.pause.bind(K),cancel:K.cancel.bind(K),resume:K.resume.bind(K),snapshotChanges:()=>G,percentageChanges:()=>G.pipe((0,v.U)(me=>me.bytesTransferred/me.totalBytes*100))}}function Nr(K){return{getDownloadURL:()=>(0,p.of)(void 0).pipe(Ne.fc,(0,Ae.w)(()=>K.getDownloadURL()),Ne.iC),getMetadata:()=>(0,p.of)(void 0).pipe(Ne.fc,(0,Ae.w)(()=>K.getMetadata()),Ne.iC),delete:()=>(0,$.D)(K.delete()),child:G=>Nr(K.child(G)),updateMetadata:G=>(0,$.D)(K.updateMetadata(G)),put:(G,me)=>Kr(K.put(G,me)),putString:(G,me,ae)=>Kr(K.putString(G,me,ae)),list:G=>(0,$.D)(K.list(G)),listAll:()=>(0,$.D)(K.listAll())}}const Lr=new be.OlP("angularfire2.storageBucket"),Z=new be.OlP("angularfire2.storage.maxUploadRetryTime"),F=new be.OlP("angularfire2.storage.maxOperationRetryTime"),R=new be.OlP("angularfire2.storage.use-emulator");let le=(()=>{class K{constructor(me,ae,Qe,Mt,jt,yn,pn,Yn,yr,gi){const pi=(0,Oe.on)(me,jt,ae);this.storage=(0,Oe.cc)(`${pi.name}.storage.${Qe}`,"AngularFireStorage",pi.name,()=>{const Ai=jt.runOutsideAngular(()=>pi.storage(Qe||void 0)),ti=yr;return ti&&Ai.useEmulator(...ti),pn&&Ai.setMaxUploadRetryTime(pn),Yn&&Ai.setMaxOperationRetryTime(Yn),Ai},[pn,Yn])}ref(me){return Nr(this.storage.ref(me))}refFromURL(me){return Nr(this.storage.refFromURL(me))}upload(me,ae,Qe){return Nr(this.storage.ref(me)).put(ae,Qe)}}return K.\u0275fac=function(me){return new(me||K)(be.LFG(Oe.Dh),be.LFG(Oe.xv,8),be.LFG(Lr,8),be.LFG(be.Lbi),be.LFG(be.R0b),be.LFG(Ne.HU),be.LFG(Z,8),be.LFG(F,8),be.LFG(R,8),be.LFG(gr.nm,8))},K.\u0275prov=be.Yz7({token:K,factory:K.\u0275fac,providedIn:"any"}),K})(),Fn=(()=>{class K{}return K.\u0275fac=function(me){return new(me||K)},K.\u0275mod=be.oAB({type:K}),K.\u0275inj=be.cJS({}),K})(),Ur=(()=>{class K{constructor(){nr.Z.registerVersion("angularfire",Ne.q4.full,"gcs-compat")}}return K.\u0275fac=function(me){return new(me||K)},K.\u0275mod=be.oAB({type:K}),K.\u0275inj=be.cJS({providers:[le],imports:[Fn]}),K})()},2011:(Wt,qe,D)=>{D.d(qe,{Dh:()=>be,GT:()=>Ae,cc:()=>Ue,hO:()=>ft,on:()=>fe,pX:()=>v,xv:()=>Oe});var c=D(4650),p=D(127),$=D(5813);Wt=D.hmd(Wt);const pe=["ngOnDestroy"],v=(nt,De,mt,Re={})=>new Proxy(nt,{get:(ve,ge)=>mt.runOutsideAngular(()=>{var lt;if(nt[ge])return(null===(lt=null==Re?void 0:Re.spy)||void 0===lt?void 0:lt.get)&&Re.spy.get(ge,nt[ge]),nt[ge];if(pe.indexOf(ge)>-1)return()=>{};const ke=De.toPromise().then(Ie=>{const ot=Ie&&Ie[ge];return"function"==typeof ot?ot.bind(Ie):ot&&ot.then?ot.then(Me=>mt.run(()=>Me)):mt.run(()=>ot)});return new Proxy(()=>{},{get:(Ie,ot)=>ke[ot],apply:(Ie,ot,Me)=>ke.then(Je=>{var ct;const $e=Je&&Je(...Me);return(null===(ct=null==Re?void 0:Re.spy)||void 0===ct?void 0:ct.apply)&&Re.spy.apply(ge,Me,$e),$e})})})}),Ae=(nt,De)=>{De.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(Re=>{Object.defineProperty(nt.prototype,Re,Object.getOwnPropertyDescriptor(mt.prototype||mt,Re))})})};class Ne{constructor(De){return De}}const be=new c.OlP("angularfire2.app.options"),Oe=new c.OlP("angularfire2.app.name");function fe(nt,De,mt){const ve="object"==typeof mt&&mt||{};ve.name=ve.name||"string"==typeof mt&&mt||"[DEFAULT]";const lt=p.Z.apps.filter(ke=>ke&&ke.name===ve.name)[0]||De.runOutsideAngular(()=>p.Z.initializeApp(nt,ve));try{JSON.stringify(nt)!==JSON.stringify(lt.options)&&he("error",`${lt.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(lt)}const he=(nt,...De)=>{(0,c.X6Q)()&&typeof console<"u"&&console[nt](...De)},Se={provide:Ne,useFactory:fe,deps:[be,c.R0b,[new c.FiY,Oe]]};let ft=(()=>{class nt{constructor(mt){p.Z.registerVersion("angularfire",$.q4.full,"core"),p.Z.registerVersion("angularfire",$.q4.full,"app-compat"),p.Z.registerVersion("angular",c.q4F.full,mt.toString())}static initializeApp(mt,Re){return{ngModule:nt,providers:[{provide:be,useValue:mt},{provide:Oe,useValue:Re}]}}}return nt.\u0275fac=function(mt){return new(mt||nt)(c.LFG(c.Lbi))},nt.\u0275mod=c.oAB({type:nt}),nt.\u0275inj=c.cJS({providers:[Se]}),nt})();function Ue(nt,De,mt,Re,ve){const[,ge,lt]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===nt)||[];if(ge)return function Te(nt,De){try{return nt.toString()===De.toString()}catch{return nt===De}}(ve,lt)||(xe("error",`${De} was already initialized on the ${mt} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:ve,was:lt})),ge;{const ke=Re();return globalThis.\u0275AngularfireInstanceCache.push([nt,ke,ve]),ke}}const Ze=!!Wt.hot,xe=(nt,...De)=>{(0,c.X6Q)()&&typeof console<"u"&&console[nt](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Wt,qe,D)=>{D.d(qe,{q4:()=>hd,iC:()=>zo,fc:()=>ia,HU:()=>Rs,vb:()=>$s,JM:()=>$a});var c=D(4650),p=D(5867),$=D(5861),pe=D(9681),v=D(2090),Ae=D(4859),Ne=D(1877),be=D(8766);const Oe="@firebase/installations",fe="0.5.12",Se=`w:${fe}`,ft="FIS_v2",De=new v.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(N){return N instanceof v.ZR&&N.code.includes("request-failed")}function Re({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function ve(N){return{token:N.token,requestStatus:2,expiresIn:Je(N.expiresIn),creationTime:Date.now()}}function ge(N,j){return lt.apply(this,arguments)}function lt(){return(lt=(0,$.Z)(function*(N,j){const Fe=(yield j.json()).error;return De.create("request-failed",{requestName:N,serverCode:Fe.code,serverMessage:Fe.message,serverStatus:Fe.status})})).apply(this,arguments)}function ke({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Ie(N,{refreshToken:j}){const ie=ke(N);return ie.append("Authorization",function ct(N){return`${ft} ${N}`}(j)),ie}function ot(N){return Me.apply(this,arguments)}function Me(){return(Me=(0,$.Z)(function*(N){const j=yield N();return j.status>=500&&j.status<600?N():j})).apply(this,arguments)}function Je(N){return Number(N.replace("s","000"))}function $e(N,j){return Le.apply(this,arguments)}function Le(){return(Le=(0,$.Z)(function*({appConfig:N,heartbeatServiceProvider:j},{fid:ie}){const Fe=Re(N),pt=ke(N),St=j.getImmediate({optional:!0});if(St){const ir=yield St.getHeartbeatsHeader();ir&&pt.append("x-firebase-client",ir)}const un={method:"POST",headers:pt,body:JSON.stringify({fid:ie,authVersion:ft,appId:N.appId,sdkVersion:Se})},jn=yield ot(()=>fetch(Fe,un));if(jn.ok){const ir=yield jn.json();return{fid:ir.fid||ie,registrationStatus:2,refreshToken:ir.refreshToken,authToken:ve(ir.authToken)}}throw yield ge("Create Installation",jn)})).apply(this,arguments)}function dt(N){return new Promise(j=>{setTimeout(j,N)})}const Ct=/^[cdef][\w-]{21}$/;function Tt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const ie=function Rt(N){return function tt(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return Ct.test(ie)?ie:""}catch{return""}}function zt(N){return`${N.appName}!${N.appId}`}const Xe=new Map;function Dt(N,j){const ie=zt(N);En(ie,j),function rr(N,j){const ie=function Vn(){return!hr&&"BroadcastChannel"in self&&(hr=new BroadcastChannel("[Firebase] FID Change"),hr.onmessage=N=>{En(N.data.key,N.data.fid)}),hr}();ie&&ie.postMessage({key:N,fid:j}),function Wn(){0===Xe.size&&hr&&(hr.close(),hr=null)}()}(ie,j)}function En(N,j){const ie=Xe.get(N);if(ie)for(const Fe of ie)Fe(j)}let hr=null;const Dn="firebase-installations-store";let or=null;function nn(){return or||(or=(0,be.X3)("firebase-installations-database",1,{upgrade:(N,j)=>{0===j&&N.createObjectStore(Dn)}})),or}function Bn(N,j){return On.apply(this,arguments)}function On(){return(On=(0,$.Z)(function*(N,j){const ie=zt(N),pt=(yield nn()).transaction(Dn,"readwrite"),St=pt.objectStore(Dn),qt=yield St.get(ie);return yield St.put(j,ie),yield pt.done,(!qt||qt.fid!==j.fid)&&Dt(N,j.fid),j})).apply(this,arguments)}function Mn(N){return ar.apply(this,arguments)}function ar(){return(ar=(0,$.Z)(function*(N){const j=zt(N),Fe=(yield nn()).transaction(Dn,"readwrite");yield Fe.objectStore(Dn).delete(j),yield Fe.done})).apply(this,arguments)}function _r(N,j){return br.apply(this,arguments)}function br(){return(br=(0,$.Z)(function*(N,j){const ie=zt(N),pt=(yield nn()).transaction(Dn,"readwrite"),St=pt.objectStore(Dn),qt=yield St.get(ie),un=j(qt);return void 0===un?yield St.delete(ie):yield St.put(un,ie),yield pt.done,un&&(!qt||qt.fid!==un.fid)&&Dt(N,un.fid),un})).apply(this,arguments)}function Er(N){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,$.Z)(function*(N){let j;const ie=yield _r(N.appConfig,Fe=>{const pt=_t(Fe),St=en(N,pt);return j=St.registrationPromise,St.installationEntry});return""===ie.fid?{installationEntry:yield j}:{installationEntry:ie,registrationPromise:j}})).apply(this,arguments)}function _t(N){return Tr(N||{fid:Tt(),registrationStatus:0})}function en(N,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(De.create("app-offline"))};const ie={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},Fe=function We(N,j){return ht.apply(this,arguments)}(N,ie);return{installationEntry:ie,registrationPromise:Fe}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:cn(N)}:{installationEntry:j}}function ht(){return(ht=(0,$.Z)(function*(N,j){try{const ie=yield $e(N,j);return Bn(N.appConfig,ie)}catch(ie){throw mt(ie)&&409===ie.customData.serverCode?yield Mn(N.appConfig):yield Bn(N.appConfig,{fid:j.fid,registrationStatus:0}),ie}})).apply(this,arguments)}function cn(N){return bn.apply(this,arguments)}function bn(){return(bn=(0,$.Z)(function*(N){let j=yield Sn(N.appConfig);for(;1===j.registrationStatus;)yield dt(100),j=yield Sn(N.appConfig);if(0===j.registrationStatus){const{installationEntry:ie,registrationPromise:Fe}=yield Er(N);return Fe||ie}return j})).apply(this,arguments)}function Sn(N){return _r(N,j=>{if(!j)throw De.create("installation-not-found");return Tr(j)})}function Tr(N){return function Nn(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Ln(N,j){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,$.Z)(function*({appConfig:N,heartbeatServiceProvider:j},ie){const Fe=Ot(N,ie),pt=Ie(N,ie),St=j.getImmediate({optional:!0});if(St){const ir=yield St.getHeartbeatsHeader();ir&&pt.append("x-firebase-client",ir)}const un={method:"POST",headers:pt,body:JSON.stringify({installation:{sdkVersion:Se,appId:N.appId}})},jn=yield ot(()=>fetch(Fe,un));if(jn.ok)return ve(yield jn.json());throw yield ge("Generate Auth Token",jn)})).apply(this,arguments)}function Ot(N,{fid:j}){return`${Re(N)}/${j}/authTokens:generate`}function O(N){return I.apply(this,arguments)}function I(){return(I=(0,$.Z)(function*(N,j=!1){let ie;const Fe=yield _r(N.appConfig,St=>{if(!kt(St))throw De.create("not-registered");const qt=St.authToken;if(!j&&hn(qt))return St;if(1===qt.requestStatus)return ie=T(N,j),St;{if(!navigator.onLine)throw De.create("app-offline");const un=an(St);return ie=He(N,un),un}});return ie?yield ie:Fe.authToken})).apply(this,arguments)}function T(N,j){return H.apply(this,arguments)}function H(){return(H=(0,$.Z)(function*(N,j){let ie=yield J(N.appConfig);for(;1===ie.authToken.requestStatus;)yield dt(100),ie=yield J(N.appConfig);const Fe=ie.authToken;return 0===Fe.requestStatus?O(N,j):Fe})).apply(this,arguments)}function J(N){return _r(N,j=>{if(!kt(j))throw De.create("not-registered");return function st(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function He(N,j){return Et.apply(this,arguments)}function Et(){return(Et=(0,$.Z)(function*(N,j){try{const ie=yield Ln(N,j),Fe=Object.assign(Object.assign({},j),{authToken:ie});return yield Bn(N.appConfig,Fe),ie}catch(ie){if(!mt(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const Fe=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield Bn(N.appConfig,Fe)}else yield Mn(N.appConfig);throw ie}})).apply(this,arguments)}function kt(N){return void 0!==N&&2===N.registrationStatus}function hn(N){return 2===N.requestStatus&&!function on(N){const j=Date.now();return j<N.creationTime||N.creationTime+N.expiresIn<j+36e5}(N)}function an(N){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:j})}function ne(){return(ne=(0,$.Z)(function*(N){const j=N,{installationEntry:ie,registrationPromise:Fe}=yield Er(j);return Fe?Fe.catch(console.error):O(j).catch(console.error),ie.fid})).apply(this,arguments)}function ce(){return(ce=(0,$.Z)(function*(N,j=!1){const ie=N;return yield Ve(ie),(yield O(ie,j)).token})).apply(this,arguments)}function Ve(N){return yt.apply(this,arguments)}function yt(){return(yt=(0,$.Z)(function*(N){const{registrationPromise:j}=yield Er(N);j&&(yield j)})).apply(this,arguments)}function sn(N){return De.create("missing-app-config-values",{valueName:N})}const zn="installations",ii=N=>{const j=N.getProvider("app").getImmediate(),ie=function An(N){if(!N||!N.options)throw sn("App Configuration");if(!N.name)throw sn("App Name");const j=["projectId","apiKey","appId"];for(const ie of j)if(!N.options[ie])throw sn(ie);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(j);return{app:j,appConfig:ie,heartbeatServiceProvider:(0,pe._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},Gr=N=>{const j=N.getProvider("app").getImmediate(),ie=(0,pe._getProvider)(j,zn).getImmediate();return{getId:()=>function Ke(N){return ne.apply(this,arguments)}(ie),getToken:pt=>function se(N){return ce.apply(this,arguments)}(ie,pt)}};(function Un(){(0,pe._registerComponent)(new Ae.wA(zn,ii,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("installations-internal",Gr,"PRIVATE"))})(),(0,pe.registerVersion)(Oe,fe),(0,pe.registerVersion)(Oe,fe,"esm2017");const ai="@firebase/remote-config",Sr=new v.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ds{constructor(j,ie,Fe,pt){this.client=j,this.storage=ie,this.storageCache=Fe,this.logger=pt}isCachedDataFresh(j,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Fe=Date.now()-ie,pt=Fe<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${pt}.`),pt}fetch(j){var ie=this;return(0,$.Z)(function*(){const[Fe,pt]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(pt&&ie.isCachedDataFresh(j.cacheMaxAgeMillis,Fe))return pt;j.eTag=pt&&pt.eTag;const St=yield ie.client.fetch(j),qt=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&qt.push(ie.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(qt),St})()}}function Ts(N=navigator){return N.languages&&N.languages[0]||N.language}class zr{constructor(j,ie,Fe,pt,St,qt){this.firebaseInstallations=j,this.sdkVersion=ie,this.namespace=Fe,this.projectId=pt,this.apiKey=St,this.appId=qt}fetch(j){var ie=this;return(0,$.Z)(function*(){var Fe,pt,St;const[qt,un]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),ir=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,sr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Jn={sdk_version:ie.sdkVersion,app_instance_id:qt,app_instance_id_token:un,app_id:ie.appId,language_code:Ts()},Fi={method:"POST",headers:sr,body:JSON.stringify(Jn)},Xs=fetch(ir,Fi),Ro=new Promise((eo,Lo)=>{j.signal.addEventListener(()=>{const Al=new Error("The operation was aborted.");Al.name="AbortError",Lo(Al)})});let Zo;try{yield Promise.race([Xs,Ro]),Zo=yield Xs}catch(eo){let Lo="fetch-client-network";throw"AbortError"===(null===(Fe=eo)||void 0===Fe?void 0:Fe.name)&&(Lo="fetch-timeout"),Sr.create(Lo,{originalErrorMessage:null===(pt=eo)||void 0===pt?void 0:pt.message})}let wo=Zo.status;const Tl=Zo.headers.get("ETag")||void 0;let Za,ga;if(200===Zo.status){let eo;try{eo=yield Zo.json()}catch(Lo){throw Sr.create("fetch-client-parse",{originalErrorMessage:null===(St=Lo)||void 0===St?void 0:St.message})}Za=eo.entries,ga=eo.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?wo=500:"NO_CHANGE"===ga?wo=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(Za={}),304!==wo&&200!==wo)throw Sr.create("fetch-status",{httpStatus:wo});return{status:wo,eTag:Tl,config:Za}})()}}class rt{constructor(j,ie){this.client=j,this.storage=ie}fetch(j){var ie=this;return(0,$.Z)(function*(){const Fe=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(j,Fe)})()}attemptFetch(j,{throttleEndTimeMillis:ie,backoffCount:Fe}){var pt=this;return(0,$.Z)(function*(){yield function uo(N,j){return new Promise((ie,Fe)=>{const pt=Math.max(j-Date.now(),0),St=setTimeout(ie,pt);N.addEventListener(()=>{clearTimeout(St),Fe(Sr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ie);try{const St=yield pt.client.fetch(j);return yield pt.storage.deleteThrottleMetadata(),St}catch(St){if(!function ut(N){if(!(N instanceof v.ZR&&N.customData))return!1;const j=Number(N.customData.httpStatus);return 429===j||500===j||503===j||504===j}(St))throw St;const qt={throttleEndTimeMillis:Date.now()+(0,v.$s)(Fe),backoffCount:Fe+1};return yield pt.storage.setThrottleMetadata(qt),pt.attemptFetch(j,qt)}})()}}class tn{constructor(j,ie,Fe,pt,St){this.app=j,this._client=ie,this._storageCache=Fe,this._storage=pt,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fn(N,j){var ie;const Fe=N.target.error||void 0;return Sr.create(j,{originalErrorMessage:Fe&&(null===(ie=Fe)||void 0===ie?void 0:ie.message)})}const ur="app_namespace_store";class ds{constructor(j,ie,Fe,pt=function Ri(){return new Promise((N,j)=>{var ie;try{const Fe=indexedDB.open("firebase_remote_config",1);Fe.onerror=pt=>{j(fn(pt,"storage-open"))},Fe.onsuccess=pt=>{N(pt.target.result)},Fe.onupgradeneeded=pt=>{0===pt.oldVersion&&pt.target.result.createObjectStore(ur,{keyPath:"compositeKey"})}}catch(Fe){j(Sr.create("storage-open",{originalErrorMessage:null===(ie=Fe)||void 0===ie?void 0:ie.message}))}})}()){this.appId=j,this.appName=ie,this.namespace=Fe,this.openDbPromise=pt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ie=this;return(0,$.Z)(function*(){const Fe=yield ie.openDbPromise;return new Promise((pt,St)=>{var qt;const jn=Fe.transaction([ur],"readonly").objectStore(ur),ir=ie.createCompositeKey(j);try{const sr=jn.get(ir);sr.onerror=Jn=>{St(fn(Jn,"storage-get"))},sr.onsuccess=Jn=>{const Fi=Jn.target.result;pt(Fi?Fi.value:void 0)}}catch(sr){St(Sr.create("storage-get",{originalErrorMessage:null===(qt=sr)||void 0===qt?void 0:qt.message}))}})})()}set(j,ie){var Fe=this;return(0,$.Z)(function*(){const pt=yield Fe.openDbPromise;return new Promise((St,qt)=>{var un;const ir=pt.transaction([ur],"readwrite").objectStore(ur),sr=Fe.createCompositeKey(j);try{const Jn=ir.put({compositeKey:sr,value:ie});Jn.onerror=Fi=>{qt(fn(Fi,"storage-set"))},Jn.onsuccess=()=>{St()}}catch(Jn){qt(Sr.create("storage-set",{originalErrorMessage:null===(un=Jn)||void 0===un?void 0:un.message}))}})})()}delete(j){var ie=this;return(0,$.Z)(function*(){const Fe=yield ie.openDbPromise;return new Promise((pt,St)=>{var qt;const jn=Fe.transaction([ur],"readwrite").objectStore(ur),ir=ie.createCompositeKey(j);try{const sr=jn.delete(ir);sr.onerror=Jn=>{St(fn(Jn,"storage-delete"))},sr.onsuccess=()=>{pt()}}catch(sr){St(Sr.create("storage-delete",{originalErrorMessage:null===(qt=sr)||void 0===qt?void 0:qt.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class qi{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,$.Z)(function*(){const ie=j.storage.getLastFetchStatus(),Fe=j.storage.getLastSuccessfulFetchTimestampMillis(),pt=j.storage.getActiveConfig(),St=yield ie;St&&(j.lastFetchStatus=St);const qt=yield Fe;qt&&(j.lastSuccessfulFetchTimestampMillis=qt);const un=yield pt;un&&(j.activeConfig=un)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function yo(){return gs.apply(this,arguments)}function gs(){return(gs=(0,$.Z)(function*(){if(!(0,v.hl)())return!1;try{return yield(0,v.eu)()}catch{return!1}})).apply(this,arguments)}!function hs(){(0,pe._registerComponent)(new Ae.wA("remote-config",function N(j,{instanceIdentifier:ie}){const Fe=j.getProvider("app").getImmediate(),pt=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,v.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:St,apiKey:qt,appId:un}=Fe.options;if(!St)throw Sr.create("registration-project-id");if(!qt)throw Sr.create("registration-api-key");if(!un)throw Sr.create("registration-app-id");const jn=new ds(un,Fe.name,ie=ie||"firebase"),ir=new qi(jn),sr=new Ne.Yd(ai);sr.logLevel=Ne.in.ERROR;const Jn=new zr(pt,pe.SDK_VERSION,ie,St,qt,un),Fi=new rt(Jn,jn),Xs=new Ds(Fi,jn,ir,sr),Ro=new tn(Fe,Xs,ir,jn,sr);return function Xr(N){const j=(0,v.m9)(N);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Ro),Ro},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(ai,"0.3.11"),(0,pe.registerVersion)(ai,"0.3.11","esm2017")}();const ys="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",Ns="google.c.a.c_l",ko="google.c.a.ts",Ni="google.c.a.e";var fs=(()=>{return(N=fs||(fs={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",fs;var N})();function Bi(N){const j=new Uint8Array(N);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zs(N){const ie=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Fe=atob(ie),pt=new Uint8Array(Fe.length);for(let St=0;St<Fe.length;++St)pt[St]=Fe.charCodeAt(St);return pt}const xr="fcm_token_details_db",_o="fcm_token_object_Store";function _i(N){return ji.apply(this,arguments)}function ji(){return ji=(0,$.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(xr))return null;let j=null;return(yield(0,be.X3)(xr,5,{upgrade:(Fe=(0,$.Z)(function*(pt,St,qt,un){var jn;if(St<2||!pt.objectStoreNames.contains(_o))return;const ir=un.objectStore(_o),sr=yield ir.index("fcmSenderId").get(N);if(yield ir.clear(),sr)if(2===St){const Jn=sr;if(!Jn.auth||!Jn.p256dh||!Jn.endpoint)return;j={token:Jn.fcmToken,createTime:null!==(jn=Jn.createTime)&&void 0!==jn?jn:Date.now(),subscriptionOptions:{auth:Jn.auth,p256dh:Jn.p256dh,endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:"string"==typeof Jn.vapidKey?Jn.vapidKey:Bi(Jn.vapidKey)}}}else if(3===St){const Jn=sr;j={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:Bi(Jn.auth),p256dh:Bi(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:Bi(Jn.vapidKey)}}}else if(4===St){const Jn=sr;j={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:Bi(Jn.auth),p256dh:Bi(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:Bi(Jn.vapidKey)}}}}),function(St,qt,un,jn){return Fe.apply(this,arguments)})})).close(),yield(0,be.Lj)(xr),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),As(j)?j:null;var Fe}),ji.apply(this,arguments)}function As(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:j}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const vs="firebase-messaging-store";let Hi=null;function fr(){return Hi||(Hi=(0,be.X3)("firebase-messaging-database",1,{upgrade:(N,j)=>{0===j&&N.createObjectStore(vs)}})),Hi}function L(N){return te.apply(this,arguments)}function te(){return(te=(0,$.Z)(function*(N){const j=Ut(N),Fe=yield(yield fr()).transaction(vs).objectStore(vs).get(j);if(Fe)return Fe;{const pt=yield _i(N.appConfig.senderId);if(pt)return yield U(N,pt),pt}})).apply(this,arguments)}function U(N,j){return de.apply(this,arguments)}function de(){return(de=(0,$.Z)(function*(N,j){const ie=Ut(N),pt=(yield fr()).transaction(vs,"readwrite");return yield pt.objectStore(vs).put(j,ie),yield pt.done,j})).apply(this,arguments)}function Ge(N){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,$.Z)(function*(N){const j=Ut(N),Fe=(yield fr()).transaction(vs,"readwrite");yield Fe.objectStore(vs).delete(j),yield Fe.done})).apply(this,arguments)}function Ut({appConfig:N}){return N.appId}const qn=new v.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gr(N,j){return nr.apply(this,arguments)}function nr(){return(nr=(0,$.Z)(function*(N,j){var ie;const Fe=yield F(N),pt=le(j),St={method:"POST",headers:Fe,body:JSON.stringify(pt)};let qt;try{qt=yield(yield fetch(Z(N.appConfig),St)).json()}catch(un){throw qn.create("token-subscribe-failed",{errorInfo:null===(ie=un)||void 0===ie?void 0:ie.toString()})}if(qt.error)throw qn.create("token-subscribe-failed",{errorInfo:qt.error.message});if(!qt.token)throw qn.create("token-subscribe-no-token");return qt.token})).apply(this,arguments)}function wr(N,j){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,$.Z)(function*(N,j){var ie;const Fe=yield F(N),pt=le(j.subscriptionOptions),St={method:"PATCH",headers:Fe,body:JSON.stringify(pt)};let qt;try{qt=yield(yield fetch(`${Z(N.appConfig)}/${j.token}`,St)).json()}catch(un){throw qn.create("token-update-failed",{errorInfo:null===(ie=un)||void 0===ie?void 0:ie.toString()})}if(qt.error)throw qn.create("token-update-failed",{errorInfo:qt.error.message});if(!qt.token)throw qn.create("token-update-no-token");return qt.token})).apply(this,arguments)}function Nr(N,j){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,$.Z)(function*(N,j){var ie;const pt={method:"DELETE",headers:yield F(N)};try{const qt=yield(yield fetch(`${Z(N.appConfig)}/${j}`,pt)).json();if(qt.error)throw qn.create("token-unsubscribe-failed",{errorInfo:qt.error.message})}catch(St){throw qn.create("token-unsubscribe-failed",{errorInfo:null===(ie=St)||void 0===ie?void 0:ie.toString()})}})).apply(this,arguments)}function Z({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function F(N){return R.apply(this,arguments)}function R(){return(R=(0,$.Z)(function*({appConfig:N,installations:j}){const ie=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function le({p256dh:N,auth:j,endpoint:ie,vapidKey:Fe}){const pt={web:{endpoint:ie,auth:j,p256dh:N}};return Fe!==_s&&(pt.web.applicationPubKey=Fe),pt}const Ft=6048e5;function Fn(N){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,$.Z)(function*(N){const j=yield jt(N.swRegistration,N.vapidKey),ie={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:j.endpoint,auth:Bi(j.getKey("auth")),p256dh:Bi(j.getKey("p256dh"))},Fe=yield L(N.firebaseDependencies);if(Fe){if(pn(Fe.subscriptionOptions,ie))return Date.now()>=Fe.createTime+Ft?me(N,{token:Fe.token,createTime:Date.now(),subscriptionOptions:ie}):Fe.token;try{yield Nr(N.firebaseDependencies,Fe.token)}catch(pt){console.warn(pt)}return Qe(N.firebaseDependencies,ie)}return Qe(N.firebaseDependencies,ie)})).apply(this,arguments)}function K(N){return G.apply(this,arguments)}function G(){return(G=(0,$.Z)(function*(N){const j=yield L(N.firebaseDependencies);j&&(yield Nr(N.firebaseDependencies,j.token),yield Ge(N.firebaseDependencies));const ie=yield N.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function me(N,j){return ae.apply(this,arguments)}function ae(){return(ae=(0,$.Z)(function*(N,j){try{const ie=yield wr(N.firebaseDependencies,j),Fe=Object.assign(Object.assign({},j),{token:ie,createTime:Date.now()});return yield U(N.firebaseDependencies,Fe),ie}catch(ie){throw yield K(N),ie}})).apply(this,arguments)}function Qe(N,j){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,$.Z)(function*(N,j){const Fe={token:yield gr(N,j),createTime:Date.now(),subscriptionOptions:j};return yield U(N,Fe),Fe.token})).apply(this,arguments)}function jt(N,j){return yn.apply(this,arguments)}function yn(){return(yn=(0,$.Z)(function*(N,j){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zs(j)})})).apply(this,arguments)}function pn(N,j){return j.vapidKey===N.vapidKey&&j.endpoint===N.endpoint&&j.auth===N.auth&&j.p256dh===N.p256dh}function Yn(N){const j={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function yr(N,j){if(!j.notification)return;N.notification={};const ie=j.notification.title;ie&&(N.notification.title=ie);const Fe=j.notification.body;Fe&&(N.notification.body=Fe);const pt=j.notification.image;pt&&(N.notification.image=pt)}(j,N),function gi(N,j){!j.data||(N.data=j.data)}(j,N),function pi(N,j){var ie,Fe,pt,St,qt;if(!j.fcmOptions&&!(null===(ie=j.notification)||void 0===ie?void 0:ie.click_action))return;N.fcmOptions={};const un=null!==(pt=null===(Fe=j.fcmOptions)||void 0===Fe?void 0:Fe.link)&&void 0!==pt?pt:null===(St=j.notification)||void 0===St?void 0:St.click_action;un&&(N.fcmOptions.link=un);const jn=null===(qt=j.fcmOptions)||void 0===qt?void 0:qt.analytics_label;jn&&(N.fcmOptions.analyticsLabel=jn)}(j,N),j}function Ai(N){return"object"==typeof N&&!!N&&ks in N}function ti(N,j){const ie=[];for(let Fe=0;Fe<N.length;Fe++)ie.push(N.charAt(Fe)),Fe<j.length&&ie.push(j.charAt(Fe));return ie.join("")}function Cr(N){return qn.create("missing-app-config-values",{valueName:N})}ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ti("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Si{constructor(j,ie,Fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pt=function vi(N){if(!N||!N.options)throw Cr("App Configuration Object");if(!N.name)throw Cr("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=N;for(const Fe of j)if(!ie[Fe])throw Cr(Fe);return{appName:N.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:pt,installations:ie,analyticsProvider:Fe}}_delete(){return Promise.resolve()}}function Ws(N){return q.apply(this,arguments)}function q(){return(q=(0,$.Z)(function*(N){var j;try{N.swRegistration=yield navigator.serviceWorker.register(ys,{scope:Ti}),N.swRegistration.update().catch(()=>{})}catch(ie){throw qn.create("failed-service-worker-registration",{browserErrorMessage:null===(j=ie)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function y(N,j){return E.apply(this,arguments)}function E(){return(E=(0,$.Z)(function*(N,j){if(!j&&!N.swRegistration&&(yield Ws(N)),j||!N.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");N.swRegistration=j}})).apply(this,arguments)}function k(N,j){return X.apply(this,arguments)}function X(){return(X=(0,$.Z)(function*(N,j){j?N.vapidKey=j:N.vapidKey||(N.vapidKey=_s)})).apply(this,arguments)}function Be(){return(Be=(0,$.Z)(function*(N,j){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield k(N,null==j?void 0:j.vapidKey),yield y(N,null==j?void 0:j.serviceWorkerRegistration),Fn(N)})).apply(this,arguments)}function Ye(N,j,ie){return vt.apply(this,arguments)}function vt(){return(vt=(0,$.Z)(function*(N,j,ie){const Fe=Vt(j);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(Fe,{message_id:ie[ks],message_name:ie[Ns],message_time:ie[ko],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vt(N){switch(N){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pn(){return(Pn=(0,$.Z)(function*(N,j){const ie=j.data;if(!ie.isFirebaseMessaging)return;N.onMessageHandler&&ie.messageType===fs.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Yn(ie)):N.onMessageHandler.next(Yn(ie)));const Fe=ie.data;Ai(Fe)&&"1"===Fe[Ni]&&(yield Ye(N,ie.messageType,Fe))})).apply(this,arguments)}const Kn="@firebase/messaging",xn=N=>{const j=new Si(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function _n(N,j){return Pn.apply(this,arguments)}(j,ie)),j},pr=N=>{const j=N.getProvider("messaging").getImmediate();return{getToken:Fe=>function Ee(N,j){return Be.apply(this,arguments)}(j,Fe)}};function mi(){return bi.apply(this,arguments)}function bi(){return(bi=(0,$.Z)(function*(){try{yield(0,v.eu)()}catch{return!1}return typeof window<"u"&&(0,v.hl)()&&(0,v.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ni(){(0,pe._registerComponent)(new Ae.wA("messaging",xn,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("messaging-internal",pr,"PRIVATE")),(0,pe.registerVersion)(Kn,"0.9.16"),(0,pe.registerVersion)(Kn,"0.9.16","esm2017")}();const To="analytics",Xo="firebase_id",vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dn="https://www.googletagmanager.com/gtag/js",vn=new Ne.Yd("@firebase/analytics");function Qn(N){return Promise.all(N.map(j=>j.catch(ie=>ie)))}function mr(N,j){const ie=document.createElement("script");ie.src=`${dn}?l=${N}&id=${j}`,ie.async=!0,document.head.appendChild(ie)}function as(N,j,ie,Fe,pt,St){return ps.apply(this,arguments)}function ps(){return(ps=(0,$.Z)(function*(N,j,ie,Fe,pt,St){const qt=Fe[pt];try{if(qt)yield j[qt];else{const jn=(yield Qn(ie)).find(ir=>ir.measurementId===pt);jn&&(yield j[jn.appId])}}catch(un){vn.error(un)}N("config",pt,St)})).apply(this,arguments)}function bs(N,j,ie,Fe,pt){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,$.Z)(function*(N,j,ie,Fe,pt){try{let St=[];if(pt&&pt.send_to){let qt=pt.send_to;Array.isArray(qt)||(qt=[qt]);const un=yield Qn(ie);for(const jn of qt){const ir=un.find(Jn=>Jn.measurementId===jn),sr=ir&&j[ir.appId];if(!sr){St=[];break}St.push(sr)}}0===St.length&&(St=Object.values(j)),yield Promise.all(St),N("event",Fe,pt||{})}catch(St){vn.error(St)}})).apply(this,arguments)}function Es(){const N=window.document.getElementsByTagName("script");for(const j of Object.values(N))if(j.src&&j.src.includes(dn))return j;return null}const oi=new v.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),el=new class la{constructor(j={},ie=1e3){this.throttleMetadata=j,this.intervalMillis=ie}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ie){this.throttleMetadata[j]=ie}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function ua(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function ta(N){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,$.Z)(function*(N){var j;const{appId:ie,apiKey:Fe}=N,pt={method:"GET",headers:ua(Fe)},St=vo.replace("{app-id}",ie),qt=yield fetch(St,pt);if(200!==qt.status&&304!==qt.status){let un="";try{const jn=yield qt.json();(null===(j=jn.error)||void 0===j?void 0:j.message)&&(un=jn.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:qt.status,responseMessage:un})}return qt.json()})).apply(this,arguments)}function No(N){return $o.apply(this,arguments)}function $o(){return($o=(0,$.Z)(function*(N,j=el,ie){const{appId:Fe,apiKey:pt,measurementId:St}=N.options;if(!Fe)throw oi.create("no-app-id");if(!pt){if(St)return{measurementId:St,appId:Fe};throw oi.create("no-api-key")}const qt=j.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},un=new Va;return setTimeout((0,$.Z)(function*(){un.abort()}),void 0!==ie?ie:6e4),ca({appId:Fe,apiKey:pt,measurementId:St},qt,un,j)})).apply(this,arguments)}function ca(N,j,ie){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,$.Z)(function*(N,{throttleEndTimeMillis:j,backoffCount:ie},Fe,pt=el){var St,qt;const{appId:un,measurementId:jn}=N;try{yield na(Fe,j)}catch(ir){if(jn)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jn} provided in the "measurementId" field in the local Firebase config. [${null===(St=ir)||void 0===St?void 0:St.message}]`),{appId:un,measurementId:jn};throw ir}try{const ir=yield ta(N);return pt.deleteThrottleMetadata(un),ir}catch(ir){const sr=ir;if(!bo(sr)){if(pt.deleteThrottleMetadata(un),jn)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jn} provided in the "measurementId" field in the local Firebase config. [${null==sr?void 0:sr.message}]`),{appId:un,measurementId:jn};throw ir}const Jn=503===Number(null===(qt=null==sr?void 0:sr.customData)||void 0===qt?void 0:qt.httpStatus)?(0,v.$s)(ie,pt.intervalMillis,30):(0,v.$s)(ie,pt.intervalMillis),Fi={throttleEndTimeMillis:Date.now()+Jn,backoffCount:ie+1};return pt.setThrottleMetadata(un,Fi),vn.debug(`Calling attemptFetch again in ${Jn} millis`),ca(N,Fi,Fe,pt)}})).apply(this,arguments)}function na(N,j){return new Promise((ie,Fe)=>{const pt=Math.max(j-Date.now(),0),St=setTimeout(ie,pt);N.addEventListener(()=>{clearTimeout(St),Fe(oi.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function bo(N){if(!(N instanceof v.ZR&&N.customData))return!1;const j=Number(N.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Va{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let tl,je;function Ei(){return(Ei=(0,$.Z)(function*(N,j,ie,Fe,pt){if(pt&&pt.global)N("event",ie,Fe);else{const St=yield j;N("event",ie,Object.assign(Object.assign({},Fe),{send_to:St}))}})).apply(this,arguments)}function Bt(N){je=N}function Tn(N){tl=N}function Fr(){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,$.Z)(function*(){var N;if(!(0,v.hl)())return vn.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,v.eu)()}catch(j){return vn.warn(oi.create("indexeddb-unavailable",{errorInfo:null===(N=j)||void 0===N?void 0:N.toString()}).message),!1}return!0})).apply(this,arguments)}function ci(){return(ci=(0,$.Z)(function*(N,j,ie,Fe,pt,St,qt){var un;const jn=No(N);jn.then(Xs=>{ie[Xs.measurementId]=Xs.appId,N.options.measurementId&&Xs.measurementId!==N.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xs=>vn.error(Xs)),j.push(jn);const ir=Fr().then(Xs=>{if(Xs)return Fe.getId()}),[sr,Jn]=yield Promise.all([jn,ir]);Es()||mr(St,sr.measurementId),je&&(pt("consent","default",je),Bt(void 0)),pt("js",new Date);const Fi=null!==(un=null==qt?void 0:qt.config)&&void 0!==un?un:{};return Fi.origin="firebase",Fi.update=!0,null!=Jn&&(Fi[Xo]=Jn),pt("config",sr.measurementId,Fi),tl&&(pt("set",tl),Tn(void 0)),sr.measurementId})).apply(this,arguments)}class Eo{constructor(j){this.app=j}_delete(){return delete Bs[this.app.options.appId],Promise.resolve()}}let Bs={},Ca=[];const da={};let Mo,ho,Ys="dataLayer",wi=!1;function qr(N,j,ie){!function wl(){const N=[];if((0,v.ru)()&&N.push("This is a browser extension environment."),(0,v.zI)()||N.push("Cookies are not available."),N.length>0){const j=N.map((Fe,pt)=>`(${pt+1}) ${Fe}`).join(" "),ie=oi.create("invalid-analytics-context",{errorInfo:j});vn.warn(ie.message)}}();const Fe=N.options.appId;if(!Fe)throw oi.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw oi.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bs[Fe])throw oi.create("already-exists",{id:Fe});if(!wi){!function Zr(N){let j=[];Array.isArray(window[N])?j=window[N]:window[N]=j}(Ys);const{wrappedGtag:St,gtagCore:qt}=function Vs(N,j,ie,Fe,pt){let St=function(...qt){window[Fe].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(St=window[pt]),window[pt]=function ea(N,j,ie,Fe){function St(){return(St=(0,$.Z)(function*(qt,un,jn){try{"event"===qt?yield bs(N,j,ie,un,jn):"config"===qt?yield as(N,j,ie,Fe,un,jn):"consent"===qt?N("consent","update",jn):N("set",un)}catch(ir){vn.error(ir)}})).apply(this,arguments)}return function pt(qt,un,jn){return St.apply(this,arguments)}}(St,N,j,ie),{gtagCore:St,wrappedGtag:window[pt]}}(Bs,Ca,da,Ys,"gtag");ho=St,Mo=qt,wi=!0}return Bs[Fe]=function ui(N,j,ie,Fe,pt,St,qt){return ci.apply(this,arguments)}(N,Ca,da,j,Mo,Ys,ie),new Eo(N)}function gn(){return nl.apply(this,arguments)}function nl(){return(nl=(0,$.Z)(function*(){if((0,v.ru)()||!(0,v.zI)()||!(0,v.hl)())return!1;try{return yield(0,v.eu)()}catch{return!1}})).apply(this,arguments)}const Ia="@firebase/analytics";!function Il(){(0,pe._registerComponent)(new Ae.wA(To,(j,{options:ie})=>qr(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("analytics-internal",function N(j){try{const ie=j.getProvider(To).getImmediate();return{logEvent:(Fe,pt,St)=>function ja(N,j,ie,Fe){N=(0,v.m9)(N),function Yt(N,j,ie,Fe,pt){return Ei.apply(this,arguments)}(ho,Bs[N.app.options.appId],j,ie,Fe).catch(pt=>vn.error(pt))}(ie,Fe,pt,St)}}catch(ie){throw oi.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,pe.registerVersion)(Ia,"0.8.0"),(0,pe.registerVersion)(Ia,"0.8.0","esm2017")}();var Mu=D(4408),Cs=D(7565);const xt=new class Ha extends Cs.v{}(class oo extends Mu.o{constructor(j,ie){super(j,ie),this.scheduler=j,this.work=ie}schedule(j,ie=0){return ie>0?super.schedule(j,ie):(this.delay=ie,this.state=j,this.scheduler.flush(this),this)}execute(j,ie){return ie>0||this.closed?super.execute(j,ie):this._execute(j,ie)}requestAsyncId(j,ie,Fe=0){return null!=Fe&&Fe>0||null==Fe&&this.delay>0?super.requestAsyncId(j,ie,Fe):j.flush(this)}});var xo=D(4986),Da=D(8505),ha=D(5363),Ta=D(9468);const hd=new c.GfV("7.4.1"),Go="__angularfire_symbol__analyticsIsSupportedValue",Hs="__angularfire_symbol__analyticsIsSupported",fa="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",xu="__angularfire_symbol__messagingIsSupportedValue",xs="__angularfire_symbol__messagingIsSupported";function $a(N,j,ie){if(j){if(1===j.length)return j[0];const St=j.filter(qt=>qt.app===ie);if(1===St.length)return St[0]}return ie.container.getProvider(N).getImmediate({optional:!0})}globalThis[Hs]||(globalThis[Hs]=gn().then(N=>globalThis[Go]=N).catch(()=>globalThis[Go]=!1)),globalThis[xs]||(globalThis[xs]=mi().then(N=>globalThis[xu]=N).catch(()=>globalThis[xu]=!1)),globalThis[pa]||(globalThis[pa]=yo().then(N=>globalThis[fa]=N).catch(()=>globalThis[fa]=!1));const $s=(N,j)=>{const ie=j?[j]:(0,p.C6)(),Fe=[];return ie.forEach(pt=>{pt.container.getProvider(N).instances.forEach(qt=>{Fe.includes(qt)||Fe.push(qt)})}),Fe};function Br(){}class Ga{constructor(j,ie=xt){this.zone=j,this.delegate=ie}now(){return this.delegate.now()}schedule(j,ie,Fe){const pt=this.zone;return this.delegate.schedule(function(qt){pt.runGuarded(()=>{j.apply(this,[qt])})},ie,Fe)}}class rl{constructor(j){this.zone=j,this.task=null}call(j,ie){const Fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Br,{},Br,Br)),ie.pipe((0,Da.b)({next:Fe,complete:Fe,error:Fe})).subscribe(j).add(Fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rs=(()=>{class N{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new Ga(Zone.current)),this.insideAngular=ie.run(()=>new Ga(Zone.current,xo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(ie){return new(ie||N)(c.LFG(c.R0b))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Fo(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function ia(N){return N.pipe((0,ha.Q)(Fo().outsideAngular))}function zo(N){return Fo(),function iu(N){return function(ie){return(ie=ie.lift(new rl(N.ngZone))).pipe((0,Ta.R)(N.outsideAngular),(0,ha.Q)(N.insideAngular))}}(Fo())(N)}},8554:(Wt,qe,D)=>{D.d(qe,{$:()=>Z,A:()=>he,B:()=>Ue,G:()=>Gr,H:()=>hi,J:()=>rt,L:()=>hn,M:()=>gs,N:()=>Gs,P:()=>xo,Q:()=>ks,R:()=>Su,T:()=>Ns,U:()=>_s,V:()=>fs,W:()=>Bi,X:()=>_i,Y:()=>Cn,Z:()=>gr,_:()=>wr,a:()=>So,a0:()=>Fn,a1:()=>K,a2:()=>me,a3:()=>Qe,a4:()=>jt,a5:()=>pn,a6:()=>yr,a7:()=>gi,a8:()=>Ai,a9:()=>ti,aA:()=>Xs,aB:()=>jn,aC:()=>ia,aD:()=>Aa,aE:()=>mn,aI:()=>ua,aL:()=>Ni,aa:()=>Ws,ab:()=>y,ac:()=>k,af:()=>Ye,ag:()=>Vt,ah:()=>_n,ak:()=>vs,al:()=>Vr,an:()=>dn,ao:()=>ps,ap:()=>ue,aq:()=>ot,ar:()=>Ce,as:()=>Ve,at:()=>mt,au:()=>no,av:()=>Tl,aw:()=>Re,ax:()=>ke,ay:()=>Je,az:()=>on,b:()=>oi,c:()=>xu,d:()=>dc,e:()=>Dl,f:()=>iu,g:()=>Fe,h:()=>N,i:()=>Hn,j:()=>qt,k:()=>gc,l:()=>js,m:()=>Ml,o:()=>be,r:()=>Mu,s:()=>Ms,u:()=>xt});var c=D(5861),p=D(2090),$=D(9681),pe=D(655),v=D(1877),Ae=D(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new p.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new v.Yd("@firebase/auth");function De(C,...f){nt.logLevel<=v.in.ERROR&&nt.error(`Auth (${$.SDK_VERSION}): ${C}`,...f)}function mt(C,...f){throw lt(C,...f)}function Re(C,...f){return lt(C,...f)}function ve(C,f,m){const M=Object.assign(Object.assign({},Te()),{[f]:m});return new p.LL("auth","Firebase",M).create(f,{appName:C.name})}function ge(C,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&mt(C,"argument-error"),ve(C,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(C,...f){if("string"!=typeof C){const m=f[0],M=[...f.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(m,...M)}return Ze.create(C,...f)}function ke(C,f,...m){if(!C)throw lt(f,...m)}function Ie(C){const f="INTERNAL ASSERTION FAILED: "+C;throw De(f),new Error(f)}function ot(C,f){C||Ie(f)}const Me=new Map;function Je(C){ot(C instanceof Function,"Expected a class definition");let f=Me.get(C);return f?(ot(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,Me.set(C,f),f)}function Le(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function dt(){return"http:"===tt()||"https:"===tt()}function tt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Tt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ot(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,p.uI)()||(0,p.b$)()}get(){return function Ct(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,p.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(C,f){ot(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class zt{static initialize(f,m,M){this.fetchImpl=f,m&&(this.headersImpl=m),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Tt(3e4,6e4);function Lt(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function rn(C,f,m,M){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(C,f,m,M,ee={}){return rr(C,ee,(0,c.Z)(function*(){let we={},It={};M&&("GET"===f?It=M:we={body:JSON.stringify(M)});const Kt=(0,p.xO)(Object.assign({key:C.config.apiKey},It)).slice(1),Rn=yield C._getAdditionalHeaders();return Rn["Content-Type"]="application/json",C.languageCode&&(Rn["X-Firebase-Locale"]=C.languageCode),zt.fetch()(kn(C,C.config.apiHost,m,Kt),Object.assign({method:f,headers:Rn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function rr(C,f,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(C,f,m){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Xe),f);try{const ee=new Gn(C),we=yield Promise.race([m(),ee.promise]);ee.clearNetworkTimeout();const It=yield we.json();if("needConfirmation"in It)throw Dn(C,"account-exists-with-different-credential",It);if(we.ok&&!("errorMessage"in It))return It;{const Kt=we.ok?It.errorMessage:It.error.message,[Rn,er]=Kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw Dn(C,"credential-already-in-use",It);if("EMAIL_EXISTS"===Rn)throw Dn(C,"email-already-in-use",It);if("USER_DISABLED"===Rn)throw Dn(C,"user-disabled",It);const Hr=M[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(er)throw ve(C,Hr,er);mt(C,Hr)}}catch(ee){if(ee instanceof p.ZR)throw ee;mt(C,"network-request-failed")}})).apply(this,arguments)}function Vn(C,f,m,M){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(C,f,m,M,ee={}){const we=yield rn(C,f,m,M,ee);return"mfaPendingCredential"in we&&mt(C,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function kn(C,f,m,M){const ee=`${f}${m}?${M}`;return C.config.emulator?Rt(C.config,ee):`${C.config.apiScheme}://${ee}`}class Gn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,M)=>{this.timer=setTimeout(()=>M(Re(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(C,f,m){const M={appName:C.name};m.email&&(M.email=m.email),m.phoneNumber&&(M.phoneNumber=m.phoneNumber);const ee=Re(C,f,M);return ee.customData._tokenResponse=m,ee}function nn(){return(nn=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Bn(C,f){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mn(C,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function _r(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Dr(){return(Dr=(0,c.Z)(function*(C,f=!1){const m=(0,p.m9)(C),M=yield m.getIdToken(f),ee=en(M);ke(ee&&ee.exp&&ee.auth_time&&ee.iat,m.auth,"internal-error");const we="object"==typeof ee.firebase?ee.firebase:void 0,It=null==we?void 0:we.sign_in_provider;return{claims:ee,token:M,authTime:_r(_t(ee.auth_time)),issuedAtTime:_r(_t(ee.iat)),expirationTime:_r(_t(ee.exp)),signInProvider:It||null,signInSecondFactor:(null==we?void 0:we.sign_in_second_factor)||null}})).apply(this,arguments)}function _t(C){return 1e3*Number(C)}function en(C){var f;const[m,M,ee]=C.split(".");if(void 0===m||void 0===M||void 0===ee)return De("JWT malformed, contained fewer than 3 sections"),null;try{const we=(0,p.tV)(M);return we?JSON.parse(we):(De("Failed to decode base64 JWT payload"),null)}catch(we){return De("Caught error parsing JWT payload as JSON",null===(f=we)||void 0===f?void 0:f.toString()),null}}function ht(C,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(C,f,m=!1){if(m)return f;try{return yield f}catch(M){throw M instanceof p.ZR&&bn(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}function bn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Sn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const ee=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,ee)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const M=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),M)}iteration(){var f=this;return(0,c.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(m=M)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Tr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(C){var f;const m=C.auth,M=yield C.getIdToken(),ee=yield ht(C,Mn(m,{idToken:M}));ke(null==ee?void 0:ee.users.length,m,"internal-error");const we=ee.users[0];C._notifyReloadListener(we);const It=(null===(f=we.providerUserInfo)||void 0===f?void 0:f.length)?I(we.providerUserInfo):[],Kt=O(C.providerData,It),Hr=!!C.isAnonymous&&!(C.email&&we.passwordHash||(null==Kt?void 0:Kt.length)),Mi={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:Kt,metadata:new Tr(we.createdAt,we.lastLoginAt),isAnonymous:Hr};Object.assign(C,Mi)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(C){const f=(0,p.m9)(C);yield Nn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function O(C,f){return[...C.filter(M=>!f.some(ee=>ee.providerId===M.providerId)),...f]}function I(C){return C.map(f=>{var{providerId:m}=f,M=(0,pe._T)(f,["providerId"]);return{providerId:m,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function H(){return(H=(0,c.Z)(function*(C,f){const m=yield rr(C,{},(0,c.Z)(function*(){const M=(0,p.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:ee,apiKey:we}=C.config,It=kn(C,ee,"/v1/token",`key=${we}`),Kt=yield C._getAdditionalHeaders();return Kt["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(It,{method:"POST",headers:Kt,body:M})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ke(f.idToken,"internal-error"),ke(typeof f.idToken<"u","internal-error"),ke(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function We(C){const f=en(C);return ke(f,"internal-error"),ke(typeof f.exp<"u","internal-error"),ke(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var M=this;return(0,c.Z)(function*(){return ke(!M.accessToken||M.refreshToken,f,"user-token-expired"),m||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(f,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var M=this;return(0,c.Z)(function*(){const{accessToken:ee,refreshToken:we,expiresIn:It}=yield function T(C,f){return H.apply(this,arguments)}(f,m);M.updateTokensAndExpiration(ee,we,Number(It))})()}updateTokensAndExpiration(f,m,M){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(f,m){const{refreshToken:M,accessToken:ee,expirationTime:we}=m,It=new J;return M&&(ke("string"==typeof M,"internal-error",{appName:f}),It.refreshToken=M),ee&&(ke("string"==typeof ee,"internal-error",{appName:f}),It.accessToken=ee),we&&(ke("number"==typeof we,"internal-error",{appName:f}),It.expirationTime=we),It}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function He(C,f){ke("string"==typeof C||typeof C>"u","internal-error",{appName:f})}class Et{constructor(f){var{uid:m,auth:M,stsTokenManager:ee}=f,we=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=M,this.stsTokenManager=ee,this.accessToken=ee.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Tr(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const M=yield ht(m,m.stsTokenManager.getToken(m.auth,f));return ke(M,m.auth,"internal-error"),m.accessToken!==M&&(m.accessToken=M,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),M})()}getIdTokenResult(f){return function Er(C){return Dr.apply(this,arguments)}(this,f)}reload(){return function Qt(C){return Ot.apply(this,arguments)}(this)}_assign(f){this!==f&&(ke(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Et(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var M=this;return(0,c.Z)(function*(){let ee=!1;f.idToken&&f.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(f),ee=!0),m&&(yield Nn(M)),yield M.auth._persistUserIfCurrent(M),ee&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield ht(f,function or(C,f){return nn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var M,ee,we,It,Kt,Rn,er,Hr;const Mi=null!==(M=m.displayName)&&void 0!==M?M:void 0,Ko=null!==(ee=m.email)&&void 0!==ee?ee:void 0,ya=null!==(we=m.phoneNumber)&&void 0!==we?we:void 0,Lu=null!==(It=m.photoURL)&&void 0!==It?It:void 0,Rl=null!==(Kt=m.tenantId)&&void 0!==Kt?Kt:void 0,_a=null!==(Rn=m._redirectEventId)&&void 0!==Rn?Rn:void 0,vc=null!==(er=m.createdAt)&&void 0!==er?er:void 0,Wa=null!==(Hr=m.lastLoginAt)&&void 0!==Hr?Hr:void 0,{uid:Uu,emailVerified:ol,isAnonymous:Vu,providerData:al,stsTokenManager:ll}=m;ke(Uu&&ll,f,"internal-error");const bc=J.fromJSON(this.name,ll);ke("string"==typeof Uu,f,"internal-error"),He(Mi,f.name),He(Ko,f.name),ke("boolean"==typeof ol,f,"internal-error"),ke("boolean"==typeof Vu,f,"internal-error"),He(ya,f.name),He(Lu,f.name),He(Rl,f.name),He(_a,f.name),He(vc,f.name),He(Wa,f.name);const Ec=new Et({uid:Uu,auth:f,email:Ko,emailVerified:ol,displayName:Mi,isAnonymous:Vu,photoURL:Lu,phoneNumber:ya,tenantId:Rl,stsTokenManager:bc,createdAt:vc,lastLoginAt:Wa});return al&&Array.isArray(al)&&(Ec.providerData=al.map(Rr=>Object.assign({},Rr))),_a&&(Ec._redirectEventId=_a),Ec}static _fromIdTokenResponse(f,m,M=!1){return(0,c.Z)(function*(){const ee=new J;ee.updateFromServerResponse(m);const we=new Et({uid:m.localId,auth:f,stsTokenManager:ee,isAnonymous:M});return yield Nn(we),we})()}}const hn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,M){var ee=this;return(0,c.Z)(function*(){ee.storage[m]=M})()}_get(m){var M=this;return(0,c.Z)(function*(){const ee=M.storage[m];return void 0===ee?null:ee})()}_remove(m){var M=this;return(0,c.Z)(function*(){delete M.storage[m]})()}_addListener(m,M){}_removeListener(m,M){}}return C.type="NONE",C})();function on(C,f,m){return`firebase:${C}:${f}:${m}`}class an{constructor(f,m,M){this.persistence=f,this.auth=m,this.userKey=M;const{config:ee,name:we}=this.auth;this.fullUserKey=on(this.userKey,ee.apiKey,we),this.fullPersistenceKey=on("persistence",ee.apiKey,we),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Et._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const M=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,M?m.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,M="authUser"){return(0,c.Z)(function*(){if(!m.length)return new an(Je(hn),f,M);const ee=(yield Promise.all(m.map(function(){var er=(0,c.Z)(function*(Hr){if(yield Hr._isAvailable())return Hr});return function(Hr){return er.apply(this,arguments)}}()))).filter(er=>er);let we=ee[0]||Je(hn);const It=on(M,f.config.apiKey,f.name);let Kt=null;for(const er of m)try{const Hr=yield er._get(It);if(Hr){const Mi=Et._fromJSON(f,Hr);er!==we&&(Kt=Mi),we=er;break}}catch{}const Rn=ee.filter(er=>er._shouldAllowMigration);return we._shouldAllowMigration&&Rn.length?(we=Rn[0],Kt&&(yield we._set(It,Kt.toJSON())),yield Promise.all(m.map(function(){var er=(0,c.Z)(function*(Hr){if(Hr!==we)try{yield Hr._remove(It)}catch{}});return function(Hr){return er.apply(this,arguments)}}())),new an(we,f,M)):new an(we,f,M)})()}}function st(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ce(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ke(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(yt(f))return"Blackberry";if(at(f))return"Webos";if(ne(f))return"Safari";if((f.includes("chrome/")||se(f))&&!f.includes("edge/"))return"Chrome";if(Ve(f))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Ke(C=(0,p.z$)()){return/firefox\//i.test(C)}function ne(C=(0,p.z$)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function se(C=(0,p.z$)()){return/crios\//i.test(C)}function ce(C=(0,p.z$)()){return/iemobile/i.test(C)}function Ve(C=(0,p.z$)()){return/android/i.test(C)}function yt(C=(0,p.z$)()){return/blackberry/i.test(C)}function at(C=(0,p.z$)()){return/webos/i.test(C)}function Ce(C=(0,p.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function ue(C=(0,p.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function bt(C=(0,p.z$)()){return Ce(C)||Ve(C)||at(C)||yt(C)||/windows phone/i.test(C)||ce(C)}function An(C,f=[]){let m;switch(C){case"Browser":m=st((0,p.z$)());break;case"Worker":m=`${st((0,p.z$)())}-${C}`;break;default:m=C}const M=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${$.SDK_VERSION}/${M}`}class sn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const M=we=>new Promise((It,Kt)=>{try{It(f(we))}catch(Rn){Kt(Rn)}});M.onAbort=m,this.queue.push(M);const ee=this.queue.length-1;return()=>{this.queue[ee]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,c.Z)(function*(){var M;if(m.auth.currentUser===f)return;const ee=[];try{for(const we of m.queue)yield we(f),we.onAbort&&ee.push(we.onAbort)}catch(we){ee.reverse();for(const It of ee)try{It()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=we)||void 0===M?void 0:M.message})}})()}}class zn{constructor(f,m,M){this.app=f,this.heartbeatServiceProvider=m,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(f,m){var M=this;return m&&(this._popupRedirectResolver=Je(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var ee,we;if(!M._deleted&&(M.persistenceManager=yield an.create(M,f),!M._deleted)){if(null===(ee=M._popupRedirectResolver)||void 0===ee?void 0:ee._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(m),M.lastNotifiedUid=(null===(we=M.currentUser)||void 0===we?void 0:we.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var M;const ee=yield m.assertedPersistence.getCurrentUser();let we=ee,It=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Kt=null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId,Rn=null==we?void 0:we._redirectEventId,er=yield m.tryRedirectSignIn(f);(!Kt||Kt===Rn)&&(null==er?void 0:er.user)&&(we=er.user,It=!0)}if(!we)return m.directlySetCurrentUser(null);if(!we._redirectEventId){if(It)try{yield m.beforeStateQueue.runMiddleware(we)}catch(Kt){we=ee,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Kt))}return we?m.reloadAndSetCurrentUserOrClear(we):m.directlySetCurrentUser(null)}return ke(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===we._redirectEventId?m.directlySetCurrentUser(we):m.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let M=null;try{M=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){var M;try{yield Nn(f)}catch(ee){if("auth/network-request-failed"!==(null===(M=ee)||void 0===M?void 0:M.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $t(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const M=f?(0,p.m9)(f):null;return M&&ke(M.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(M&&M._clone(m))})()}_updateCurrentUser(f,m=!1){var M=this;return(0,c.Z)(function*(){if(!M._deleted)return f&&ke(M.tenantId===f.tenantId,M,"tenant-id-mismatch"),m||(yield M.beforeStateQueue.runMiddleware(f)),M.queue((0,c.Z)(function*(){yield M.directlySetCurrentUser(f),M.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Je(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new p.LL("auth","Firebase",f())}onAuthStateChanged(f,m,M){return this.registerStateListener(this.authStateSubscription,f,m,M)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,M){return this.registerStateListener(this.idTokenSubscription,f,m,M)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var M=this;return(0,c.Z)(function*(){const ee=yield M.getOrInitRedirectPersistenceManager(m);return null===f?ee.removeCurrentUser():ee.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const M=f&&Je(f)||m._popupRedirectResolver;ke(M,m,"argument-error"),m.redirectPersistenceManager=yield an.create(m,[Je(M._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var M,ee;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(M=m._currentUser)||void 0===M?void 0:M._redirectEventId)===f?m._currentUser:(null===(ee=m.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,M,ee){if(this._deleted)return()=>{};const we="function"==typeof m?m:m.next.bind(m),It=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(It,this,"internal-error"),It.then(()=>we(this.currentUser)),"function"==typeof m?f.addObserver(m,M,ee):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const M={"X-Client-Version":f.clientVersion};f.app.options.appId&&(M["X-Firebase-gmpid"]=f.app.options.appId);const ee=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return ee&&(M["X-Firebase-Client"]=ee),M})()}}function mn(C){return(0,p.m9)(C)}class ii{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,p.ne)(m=>this.observer=m)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gr(C,f,m){const M=mn(C);ke(M._canInitEmulator,M,"emulator-config-failed"),ke(/^https?:\/\//.test(f),M,"invalid-emulator-scheme");const ee=!!(null==m?void 0:m.disableWarnings),we=Un(f),{host:It,port:Kt}=function ai(C){const f=Un(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!m)return{host:"",port:null};const M=m[2].split("@").pop()||"",ee=/^(\[[^\]]+\])(:|$)/.exec(M);if(ee){const we=ee[1];return{host:we,port:xi(M.substr(we.length+1))}}{const[we,It]=M.split(":");return{host:we,port:xi(It)}}}(f);M.config.emulator={url:`${we}//${It}${null===Kt?"":`:${Kt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:It,port:Kt,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:ee})}),ee||function Wi(){function C(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Un(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function xi(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}class hi{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ie("not implemented")}_getIdTokenResponse(f){return Ie("not implemented")}_linkToIdToken(f,m){return Ie("not implemented")}_getReauthenticationResolver(f){return Ie("not implemented")}}function jr(C,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:resetPassword",Lt(C,f))})).apply(this,arguments)}function Ui(C,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mr(C,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:update",Lt(C,f))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithPassword",Lt(C,f))})).apply(this,arguments)}function li(C,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:sendOobCode",Lt(C,f))})).apply(this,arguments)}function Oi(C,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(C,f){return li(C,f)})).apply(this,arguments)}function Or(C,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(C,f){return li(C,f)})).apply(this,arguments)}function Pr(C,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(C,f){return li(C,f)})).apply(this,arguments)}function Os(C,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(C,f){return li(C,f)})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithEmailLink",Lt(C,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithEmailLink",Lt(C,f))})).apply(this,arguments)}class Ts extends hi{constructor(f,m,M,ee=null){super("password",M),this._email=f,this._password=m,this._tenantId=ee}static _fromEmailAndPassword(f,m){return new Ts(f,m,"password")}static _fromEmailAndCode(f,m,M=null){return new Ts(f,m,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Vi(C,f){return lr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ki(C,f){return Ii.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:mt(f,"internal-error")}})()}_linkToIdToken(f,m){var M=this;return(0,c.Z)(function*(){switch(M.signInMethod){case"password":return Ui(f,{idToken:m,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ns(C,f){return Ds.apply(this,arguments)}(f,{idToken:m,email:M._email,oobCode:M._password});default:mt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zr(C,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithIdp",Lt(C,f))})).apply(this,arguments)}class rt extends hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new rt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):mt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:M,signInMethod:ee}=m,we=(0,pe._T)(m,["providerId","signInMethod"]);if(!M||!ee)return null;const It=new rt(M,ee);return It.idToken=we.idToken||void 0,It.accessToken=we.accessToken||void 0,It.secret=we.secret,It.nonce=we.nonce,It.pendingToken=we.pendingToken||null,It}_getIdTokenResponse(f){return zr(f,this.buildRequest())}_linkToIdToken(f,m){const M=this.buildRequest();return M.idToken=m,zr(f,M)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,p.xO)(m)}return f}}function gt(C,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:sendVerificationCode",Lt(C,f))})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithPhoneNumber",Lt(C,f))})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(C,f){const m=yield Vn(C,"POST","/v1/accounts:signInWithPhoneNumber",Lt(C,f));if(m.temporaryProof)throw Dn(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const kr={USER_NOT_FOUND:"user-not-found"};function ds(){return(ds=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithPhoneNumber",Lt(C,Object.assign(Object.assign({},f),{operation:"REAUTH"})),kr)})).apply(this,arguments)}class qi extends hi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new qi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new qi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function tn(C,f){return fn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ur(C,f){return Wr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ri(C,f){return ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:M,verificationCode:ee}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:M,code:ee}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:M,phoneNumber:ee,temporaryProof:we}=f;return M||m||ee||we?new qi({verificationId:m,verificationCode:M,phoneNumber:ee,temporaryProof:we}):null}}class Di{constructor(f){var m,M,ee,we,It,Kt;const Rn=(0,p.zd)((0,p.pd)(f)),er=null!==(m=Rn.apiKey)&&void 0!==m?m:null,Hr=null!==(M=Rn.oobCode)&&void 0!==M?M:null,Mi=function hs(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ee=Rn.mode)&&void 0!==ee?ee:null);ke(er&&Hr&&Mi,"argument-error"),this.apiKey=er,this.operation=Mi,this.code=Hr,this.continueUrl=null!==(we=Rn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(It=Rn.languageCode)&&void 0!==It?It:null,this.tenantId=null!==(Kt=Rn.tenantId)&&void 0!==Kt?Kt:null}static parseLink(f){const m=function rs(C){const f=(0,p.zd)((0,p.pd)(C)).link,m=f?(0,p.zd)((0,p.pd)(f)).deep_link_id:null,M=(0,p.zd)((0,p.pd)(C)).deep_link_id;return(M?(0,p.zd)((0,p.pd)(M)).link:null)||M||m||f||C}(f);try{return new Di(m)}catch{return null}}}let gs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,M){return Ts._fromEmailAndPassword(m,M)}static credentialWithLink(m,M){const ee=Di.parseLink(M);return ke(ee,"argument-error"),Ts._fromEmailAndCode(m,ee.code,ee.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ys{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ti extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class _s extends Ti{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ke("providerId"in m&&"signInMethod"in m,"argument-error"),rt._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ke(f.idToken||f.accessToken,"argument-error"),rt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return _s.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return _s.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:M,oauthTokenSecret:ee,pendingToken:we,nonce:It,providerId:Kt}=f;if(!M&&!ee&&!m&&!we||!Kt)return null;try{return new _s(Kt)._credential({idToken:m,accessToken:M,nonce:It,pendingToken:we})}catch{return null}}}let Gs=(()=>{class C extends Ti{constructor(){super("facebook.com")}static credential(m){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ks=(()=>{class C extends Ti{constructor(){super("google.com"),this.addScope("profile")}static credential(m,M){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:M,oauthAccessToken:ee}=m;if(!M&&!ee)return null;try{return C.credential(M,ee)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ns=(()=>{class C extends Ti{constructor(){super("github.com")}static credential(m){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ni extends hi{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return zr(f,this.buildRequest())}_linkToIdToken(f,m){const M=this.buildRequest();return M.idToken=m,zr(f,M)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:M,signInMethod:ee,pendingToken:we}=m;return M&&ee&&we&&M===ee?new Ni(M,we):null}static _create(f,m){return new Ni(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fs extends ys{constructor(f){ke(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return fs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return fs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ni.fromJSON(f);return ke(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:M}=f;if(!m||!M)return null;try{return Ni._create(M,m)}catch{return null}}}let Bi=(()=>{class C extends Ti{constructor(){super("twitter.com")}static credential(m,M){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:M,oauthTokenSecret:ee}=m;if(!M||!ee)return null;try{return C.credential(M,ee)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function zs(C,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signUp",Lt(C,f))})).apply(this,arguments)}class si{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,M,ee=!1){return(0,c.Z)(function*(){const we=yield Et._fromIdTokenResponse(f,M,ee),It=_o(M);return new si({user:we,providerId:It,_tokenResponse:M,operationType:m})})()}static _forOperation(f,m,M){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(M,!0);const ee=_o(M);return new si({user:f,providerId:ee,_tokenResponse:M,operationType:m})})()}}function _o(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function _i(C){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(C){var f;const m=mn(C);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new si({user:m.currentUser,providerId:null,operationType:"signIn"});const M=yield zs(m,{returnSecureToken:!0}),ee=yield si._fromIdTokenResponse(m,"signIn",M,!0);return yield m._updateCurrentUser(ee.user),ee})).apply(this,arguments)}class As extends p.ZR{constructor(f,m,M,ee){var we;super(m.code,m.message),this.operationType=M,this.user=ee,Object.setPrototypeOf(this,As.prototype),this.customData={appName:f.name,tenantId:null!==(we=f.tenantId)&&void 0!==we?we:void 0,_serverResponse:m.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(f,m,M,ee){return new As(f,m,M,ee)}}function is(C,f,m,M){return("reauthenticate"===f?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?As._fromErrorAndOperation(C,we,f,M):we})}function Zs(C){return new Set(C.map(({providerId:f})=>f).filter(f=>!!f))}function vs(C,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(C,f){const m=(0,p.m9)(C);yield te(!0,m,f);const{providerUserInfo:M}=yield Bn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),ee=Zs(M||[]);return m.providerData=m.providerData.filter(we=>ee.has(we.providerId)),ee.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function fr(C,f){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(C,f,m=!1){const M=yield ht(C,f._linkToIdToken(C.auth,yield C.getIdToken()),m);return si._forOperation(C,"link",M)})).apply(this,arguments)}function te(C,f,m){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(C,f,m){yield Nn(f);const ee=!1===C?"provider-already-linked":"no-such-provider";ke(Zs(f.providerData).has(m)===C,f.auth,ee)})).apply(this,arguments)}function de(C,f){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(C,f,m=!1){var M;const{auth:ee}=C,we="reauthenticate";try{const It=yield ht(C,is(ee,we,f,C),m);ke(It.idToken,ee,"internal-error");const Kt=en(It.idToken);ke(Kt,ee,"internal-error");const{sub:Rn}=Kt;return ke(C.uid===Rn,ee,"user-mismatch"),si._forOperation(C,we,It)}catch(It){throw"auth/user-not-found"===(null===(M=It)||void 0===M?void 0:M.code)&&mt(ee,"user-mismatch"),It}})).apply(this,arguments)}function Pt(C,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(C,f,m=!1){const M="signIn",ee=yield is(C,M,f),we=yield si._fromIdTokenResponse(C,M,ee);return m||(yield C._updateCurrentUser(we.user)),we})).apply(this,arguments)}function Cn(C,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(C,f){return Pt(mn(C),f)})).apply(this,arguments)}function gr(C,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(C,f){const m=(0,p.m9)(C);return yield te(!1,m,f.providerId),fr(m,f)})).apply(this,arguments)}function wr(C,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(C,f){return de((0,p.m9)(C),f)})).apply(this,arguments)}function Nr(C,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(C,f){return Vn(C,"POST","/v1/accounts:signInWithCustomToken",Lt(C,f))})).apply(this,arguments)}function Z(C,f){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(C,f){const m=mn(C),M=yield Nr(m,{token:f,returnSecureToken:!0}),ee=yield si._fromIdTokenResponse(m,"signIn",M);return yield m._updateCurrentUser(ee.user),ee})).apply(this,arguments)}class R{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?le._fromServerResponse(f,m):mt(f,"internal-error")}}class le extends R{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new le(m)}}function Ft(C,f,m){var M;ke((null===(M=m.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ke(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ke(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ke(m.android.packageName.length>0,C,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Fn(C,f,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C),ee={requestType:"PASSWORD_RESET",email:f};m&&Ft(M,ee,m),yield Or(M,ee)})).apply(this,arguments)}function K(C,f,m){return G.apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(C,f,m){yield jr((0,p.m9)(C),{oobCode:f,newPassword:m})})).apply(this,arguments)}function me(C,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(C,f){yield Mr((0,p.m9)(C),{oobCode:f})})).apply(this,arguments)}function Qe(C,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(C,f){const m=(0,p.m9)(C),M=yield jr(m,{oobCode:f}),ee=M.requestType;switch(ke(ee,m,"internal-error"),ee){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(M.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(M.mfaInfo,m,"internal-error");default:ke(M.email,m,"internal-error")}let we=null;return M.mfaInfo&&(we=R._fromServerResponse(mn(m),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:we},operation:ee}})).apply(this,arguments)}function jt(C,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(C,f){const{data:m}=yield Qe((0,p.m9)(C),f);return m.email})).apply(this,arguments)}function pn(C,f,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(C,f,m){const M=mn(C),ee=yield zs(M,{returnSecureToken:!0,email:f,password:m}),we=yield si._fromIdTokenResponse(M,"signIn",ee);return yield M._updateCurrentUser(we.user),we})).apply(this,arguments)}function yr(C,f,m){return Cn((0,p.m9)(C),gs.credential(f,m))}function gi(C,f,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C),ee={requestType:"EMAIL_SIGNIN",email:f};ke(m.handleCodeInApp,M,"argument-error"),m&&Ft(M,ee,m),yield Pr(M,ee)})).apply(this,arguments)}function Ai(C,f){const m=Di.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ti(C,f,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C),ee=gs.credentialWithLink(f,m||Le());return ke(ee._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Cn(M,ee)})).apply(this,arguments)}function Cr(C,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:createAuthUri",Lt(C,f))})).apply(this,arguments)}function Ws(C,f){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(C,f){const M={identifier:f,continueUri:dt()?Le():"http://localhost"},{signinMethods:ee}=yield Cr((0,p.m9)(C),M);return ee||[]})).apply(this,arguments)}function y(C,f){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(C,f){const m=(0,p.m9)(C),ee={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};f&&Ft(m.auth,ee,f);const{email:we}=yield Oi(m.auth,ee);we!==C.email&&(yield C.reload())})).apply(this,arguments)}function k(C,f,m){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:f};m&&Ft(M.auth,we,m);const{email:It}=yield Os(M.auth,we);It!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ee(C,f){return Be.apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(C,f){return rn(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ye(C,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(C,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const M=(0,p.m9)(C),we={idToken:yield M.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},It=yield ht(M,Ee(M.auth,we));M.displayName=It.displayName||null,M.photoURL=It.photoUrl||null;const Kt=M.providerData.find(({providerId:Rn})=>"password"===Rn);Kt&&(Kt.displayName=M.displayName,Kt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(It)})).apply(this,arguments)}function Vt(C,f){return Pn((0,p.m9)(C),f,null)}function _n(C,f){return Pn((0,p.m9)(C),null,f)}function Pn(C,f,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(C,f,m){const{auth:M}=C,we={idToken:yield C.getIdToken(),returnSecureToken:!0};f&&(we.email=f),m&&(we.password=m);const It=yield ht(C,Ui(M,we));yield C._updateTokensIfNecessary(It,!0)})).apply(this,arguments)}class xn{constructor(f,m,M={}){this.isNewUser=f,this.providerId=m,this.profile=M}}class pr extends xn{constructor(f,m,M,ee){super(f,m,M),this.username=ee}}class ni extends xn{constructor(f,m){super(f,"facebook.com",m)}}class mi extends pr{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class bi extends xn{constructor(f,m){super(f,"google.com",m)}}class ss extends pr{constructor(f,m,M){super(f,"twitter.com",m,M)}}function Vr(C){const{user:f,_tokenResponse:m}=C;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ar(C){var f,m;if(!C)return null;const{providerId:M}=C,ee=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},we=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&(null==C?void 0:C.idToken)){const It=null===(m=null===(f=en(C.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(It)return new xn(we,"anonymous"!==It&&"custom"!==It?It:null)}if(!M)return null;switch(M){case"facebook.com":return new ni(we,ee);case"github.com":return new mi(we,ee);case"google.com":return new bi(we,ee);case"twitter.com":return new ss(we,ee,C.screenName||null);case"custom":case"anonymous":return new xn(we,null);default:return new xn(we,M,ee)}}(m)}class Ks{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ks("enroll",f)}static _fromMfaPendingCredential(f){return new Ks("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,M;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ks._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(M=f.multiFactorSession)||void 0===M?void 0:M.idToken)return Ks._fromIdtoken(f.multiFactorSession.idToken)}return null}}class vo{constructor(f,m,M){this.session=f,this.hints=m,this.signInResolver=M}static _fromError(f,m){const M=mn(f),ee=m.customData._serverResponse,we=(ee.mfaInfo||[]).map(Kt=>R._fromServerResponse(M,Kt));ke(ee.mfaPendingCredential,M,"internal-error");const It=Ks._fromMfaPendingCredential(ee.mfaPendingCredential);return new vo(It,we,function(){var Kt=(0,c.Z)(function*(Rn){const er=yield Rn._process(M,It);delete ee.mfaInfo,delete ee.mfaPendingCredential;const Hr=Object.assign(Object.assign({},ee),{idToken:er.idToken,refreshToken:er.refreshToken});switch(m.operationType){case"signIn":const Mi=yield si._fromIdTokenResponse(M,m.operationType,Hr);return yield M._updateCurrentUser(Mi.user),Mi;case"reauthenticate":return ke(m.user,M,"internal-error"),si._forOperation(m.user,m.operationType,Hr);default:mt(M,"internal-error")}});return function(Rn){return Kt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function dn(C,f){var m;const M=(0,p.m9)(C),ee=f;return ke(f.customData.operationType,M,"argument-error"),ke(null===(m=ee.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,M,"argument-error"),vo._fromError(M,ee)}function vn(C,f){return rn(C,"POST","/v2/accounts/mfaEnrollment:start",Lt(C,f))}class Zr{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(M=>R._fromServerResponse(f.auth,M)))})}static _fromUser(f){return new Zr(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ks._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var M=this;return(0,c.Z)(function*(){const ee=f,we=yield M.getSession(),It=yield ht(M.user,ee._process(M.user.auth,we,m));return yield M.user._updateTokensIfNecessary(It),M.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){var M;const ee="string"==typeof f?f:f.uid,we=yield m.user.getIdToken(),It=yield ht(m.user,function mr(C,f){return rn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(C,f))}(m.user.auth,{idToken:we,mfaEnrollmentId:ee}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Kt})=>Kt!==ee),yield m.user._updateTokensIfNecessary(It);try{yield m.user.reload()}catch(Kt){if("auth/user-token-expired"!==(null===(M=Kt)||void 0===M?void 0:M.code))throw Kt}})()}}const as=new WeakMap;function ps(C){const f=(0,p.m9)(C);return as.has(f)||as.set(f,Zr._fromUser(f)),as.get(f)}const bs="__sak";class Jr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(bs,"1"),this.storage.removeItem(bs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const oi=(()=>{class C extends Jr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,M)=>this.onStorageEvent(m,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ea(){const C=(0,p.z$)();return ne(C)||Ce(C)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const M of Object.keys(this.listeners)){const ee=this.storage.getItem(M),we=this.localCache[M];ee!==we&&m(M,we,ee)}}onStorageEvent(m,M=!1){if(!m.key)return void this.forAllChangedKeys((Kt,Rn,er)=>{this.notifyListeners(Kt,er)});const ee=m.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Kt=this.storage.getItem(ee);if(m.newValue!==Kt)null!==m.newValue?this.storage.setItem(ee,m.newValue):this.storage.removeItem(ee);else if(this.localCache[ee]===m.newValue&&!M)return}const we=()=>{const Kt=this.storage.getItem(ee);!M&&this.localCache[ee]===Kt||this.notifyListeners(ee,Kt)},It=this.storage.getItem(ee);!function et(){return(0,p.w1)()&&10===document.documentMode}()||It===m.newValue||m.newValue===m.oldValue?we():setTimeout(we,10)}notifyListeners(m,M){this.localCache[m]=M;const ee=this.listeners[m];if(ee)for(const we of Array.from(ee))we(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,M,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:M,newValue:ee}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,M){var ee=()=>super._set,we=this;return(0,c.Z)(function*(){yield ee().call(we,m,M),we.localCache[m]=JSON.stringify(M)})()}_get(m){var M=()=>super._get,ee=this;return(0,c.Z)(function*(){const we=yield M().call(ee,m);return ee.localCache[m]=JSON.stringify(we),we})()}_remove(m){var M=()=>super._remove,ee=this;return(0,c.Z)(function*(){yield M().call(ee,m),delete ee.localCache[m]})()}}return C.type="LOCAL",C})(),So=(()=>{class C extends Jr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,M){}_removeListener(m,M){}}return C.type="SESSION",C})();let el=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const M=this.receivers.find(we=>we.isListeningto(m));if(M)return M;const ee=new C(m);return this.receivers.push(ee),ee}isListeningto(m){return this.eventTarget===m}handleEvent(m){var M=this;return(0,c.Z)(function*(){const ee=m,{eventId:we,eventType:It,data:Kt}=ee.data,Rn=M.handlersMap[It];if(!(null==Rn?void 0:Rn.size))return;ee.ports[0].postMessage({status:"ack",eventId:we,eventType:It});const er=Array.from(Rn).map(function(){var Mi=(0,c.Z)(function*(Ko){return Ko(ee.origin,Kt)});return function(Ko){return Mi.apply(this,arguments)}}()),Hr=yield function la(C){return Promise.all(C.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(M){return{fulfilled:!1,reason:M}}});return function(m){return f.apply(this,arguments)}}()))}(er);ee.ports[0].postMessage({status:"done",eventId:we,eventType:It,response:Hr})})()}_subscribe(m,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(M)}_unsubscribe(m,M){this.handlersMap[m]&&M&&this.handlersMap[m].delete(M),(!M||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ua(C="",f=10){let m="";for(let M=0;M<f;M++)m+=Math.floor(10*Math.random());return C+m}class ta{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,M=50){var ee=this;return(0,c.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let It,Kt;return new Promise((Rn,er)=>{const Hr=ua("",20);we.port1.start();const Mi=setTimeout(()=>{er(new Error("unsupported_event"))},M);Kt={messageChannel:we,onMessage(Ko){const ya=Ko;if(ya.data.eventId===Hr)switch(ya.data.status){case"ack":clearTimeout(Mi),It=setTimeout(()=>{er(new Error("timeout"))},3e3);break;case"done":clearTimeout(It),Rn(ya.data.response);break;default:clearTimeout(Mi),clearTimeout(It),er(new Error("invalid_response"))}}},ee.handlers.add(Kt),we.port1.addEventListener("message",Kt.onMessage),ee.target.postMessage({eventType:f,eventId:Hr,data:m},[we.port2])}).finally(()=>{Kt&&ee.removeMessageHandler(Kt)})})()}}function Yi(){return window}function $o(){return typeof Yi().WorkerGlobalScope<"u"&&"function"==typeof Yi().importScripts}function Qi(){return(Qi=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Va="firebaseLocalStorageDb",Yt="firebaseLocalStorage",Ei="fbase_key";class co{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function x(C,f){return C.transaction([Yt],f?"readwrite":"readonly").objectStore(Yt)}function b(){const C=indexedDB.open(Va,1);return new Promise((f,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Yt,{keyPath:Ei})}catch(ee){m(ee)}}),C.addEventListener("success",(0,c.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Yt)?f(M):(M.close(),yield function w(){const C=indexedDB.deleteDatabase(Va);return new co(C).toPromise()}(),f(yield b()))}))})}function V(C,f,m){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(C,f,m){const M=x(C,!0).put({[Ei]:f,value:m});return new co(M).toPromise()})).apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(C,f){const m=x(C,!1).get(f),M=yield new co(m).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function je(C,f){const m=x(C,!0).delete(f);return new co(m).toPromise()}const Hn=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield b()),m.db})()}_withRetries(m){var M=this;return(0,c.Z)(function*(){let ee=0;for(;;)try{const we=yield M._openDb();return yield m(we)}catch(we){if(ee++>3)throw we;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return $o()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=el._getInstance(function bo(){return $o()?self:null}()),m.receiver._subscribe("keyChanged",function(){var M=(0,c.Z)(function*(ee,we){return{keyProcessed:(yield m._poll()).includes(we.key)}});return function(ee,we){return M.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var M=(0,c.Z)(function*(ee,we){return["keyChanged"]});return function(ee,we){return M.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var M,ee;if(m.activeServiceWorker=yield function ca(){return Qi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ta(m.activeServiceWorker);const we=yield m.sender._send("ping",{},800);!we||(null===(M=we[0])||void 0===M?void 0:M.fulfilled)&&(null===(ee=we[0])||void 0===ee?void 0:ee.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var M=this;return(0,c.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function na(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:m},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield b();return yield V(m,bs,"1"),yield je(m,bs),!0}catch{}return!1})()}_withPendingWrite(m){var M=this;return(0,c.Z)(function*(){M.pendingWrites++;try{yield m()}finally{M.pendingWrites--}})()}_set(m,M){var ee=this;return(0,c.Z)(function*(){return ee._withPendingWrite((0,c.Z)(function*(){return yield ee._withRetries(we=>V(we,m,M)),ee.localCache[m]=M,ee.notifyServiceWorker(m)}))})()}_get(m){var M=this;return(0,c.Z)(function*(){const ee=yield M._withRetries(we=>function W(C,f){return oe.apply(this,arguments)}(we,m));return M.localCache[m]=ee,ee})()}_remove(m){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(ee=>je(ee,m)),delete M.localCache[m],M.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const M=yield m._withRetries(It=>{const Kt=x(It,!1).getAll();return new co(Kt).toPromise()});if(!M)return[];if(0!==m.pendingWrites)return[];const ee=[],we=new Set;for(const{fbase_key:It,value:Kt}of M)we.add(It),JSON.stringify(m.localCache[It])!==JSON.stringify(Kt)&&(m.notifyListeners(It,Kt),ee.push(It));for(const It of Object.keys(m.localCache))m.localCache[It]&&!we.has(It)&&(m.notifyListeners(It,null),ee.push(It));return ee})()}notifyListeners(m,M){this.localCache[m]=M;const ee=this.listeners[m];if(ee)for(const we of Array.from(ee))we(M)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ui(C,f){return rn(C,"POST","/v2/accounts/mfaSignIn:start",Lt(C,f))}function Bs(){return(Bs=(0,c.Z)(function*(C){return(yield rn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function da(C){return new Promise((f,m)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=f,M.onerror=ee=>{const we=Re("internal-error");we.customData=ee,m(we)},M.type="text/javascript",M.charset="UTF-8",function Ca(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(M)})}function Ys(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ho=1e12;class wi{constructor(f){this.auth=f,this.counter=ho,this._widgets=new Map}render(f,m){const M=this.counter;return this._widgets.set(M,new Xn(f,this.auth.name,m||{})),this.counter++,M}reset(f){var m;const M=f||ho;null===(m=this._widgets.get(M))||void 0===m||m.delete(),this._widgets.delete(M)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ho))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var M;return null===(M=m._widgets.get(f||ho))||void 0===M||M.execute(),""})()}}class Xn{constructor(f,m,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ee="string"==typeof f?document.getElementById(f):f;ke(ee,"argument-error",{appName:m}),this.container=ee,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wl(C){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qr=Ys("rcb"),ws=new Tt(3e4,6e4);class gn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=Yi().grecaptcha)||void 0===f?void 0:f.render)}load(f,m=""){return ke(function nl(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Yi().grecaptcha):new Promise((M,ee)=>{const we=Yi().setTimeout(()=>{ee(Re(f,"network-request-failed"))},ws.get());Yi()[qr]=()=>{Yi().clearTimeout(we),delete Yi()[qr];const Kt=Yi().grecaptcha;if(!Kt)return void ee(Re(f,"internal-error"));const Rn=Kt.render;Kt.render=(er,Hr)=>{const Mi=Rn(er,Hr);return this.counter++,Mi},this.hostLanguage=m,M(Kt)},da(`https://www.google.com/recaptcha/api.js??${(0,p.xO)({onload:qr,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(we),ee(Re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!!(null===(m=Yi().grecaptcha)||void 0===m?void 0:m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cc{load(f){return(0,c.Z)(function*(){return new wi(f)})()}clearedOneInstance(){}}const Ba="recaptcha",qh={theme:"light",type:"image"};class Su{constructor(f,m=Object.assign({},qh),M){this.parameters=m,this.type=Ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(M),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ee="string"==typeof f?document.getElementById(f):f;ke(ee,this.auth,"argument-error"),this.container=ee,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cc:new gn,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),M=f.getAssertedRecaptcha();return M.getResponse(m)||new Promise(we=>{const It=Kt=>{!Kt||(f.tokenChangeListeners.delete(It),we(Kt))};f.tokenChangeListeners.add(It),f.isInvisible&&M.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(M=>M(m)),"function"==typeof f)f(m);else if("string"==typeof f){const M=Yi()[f];"function"==typeof M&&M(m)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const M=document.createElement("div");m.appendChild(M),m=M}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ke(dt()&&!$o(),f.auth,"internal-error"),yield function Cl(){let C=null;return new Promise(f=>{"complete"!==document.readyState?(C=()=>f(),window.addEventListener("load",C)):f()}).catch(f=>{throw C&&window.removeEventListener("load",C),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Eo(C){return Bs.apply(this,arguments)}(f.auth);ke(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ja{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=qi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Ms(C,f,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(C,f,m){const M=mn(C),ee=yield Cs(M,f,(0,p.m9)(m));return new ja(ee,we=>Cn(M,we))})).apply(this,arguments)}function js(C,f,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C);yield te(!1,M,"phone");const ee=yield Cs(M.auth,f,(0,p.m9)(m));return new ja(ee,we=>gr(M,we))})).apply(this,arguments)}function Mu(C,f,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C),ee=yield Cs(M.auth,f,(0,p.m9)(m));return new ja(ee,we=>wr(M,we))})).apply(this,arguments)}function Cs(C,f,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(C,f,m){var M;const ee=yield m.verify();try{let we;if(ke("string"==typeof ee,C,"argument-error"),ke(m.type===Ba,C,"argument-error"),we="string"==typeof f?{phoneNumber:f}:f,"session"in we){const It=we.session;if("phoneNumber"in we)return ke("enroll"===It.type,C,"internal-error"),(yield vn(C,{idToken:It.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:ee}})).phoneSessionInfo.sessionInfo;{ke("signin"===It.type,C,"internal-error");const Kt=(null===(M=we.multiFactorHint)||void 0===M?void 0:M.uid)||we.multiFactorUid;return ke(Kt,C,"missing-multi-factor-info"),(yield ui(C,{mfaPendingCredential:It.credential,mfaEnrollmentId:Kt,phoneSignInInfo:{recaptchaToken:ee}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:It}=yield gt(C,{phoneNumber:we.phoneNumber,recaptchaToken:ee});return It}}finally{m._reset()}})).apply(this,arguments)}function xt(C,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(C,f){yield fr((0,p.m9)(C),f)})).apply(this,arguments)}let xo=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=mn(m)}verifyPhoneNumber(m,M){return Cs(this.auth,m,(0,p.m9)(M))}static credential(m,M){return qi._fromVerification(m,M)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:M,temporaryProof:ee}=m;return M&&ee?qi._fromTokenResponse(M,ee):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Da(C,f){return f?Je(f):(ke(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ha extends hi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return zr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return zr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ta(C){return Pt(C.auth,new ha(C),C.bypassAuthState)}function hd(C){const{auth:f,user:m}=C;return ke(m,f,"internal-error"),de(m,new ha(C),C.bypassAuthState)}function Go(C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(C){const{auth:f,user:m}=C;return ke(m,f,"internal-error"),fr(m,new ha(C),C.bypassAuthState)})).apply(this,arguments)}class fa{constructor(f,m,M,ee,we=!1){this.auth=f,this.resolver=M,this.user=ee,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(M,ee){f.pendingPromise={resolve:M,reject:ee};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(we){f.reject(we)}});return function(M,ee){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:M,sessionId:ee,postBody:we,tenantId:It,error:Kt,type:Rn}=f;if(Kt)return void m.reject(Kt);const er={auth:m.auth,requestUri:M,sessionId:ee,tenantId:It||void 0,postBody:we||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Rn)(er))}catch(Hr){m.reject(Hr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ta;case"linkViaPopup":case"linkViaRedirect":return Go;case"reauthViaPopup":case"reauthViaRedirect":return hd;default:mt(this.auth,"internal-error")}}resolve(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pa=new Tt(2e3,1e4);function xu(C,f,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(C,f,m){const M=mn(C);ge(C,f,ys);const ee=Da(M,m);return new $a(M,"signInViaPopup",f,ee).executeNotNull()})).apply(this,arguments)}function Dl(C,f,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C);ge(M.auth,f,ys);const ee=Da(M.auth,m);return new $a(M.auth,"reauthViaPopup",f,ee,M).executeNotNull()})).apply(this,arguments)}function dc(C,f,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C);ge(M.auth,f,ys);const ee=Da(M.auth,m);return new $a(M.auth,"linkViaPopup",f,ee,M).executeNotNull()})).apply(this,arguments)}let $a=(()=>{class C extends fa{constructor(m,M,ee,we,It){super(m,M,we,It),this.provider=ee,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const M=yield m.execute();return ke(M,m.auth,"internal-error"),M})()}onExecution(){var m=this;return(0,c.Z)(function*(){ot(1===m.filter.length,"Popup operations only handle one event");const M=ua();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],M),m.authWindow.associatedEvent=M,m.resolver._originValidation(m.auth).catch(ee=>{m.reject(ee)}),m.resolver._isIframeWebStorageSupported(m.auth,ee=>{ee||m.reject(Re(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var M,ee;this.pollId=(null===(ee=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===ee?void 0:ee.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,pa.get())};m()}}return C.currentPopupAction=null,C})();const Br=new Map;class Ga extends fa{constructor(f,m,M=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,M),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let M=Br.get(m.auth._key());if(!M){try{const we=(yield function rl(C,f){return Rs.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;M=()=>Promise.resolve(we)}catch(ee){M=()=>Promise.reject(ee)}Br.set(m.auth._key(),M)}return m.bypassAuthState||Br.set(m.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,M=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(M,f);if("unknown"!==f.type){if(f.eventId){const ee=yield M.auth._redirectUserForId(f.eventId);if(ee)return M.user=ee,m().call(M,f);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Rs(){return(Rs=(0,c.Z)(function*(C,f){const m=zo(f),M=us(C);if(!(yield M._isAvailable()))return!1;const ee="true"===(yield M._get(m));return yield M._remove(m),ee})).apply(this,arguments)}function Fo(C,f){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(C,f){return us(C)._set(zo(f),"true")})).apply(this,arguments)}function Aa(){Br.clear()}function ia(C,f){Br.set(C._key(),f)}function us(C){return Je(C._redirectPersistence)}function zo(C){return on("pendingRedirect",C.config.apiKey,C.name)}function iu(C,f,m){return function za(C,f,m){return Sa.apply(this,arguments)}(C,f,m)}function Sa(){return(Sa=(0,c.Z)(function*(C,f,m){const M=mn(C);ge(C,f,ys);const ee=Da(M,m);return yield Fo(ee,M),ee._openRedirect(M,f,"signInViaRedirect")})).apply(this,arguments)}function N(C,f,m){return function j(C,f,m){return ie.apply(this,arguments)}(C,f,m)}function ie(){return(ie=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C);ge(M.auth,f,ys);const ee=Da(M.auth,m);yield Fo(ee,M.auth);const we=yield sr(M);return ee._openRedirect(M.auth,f,"reauthViaRedirect",we)})).apply(this,arguments)}function Fe(C,f,m){return function pt(C,f,m){return St.apply(this,arguments)}(C,f,m)}function St(){return(St=(0,c.Z)(function*(C,f,m){const M=(0,p.m9)(C);ge(M.auth,f,ys);const ee=Da(M.auth,m);yield te(!1,M,f.providerId),yield Fo(ee,M.auth);const we=yield sr(M);return ee._openRedirect(M.auth,f,"linkViaRedirect",we)})).apply(this,arguments)}function qt(C,f){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(C,f){return yield mn(C)._initializationPromise,jn(C,f,!1)})).apply(this,arguments)}function jn(C,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(C,f,m=!1){const M=mn(C),ee=Da(M,f),It=yield new Ga(M,ee,m).execute();return It&&!m&&(delete It.user._redirectEventId,yield M._persistUserIfCurrent(It.user),yield M._setRedirectUser(null,f)),It})).apply(this,arguments)}function sr(C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(C){const f=ua(`${C.uid}:::`);return C._redirectEventId=f,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),f})).apply(this,arguments)}class Xs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(f,M)&&(m=!0,this.sendToConsumer(f,M),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wo(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zo(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var M;if(f.error&&!Zo(f)){const ee=(null===(M=f.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";m.onError(Re(this.auth,ee))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const M=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&M}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(f))}saveEventToCache(f){this.cachedEventUids.add(Ro(f)),this.lastProcessedEventTime=Date.now()}}function Ro(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function Zo({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Tl(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(C,f={}){return rn(C,"GET","/v1/projects",f)})).apply(this,arguments)}const ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;function Al(){return(Al=(0,c.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield Tl(C);for(const m of f)try{if(Wp(m))return}catch{}mt(C,"unauthorized-domain")})).apply(this,arguments)}function Wp(C){const f=Le(),{protocol:m,hostname:M}=new URL(f);if(C.startsWith("chrome-extension://")){const It=new URL(C);return""===It.hostname&&""===M?"chrome-extension:"===m&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&It.hostname===M}if(!eo.test(m))return!1;if(ga.test(C))return M===C;const ee=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(M)}const hc=new Tt(3e4,6e4);function fc(){const C=Yi().___jsl;if(null==C?void 0:C.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let su=null;function Gi(C){return su=su||function fo(C){return new Promise((f,m)=>{var M,ee,we;function It(){fc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{fc(),m(Re(C,"network-request-failed"))},timeout:hc.get()})}if(null===(ee=null===(M=Yi().gapi)||void 0===M?void 0:M.iframes)||void 0===ee?void 0:ee.Iframe)f(gapi.iframes.getContext());else{if(!(null===(we=Yi().gapi)||void 0===we?void 0:we.load)){const Kt=Ys("iframefcb");return Yi()[Kt]=()=>{gapi.load?It():m(Re(C,"network-request-failed"))},da(`https://apis.google.com/js/api.js?onload=${Kt}`).catch(Rn=>m(Rn))}It()}}).catch(f=>{throw su=null,f})}(C),su}const Yh=new Tt(5e3,15e3),Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ru(C){const f=C.config;ke(f.authDomain,C,"auth-domain-config-required");const m=f.emulator?Rt(f,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,M={apiKey:f.apiKey,appName:C.name,v:$.SDK_VERSION},ee=au.get(C.config.apiHost);ee&&(M.eid=ee);const we=C._getFrameworks();return we.length&&(M.fw=we.join(",")),`${m}?${(0,p.xO)(M).slice(1)}`}function il(){return il=(0,c.Z)(function*(C){const f=yield Gi(C),m=Yi().gapi;return ke(m,C,"internal-error"),f.open({where:document.body,url:Ru(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},M=>new Promise(function(){var ee=(0,c.Z)(function*(we,It){yield M.restyle({setHideOnLeave:!1});const Kt=Re(C,"network-request-failed"),Rn=Yi().setTimeout(()=>{It(Kt)},Yh.get());function er(){Yi().clearTimeout(Rn),we(M)}M.ping(er).then(er,()=>{It(Kt)})});return function(we,It){return ee.apply(this,arguments)}}()))}),il.apply(this,arguments)}const Pu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function no(C,f,m,M,ee,we){ke(C.config.authDomain,C,"auth-domain-config-required"),ke(C.config.apiKey,C,"invalid-api-key");const It={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:M,v:$.SDK_VERSION,eventId:ee};if(f instanceof ys){f.setDefaultLanguage(C.languageCode),It.providerId=f.providerId||"",(0,p.xb)(f.getCustomParameters())||(It.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Rn,er]of Object.entries(we||{}))It[Rn]=er}if(f instanceof Ti){const Rn=f.getScopes().filter(er=>""!==er);Rn.length>0&&(It.scopes=Rn.join(","))}C.tenantId&&(It.tid=C.tenantId);const Kt=It;for(const Rn of Object.keys(Kt))void 0===Kt[Rn]&&delete Kt[Rn];return`${function sa({config:C}){return C.emulator?Rt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,p.xO)(Kt).slice(1)}`}const Ou="webStorageSupport",gc=class md{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=jn,this._overrideRedirectResult=ia}_openPopup(f,m,M,ee){var we=this;return(0,c.Z)(function*(){var It;ot(null===(It=we.eventManagers[f._key()])||void 0===It?void 0:It.manager,"_initialize() not called before _openPopup()");const Kt=no(f,m,M,Le(),ee);return function Qh(C,f,m,M=500,ee=600){const we=Math.max((window.screen.availHeight-ee)/2,0).toString(),It=Math.max((window.screen.availWidth-M)/2,0).toString();let Kt="";const Rn=Object.assign(Object.assign({},Pu),{width:M.toString(),height:ee.toString(),top:we,left:It}),er=(0,p.z$)().toLowerCase();m&&(Kt=se(er)?"_blank":m),Ke(er)&&(f=f||"http://localhost",Rn.scrollbars="yes");const Hr=Object.entries(Rn).reduce((Ko,[ya,Lu])=>`${Ko}${ya}=${Lu},`,"");if(function _e(C=(0,p.z$)()){var f;return Ce(C)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(er)&&"_self"!==Kt)return function Jh(C,f){const m=document.createElement("a");m.href=C,m.target=f;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(M)}(f||"",Kt),new mc(null);const Mi=window.open(f||"",Kt,Hr);ke(Mi,C,"popup-blocked");try{Mi.focus()}catch{}return new mc(Mi)}(f,Kt,ua())})()}_openRedirect(f,m,M,ee){var we=this;return(0,c.Z)(function*(){return yield we._originValidation(f),function No(C){Yi().location.href=C}(no(f,m,M,Le(),ee)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:ee,promise:we}=this.eventManagers[m];return ee?Promise.resolve(ee):(ot(we,"If manager is not set, promise should be"),we)}const M=this.initAndGetManager(f);return this.eventManagers[m]={promise:M},M.catch(()=>{delete this.eventManagers[m]}),M}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const M=yield function pc(C){return il.apply(this,arguments)}(f),ee=new Xs(f);return M.register("authEvent",we=>(ke(null==we?void 0:we.authEvent,f,"invalid-auth-event"),{status:ee.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:ee},m.iframes[f._key()]=M,ee})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ou,{type:Ou},ee=>{var we;const It=null===(we=null==ee?void 0:ee[0])||void 0===we?void 0:we[Ou];void 0!==It&&m(!!It),mt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lo(C){return Al.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return bt()||ne()||Ce()}};class ku extends class xa{constructor(f){this.factorId=f}_process(f,m,M){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,M);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ie("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ku(f)}_finalizeEnroll(f,m,M){return function Qn(C,f){return rn(C,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(C,f))}(f,{idToken:m,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ci(C,f){return rn(C,"POST","/v2/accounts/mfaSignIn:finalize",Lt(C,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ml=(()=>{class C{constructor(){}static assertion(m){return ku._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var Nu="@firebase/auth";class yc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(M=>{var ee;f((null===(ee=M)||void 0===ee?void 0:ee.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function xl(C){(0,$._registerComponent)(new Ae.wA("auth",(f,{options:m})=>{const M=f.getProvider("app").getImmediate(),ee=f.getProvider("heartbeat"),{apiKey:we,authDomain:It}=M.options;return((Kt,Rn)=>{ke(we&&!we.includes(":"),"invalid-api-key",{appName:Kt.name}),ke(!(null==It?void 0:It.includes(":")),"argument-error",{appName:Kt.name});const er={apiKey:we,authDomain:It,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(C)},Hr=new zn(Kt,Rn,er);return function $e(C,f){const m=(null==f?void 0:f.persistence)||[],M=(Array.isArray(m)?m:[m]).map(Je);(null==f?void 0:f.errorMap)&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(M,null==f?void 0:f.popupRedirectResolver)}(Hr,m),Hr})(M,ee)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,M)=>{f.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ae.wA("auth-internal",f=>{const m=mn(f.getProvider("auth").getImmediate());return new yc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Nu,"0.20.6",function _c(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,$.registerVersion)(Nu,"0.20.6","esm2017")}("Browser")},2090:(Wt,qe,D)=>{D.d(qe,{$s:()=>Nn,BH:()=>ft,G6:()=>ke,L:()=>be,LL:()=>Le,Mn:()=>ge,Sg:()=>Ue,UG:()=>xe,US:()=>Ae,ZB:()=>he,ZR:()=>$e,b$:()=>mt,d:()=>Re,eu:()=>ot,hl:()=>Ie,jU:()=>nt,m9:()=>Ot,ne:()=>nn,pd:()=>Dn,r3:()=>Lt,ru:()=>De,tV:()=>Oe,uI:()=>Ze,vZ:()=>hr,w1:()=>ve,xO:()=>kn,xb:()=>En,z$:()=>Te,zI:()=>Me,zd:()=>Gn});const pe=function(O){const I=[];let T=0;for(let H=0;H<O.length;H++){let J=O.charCodeAt(H);J<128?I[T++]=J:J<2048?(I[T++]=J>>6|192,I[T++]=63&J|128):55296==(64512&J)&&H+1<O.length&&56320==(64512&O.charCodeAt(H+1))?(J=65536+((1023&J)<<10)+(1023&O.charCodeAt(++H)),I[T++]=J>>18|240,I[T++]=J>>12&63|128,I[T++]=J>>6&63|128,I[T++]=63&J|128):(I[T++]=J>>12|224,I[T++]=J>>6&63|128,I[T++]=63&J|128)}return I},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,I){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let J=0;J<O.length;J+=3){const He=O[J],Et=J+1<O.length,kt=Et?O[J+1]:0,hn=J+2<O.length,on=hn?O[J+2]:0;let Ke=(15&kt)<<2|on>>6,ne=63&on;hn||(ne=64,Et||(Ke=64)),H.push(T[He>>2],T[(3&He)<<4|kt>>4],T[Ke],T[ne])}return H.join("")},encodeString(O,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(O):this.encodeByteArray(pe(O),I)},decodeString(O,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(O):function(O){const I=[];let T=0,H=0;for(;T<O.length;){const J=O[T++];if(J<128)I[H++]=String.fromCharCode(J);else if(J>191&&J<224){const He=O[T++];I[H++]=String.fromCharCode((31&J)<<6|63&He)}else if(J>239&&J<365){const hn=((7&J)<<18|(63&O[T++])<<12|(63&O[T++])<<6|63&O[T++])-65536;I[H++]=String.fromCharCode(55296+(hn>>10)),I[H++]=String.fromCharCode(56320+(1023&hn))}else{const He=O[T++],Et=O[T++];I[H++]=String.fromCharCode((15&J)<<12|(63&He)<<6|63&Et)}}return I.join("")}(this.decodeStringToByteArray(O,I))},decodeStringToByteArray(O,I){this.init_();const T=I?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let J=0;J<O.length;){const He=T[O.charAt(J++)],kt=J<O.length?T[O.charAt(J)]:0;++J;const on=J<O.length?T[O.charAt(J)]:64;++J;const st=J<O.length?T[O.charAt(J)]:64;if(++J,null==He||null==kt||null==on||null==st)throw Error();H.push(He<<2|kt>>4),64!==on&&(H.push(kt<<4&240|on>>2),64!==st&&H.push(on<<6&192|st))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}},be=function(O){return function(O){const I=pe(O);return Ae.encodeByteArray(I,!0)}(O).replace(/\./g,"")},Oe=function(O){try{return Ae.decodeString(O,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};function he(O,I){if(!(I instanceof Object))return I;switch(I.constructor){case Date:return new Date(I.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return I}for(const T in I)!I.hasOwnProperty(T)||!Se(T)||(O[T]=he(O[T],I[T]));return O}function Se(O){return"__proto__"!==O}class ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((I,T)=>{this.resolve=I,this.reject=T})}wrapCallback(I){return(T,H)=>{T?this.reject(T):this.resolve(H),"function"==typeof I&&(this.promise.catch(()=>{}),1===I.length?I(T):I(T,H))}}}function Ue(O,I){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=I||"demo-project",J=O.iat||0,He=O.sub||O.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:J,exp:J+3600,auth_time:J,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},O);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(Et)),""].join(".")}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function De(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Te().indexOf("Electron/")>=0}function ve(){const O=Te();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function ge(){return Te().indexOf("MSAppHost/")>=0}function ke(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){return"object"==typeof indexedDB}function ot(){return new Promise((O,I)=>{try{let T=!0;const H="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(H);J.onsuccess=()=>{J.result.close(),T||self.indexedDB.deleteDatabase(H),O(!0)},J.onupgradeneeded=()=>{T=!1},J.onerror=()=>{var He;I((null===(He=J.error)||void 0===He?void 0:He.message)||"")}}catch(T){I(T)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $e extends Error{constructor(I,T,H){super(T),this.code=I,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(I,T,H){this.service=I,this.serviceName=T,this.errors=H}create(I,...T){const H=T[0]||{},J=`${this.service}/${I}`,He=this.errors[I],Et=He?function dt(O,I){return O.replace(tt,(T,H)=>{const J=I[H];return null!=J?String(J):`<${H}?>`})}(He,H):"Error";return new $e(J,`${this.serviceName}: ${Et} (${J}).`,H)}}const tt=/\{\$([^}]+)}/g;function Lt(O,I){return Object.prototype.hasOwnProperty.call(O,I)}function En(O){for(const I in O)if(Object.prototype.hasOwnProperty.call(O,I))return!1;return!0}function hr(O,I){if(O===I)return!0;const T=Object.keys(O),H=Object.keys(I);for(const J of T){if(!H.includes(J))return!1;const He=O[J],Et=I[J];if(Vn(He)&&Vn(Et)){if(!hr(He,Et))return!1}else if(He!==Et)return!1}for(const J of H)if(!T.includes(J))return!1;return!0}function Vn(O){return null!==O&&"object"==typeof O}function kn(O){const I=[];for(const[T,H]of Object.entries(O))Array.isArray(H)?H.forEach(J=>{I.push(encodeURIComponent(T)+"="+encodeURIComponent(J))}):I.push(encodeURIComponent(T)+"="+encodeURIComponent(H));return I.length?"&"+I.join("&"):""}function Gn(O){const I={};return O.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[J,He]=H.split("=");I[decodeURIComponent(J)]=decodeURIComponent(He)}}),I}function Dn(O){const I=O.indexOf("?");if(!I)return"";const T=O.indexOf("#",I);return O.substring(I,T>0?T:void 0)}function nn(O,I){const T=new Bn(O,I);return T.subscribe.bind(T)}class Bn{constructor(I,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{I(this)}).catch(H=>{this.error(H)})}next(I){this.forEachObserver(T=>{T.next(I)})}error(I){this.forEachObserver(T=>{T.error(I)}),this.close(I)}complete(){this.forEachObserver(I=>{I.complete()}),this.close()}subscribe(I,T,H){let J;if(void 0===I&&void 0===T&&void 0===H)throw new Error("Missing Observer.");J=function Mn(O,I){if("object"!=typeof O||null===O)return!1;for(const T of I)if(T in O&&"function"==typeof O[T])return!0;return!1}(I,["next","error","complete"])?I:{next:I,error:T,complete:H},void 0===J.next&&(J.next=ar),void 0===J.error&&(J.error=ar),void 0===J.complete&&(J.complete=ar);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),He}unsubscribeOne(I){void 0===this.observers||void 0===this.observers[I]||(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(I){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,I)}sendOne(I,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[I])try{T(this.observers[I])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(I){this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}function Nn(O,I=1e3,T=2){const H=I*Math.pow(T,O),J=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+J)}function Ot(O){return O&&O._delegate?O._delegate:O}},6700:(Wt,qe,D)=>{D.r(qe),D.d(qe,{Ex001ModularRoutingAppRoutingModule:()=>Ue});var c=D(2048),p=D(4650);const ft=[{path:"",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-ex001-modular-routing-app"]],decls:34,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","actor/add","routerLinkActive","active-route"],["routerLink","actor/edit","routerLinkActive","active-route"],["routerLink","actor/list","routerLinkActive","active-route"],["routerLink","director/add","routerLinkActive","active-route"],["routerLink","director/edit","routerLinkActive","active-route"],["routerLink","director/list","routerLinkActive","active-route"],["routerLink","movie/add","routerLinkActive","active-route"],["routerLink","movie/edit","routerLinkActive","active-route"],["routerLink","movie/list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p._UZ(3,"br"),p.TgZ(4,"a",1),p._uU(5,"Add Actor"),p.qZA(),p._uU(6,"\xa0\n"),p.TgZ(7,"a",2),p._uU(8,"Edit Actor"),p.qZA(),p._uU(9,"\xa0\n"),p.TgZ(10,"a",3),p._uU(11,"List Actor"),p.qZA(),p._uU(12,"\xa0\n"),p._UZ(13,"br"),p.TgZ(14,"a",4),p._uU(15,"Add Director"),p.qZA(),p._uU(16,"\xa0\n"),p.TgZ(17,"a",5),p._uU(18,"Edit Director"),p.qZA(),p._uU(19,"\xa0\n"),p.TgZ(20,"a",6),p._uU(21,"List Director"),p.qZA(),p._uU(22,"\xa0\n"),p._UZ(23,"br"),p.TgZ(24,"a",7),p._uU(25,"Add Movie"),p.qZA(),p._uU(26,"\xa0\n"),p.TgZ(27,"a",8),p._uU(28,"Edit Movie"),p.qZA(),p._uU(29,"\xa0\n"),p.TgZ(30,"a",9),p._uU(31,"List Movie"),p.qZA(),p._uU(32,"\xa0 "),p._UZ(33,"router-outlet"))},directives:[c.yS,c.Od,c.lC],styles:[""]}),Te})()},{path:"actor/add",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-add-actor"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Actor"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Actor"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Actor"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Add Actor"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"add-actor works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"actor/edit",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-edit-actor"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Actor"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Actor"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Actor"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Edit Actor"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"edit-actor works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"actor/list",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-list-actor"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Actor"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Actor"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Actor"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"List Actor"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"list-actor works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"director/add",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-add-director"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Director"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Director"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Director"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Add Director"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"add-director works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"director/edit",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-edit-director"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Director"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Director"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Director"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Edit Director"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"edit-director works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"director/list",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-list-director"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Director"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Director"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Director"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"List Director"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"list-director works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"movie/add",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-add-movie"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Movie"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Movie"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Movie"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Add Movie"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"add-movie works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"movie/edit",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-edit-movie"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Movie"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Movie"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Movie"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"Edit Movie"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"edit-movie works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"movie/list",component:(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["app-list-movie"]],decls:17,vars:0,consts:[["routerLink","","routerLinkActive","active-route"],["routerLink","../add","routerLinkActive","active-route"],["routerLink","../edit","routerLinkActive","active-route"],["routerLink","../list","routerLinkActive","active-route"]],template:function(xe,nt){1&xe&&(p.TgZ(0,"a",0),p._uU(1,"Home"),p.qZA(),p._uU(2,"\xa0\n"),p.TgZ(3,"a",1),p._uU(4,"Add Movie"),p.qZA(),p._uU(5,"\xa0\n"),p.TgZ(6,"a",2),p._uU(7,"Edit Movie"),p.qZA(),p._uU(8,"\xa0\n"),p.TgZ(9,"a",3),p._uU(10,"List Movie"),p.qZA(),p._uU(11,"\xa0 "),p._UZ(12,"br"),p.TgZ(13,"h1"),p._uU(14,"List Movie"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"list-movie works!"),p.qZA())},directives:[c.yS,c.Od],styles:[""]}),Te})()},{path:"**",redirectTo:"",pathMatch:"full"}];let Ue=(()=>{class Te{}return Te.\u0275fac=function(xe){return new(xe||Te)},Te.\u0275mod=p.oAB({type:Te}),Te.\u0275inj=p.cJS({imports:[[c.Bz.forChild(ft)],c.Bz]}),Te})()},4757:(Wt,qe,D)=>{D.d(qe,{e:()=>pe});var c=D(8937),p=D(4650),$=D(1205);let pe=(()=>{class v{constructor(Ne){this.afAuth=Ne,this.authState=null,this.afAuth.authState.subscribe(be=>this.authState=be)}get authenticated(){return null!==this.authState}get currentUserId(){return this.authenticated?this.authState.uid:null}login(){this.afAuth.signInWithPopup(new c.hJ)}logout(){this.afAuth.signOut()}}return v.\u0275fac=function(Ne){return new(Ne||v)(p.LFG($.zQ))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},1393:(Wt,qe,D)=>{D.r(qe),D.d(qe,{Ex002BlogAppRoutingModule:()=>pe});var c=D(2048),p=D(4650);const $=[{path:"",redirectTo:"blog",pathMatch:"full"},{path:"",loadChildren:()=>Promise.resolve().then(D.bind(D,9030)).then(v=>v.PostsModule)}];let pe=(()=>{class v{}return v.\u0275fac=function(Ne){return new(Ne||v)},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[[c.Bz.forChild($)],c.Bz]}),v})()},9030:(Wt,qe,D)=>{D.r(qe),D.d(qe,{PostsModule:()=>$e});var c=D(6895),p=D(779),$=D(2048),pe=D(8746),v=D(4650),Ae=D(4757),Ne=D(4004),be=D(7407);let Oe=(()=>{class Le{constructor(tt){this.afs=tt,this.postsCollection=this.afs.collection("posts",Ct=>Ct.orderBy("published","desc"))}getPosts(){return this.postsCollection.snapshotChanges().pipe((0,Ne.U)(tt=>tt.map(Ct=>({...Ct.payload.doc.data(),id:Ct.payload.doc.id}))))}getPost(tt){return this.afs.doc(`posts/${tt}`)}getPostData(tt){return this.postDoc=this.afs.doc(`posts/${tt}`),this.postDoc.valueChanges()}create(tt){this.postsCollection.add(tt)}delete(tt){this.getPost(tt).delete()}update(tt,Ct){return this.getPost(tt).update(Ct)}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.LFG(be.ST))},Le.\u0275prov=v.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var fe=D(4585),he=D(3683),Se=D(9101);function ft(Le,dt){if(1&Le){const tt=v.EpF();v.TgZ(0,"div")(1,"button",6),v._uU(2,"Write a Post"),v.qZA(),v.TgZ(3,"button",7),v.NdJ("click",function(){return v.CHM(tt),v.oxw().auth.logout()}),v._uU(4,"Logout"),v.qZA()()}if(2&Le){const tt=v.oxw();v.xp6(1),v.MGl("routerLink","",tt.path,"dashboard")}}function Ue(Le,dt){if(1&Le){const tt=v.EpF();v.TgZ(0,"button",7),v.NdJ("click",function(){return v.CHM(tt),v.oxw().auth.login()}),v._uU(1,"Login with Google"),v.qZA()}}let Te=(()=>{class Le{constructor(tt){this.auth=tt,this.path=""}ngOnInit(){}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.Y36(Ae.e))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["app-navbar"]],inputs:{path:"path"},decls:11,vars:5,consts:[["color","primary"],[3,"routerLink"],[1,"spacer"],[4,"ngIf","ngIfElse"],["showLogin",""],["mat-button","","routerLink","","routerLinkActive","active-route"],["mat-raised-button","","color","accent",3,"routerLink"],["mat-button","",3,"click"]],template:function(tt,Ct){if(1&tt&&(v.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),v._uU(3,"Ng-Blog"),v.qZA(),v._UZ(4,"span",2),v.YNc(5,ft,5,1,"div",3),v.ALo(6,"async"),v.YNc(7,Ue,2,0,"ng-template",null,4,v.W1O),v.TgZ(9,"a",5),v._uU(10,"Home"),v.qZA()()()),2&tt){const $t=v.MAs(8);v.xp6(2),v.MGl("routerLink","",Ct.path,"blog"),v.xp6(3),v.Q6J("ngIf",v.lcZ(6,3,Ct.auth.afAuth.authState))("ngIfElse",$t)}},directives:[he.Ye,he.rD,$.rH,c.O5,Se.lW,Se.zs,$.yS,$.Od],pipes:[c.Ov],styles:["body[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}span[_ngcontent-%COMP%]:focus{outline:none;border:0}span[_ngcontent-%COMP%]{cursor:pointer}"]}),Le})();var Ze=D(7485),xe=D(3162),nt=D(7676),De=D(4144),mt=D(4006);let Re=(()=>{class Le{constructor(tt,Ct,$t){this.auth=tt,this.postService=Ct,this.afs=$t,this._path="../",this.image="",this.buttonText="Create Post"}ngOnInit(){}createPost(){const tt={author:this.auth.authState.displayName||this.auth.authState.email,authorId:this.auth.currentUserId,content:this.content,image:this.image,published:new Date,title:this.title};this.postService.create(tt),this.title="",this.content="",this.buttonText="Post Created!",setTimeout(()=>this.buttonText="Create Post",3e3)}uploadImage(tt){const Ct=tt.target.files[0],$t=`posts/${Ct.name}`;if("image"!==Ct.type.split("/")[0])return alert("Only image files allowed.");{const Tt=this.afs.ref($t),Rt=this.afs.upload($t,Ct);this.uploadPercent=Rt.percentageChanges(),console.log("Image uploaded!"),Rt.snapshotChanges().pipe((0,pe.x)(()=>{this.downloadURL=Tt.getDownloadURL(),this.downloadURL.subscribe(zt=>this.image=zt)})).subscribe()}}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.Y36(Ae.e),v.Y36(Oe),v.Y36(fe.Q1))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["app-post-dashboard"]],decls:22,vars:11,consts:[[3,"path"],["type","file","name","file","id","file",3,"change"],[3,"hidden"],["mode","determinate",3,"value"],[3,"src"],["matInput","","placeholder","Post Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Post Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(tt,Ct){1&tt&&(v._UZ(0,"app-navbar",0),v.TgZ(1,"section")(2,"mat-accordion")(3,"mat-expansion-panel")(4,"mat-expansion-panel-header")(5,"mat-panel-title"),v._uU(6," Create a Post "),v.qZA()(),v.TgZ(7,"div")(8,"input",1),v.NdJ("change",function(Tt){return Ct.uploadImage(Tt)}),v.qZA(),v.TgZ(9,"div",2),v._UZ(10,"mat-progress-bar",3),v.ALo(11,"async"),v.qZA(),v.TgZ(12,"div",2),v._UZ(13,"img",4),v.qZA()(),v.TgZ(14,"mat-form-field")(15,"input",5),v.NdJ("ngModelChange",function(Tt){return Ct.title=Tt}),v.qZA()(),v._UZ(16,"br"),v.TgZ(17,"mat-form-field")(18,"textarea",6),v.NdJ("ngModelChange",function(Tt){return Ct.content=Tt}),v.qZA()(),v._UZ(19,"br"),v.TgZ(20,"button",7),v.NdJ("click",function(){return Ct.createPost()}),v._uU(21),v.qZA()()()()),2&tt&&(v.Q6J("path",Ct._path),v.xp6(9),v.Q6J("hidden",!Ct.uploadPercent),v.xp6(1),v.s9C("value",v.lcZ(11,9,Ct.uploadPercent)),v.xp6(2),v.Q6J("hidden",!Ct.image),v.xp6(1),v.Q6J("src",Ct.image||"//:0",v.LSH),v.xp6(2),v.Q6J("ngModel",Ct.title),v.xp6(3),v.Q6J("ngModel",Ct.content),v.xp6(2),v.Q6J("disabled",!Ct.title||!Ct.content||!Ct.image),v.xp6(1),v.Oqu(Ct.buttonText))},directives:[Te,Ze.pp,Ze.ib,Ze.yz,Ze.yK,xe.pW,nt.KE,De.Nt,mt.Fj,mt.JJ,mt.On,Se.lW],pipes:[c.Ov],styles:["section[_ngcontent-%COMP%]{max-width:700px;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:100%}"]}),Le})();var ve=D(3546),ge=D(3336);function lt(Le,dt){if(1&Le){const tt=v.EpF();v.TgZ(0,"mat-card-actions",9)(1,"button",10),v.NdJ("click",function(){return v.CHM(tt),v.oxw(2).editing=!0}),v.TgZ(2,"mat-icon"),v._uU(3,"edit"),v.qZA()(),v.TgZ(4,"button",10),v.NdJ("click",function(){return v.CHM(tt),v.oxw(2).delete()}),v.TgZ(5,"mat-icon"),v._uU(6,"delete"),v.qZA()()()}}function ke(Le,dt){if(1&Le){const tt=v.EpF();v.ynx(0),v.TgZ(1,"div",2)(2,"mat-card")(3,"h2"),v._uU(4,"Update Post"),v.qZA(),v.TgZ(5,"mat-form-field")(6,"input",3),v.NdJ("ngModelChange",function($t){return v.CHM(tt),v.oxw().post.title=$t}),v.qZA()(),v._UZ(7,"br"),v.TgZ(8,"mat-form-field")(9,"textarea",4),v.NdJ("ngModelChange",function($t){return v.CHM(tt),v.oxw().post.content=$t}),v.qZA()(),v._UZ(10,"br"),v.TgZ(11,"button",5),v.NdJ("click",function(){return v.CHM(tt),v.oxw().updatePost()}),v._uU(12,"Save"),v.qZA(),v._uU(13,"\xa0 "),v.TgZ(14,"button",6),v.NdJ("click",function(){return v.CHM(tt),v.oxw().editing=!1}),v._uU(15,"Cancel"),v.qZA()()(),v.TgZ(16,"div",2)(17,"mat-card"),v._UZ(18,"img",7),v.TgZ(19,"mat-card-content")(20,"h2"),v._uU(21),v.qZA(),v.TgZ(22,"p"),v._uU(23),v.ALo(24,"date"),v.qZA(),v.TgZ(25,"p"),v._uU(26),v.qZA()(),v.YNc(27,lt,7,0,"mat-card-actions",8),v.qZA()(),v.BQk()}if(2&Le){const tt=v.oxw();v.xp6(1),v.Q6J("hidden",!tt.editing),v.xp6(5),v.Q6J("ngModel",tt.post.title),v.xp6(3),v.Q6J("ngModel",tt.post.content),v.xp6(2),v.Q6J("disabled",!tt.post.title||!tt.post.content),v.xp6(5),v.Q6J("hidden",tt.editing),v.xp6(2),v.s9C("src",tt.post.image,v.LSH),v.s9C("alt",tt.post.title),v.xp6(3),v.Oqu(tt.post.title),v.xp6(2),v.AsE("posted by ",tt.post.author," \u2022 ",v.xi3(24,12,null==tt.post.published?null:tt.post.published.toDate(),"fullDate"),""),v.xp6(3),v.Oqu(tt.post.content),v.xp6(1),v.Q6J("ngIf",tt.auth.currentUserId===tt.post.authorId)}}let Ie=(()=>{class Le{constructor(tt,Ct,$t,Tt){this.activateRoute=tt,this.router=Ct,this.auth=$t,this.postService=Tt,this._path="../../",this.editing=!1}ngOnInit(){this.getPost()}getPost(){const tt=this.activateRoute.snapshot.paramMap.get("id");return this.postService.getPostData(tt??"").subscribe(Ct=>this.post=Ct)}updatePost(){const tt={title:this.post.title,content:this.post.content},Ct=this.activateRoute.snapshot.paramMap.get("id");Ct&&(this.postService.update(Ct,tt),this.editing=!1)}delete(){const tt=this.activateRoute.snapshot.paramMap.get("id");tt&&(this.postService.delete(tt),this.router.navigate(["/ex002"]))}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.Y36($.gz),v.Y36($.F0),v.Y36(Ae.e),v.Y36(Oe))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["app-post-detail"]],decls:2,vars:2,consts:[[3,"path"],[4,"ngIf"],[3,"hidden"],["matInput","","placeholder","Post Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Post Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-button","",3,"click"],[3,"src","alt"],["align","end",4,"ngIf"],["align","end"],["mat-icon-button","",3,"click"]],template:function(tt,Ct){1&tt&&(v._UZ(0,"app-navbar",0),v.YNc(1,ke,28,15,"ng-container",1)),2&tt&&(v.Q6J("path",Ct._path),v.xp6(1),v.Q6J("ngIf",Ct.post))},directives:[Te,c.O5,ve.a8,nt.KE,De.Nt,mt.Fj,mt.JJ,mt.On,Se.lW,ve.dn,ve.hq,ge.Hw],pipes:[c.uU],styles:["mat-card[_ngcontent-%COMP%]{margin:10px auto;max-width:700px}img[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),Le})();function ot(Le,dt){if(1&Le){const tt=v.EpF();v.TgZ(0,"mat-card-actions",5)(1,"button",6),v.NdJ("click",function(){v.CHM(tt);const $t=v.oxw().$implicit;return v.oxw().delete($t.id)}),v.TgZ(2,"mat-icon"),v._uU(3,"delete"),v.qZA()()()}}function Me(Le,dt){if(1&Le&&(v.TgZ(0,"mat-card")(1,"mat-card-content",2),v._UZ(2,"img",3),v.TgZ(3,"h2"),v._uU(4),v.qZA(),v.TgZ(5,"p")(6,"small"),v._uU(7),v.ALo(8,"date"),v.qZA()()(),v.YNc(9,ot,4,0,"mat-card-actions",4),v.qZA()),2&Le){const tt=dt.$implicit,Ct=v.oxw();v.xp6(1),v.s9C("routerLink",tt.id),v.xp6(1),v.s9C("src",tt.image,v.LSH),v.s9C("alt",tt.title),v.xp6(2),v.Oqu(tt.title),v.xp6(3),v.AsE("Posted by ",tt.author," \u2022 on ",v.xi3(8,7,null==tt.published?null:tt.published.toDate(),"fullDate"),""),v.xp6(2),v.Q6J("ngIf",Ct.auth.currentUserId===tt.authorId)}}const ct=[{path:"blog",component:(()=>{class Le{constructor(tt,Ct){this.postService=tt,this.auth=Ct,this._path="../"}ngOnInit(){this.posts=this.postService.getPosts(),console.log(this.posts)}delete(tt){this.postService.delete(tt)}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.Y36(Oe),v.Y36(Ae.e))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["app-post-list"]],decls:4,vars:4,consts:[[3,"path"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"src","alt"],["align","end",4,"ngIf"],["align","end"],["mat-icon-button","",3,"click"]],template:function(tt,Ct){1&tt&&(v._UZ(0,"app-navbar",0),v.TgZ(1,"section"),v.YNc(2,Me,10,10,"mat-card",1),v.ALo(3,"async"),v.qZA()),2&tt&&(v.Q6J("path",Ct._path),v.xp6(2),v.Q6J("ngForOf",v.lcZ(3,2,Ct.posts)))},directives:[Te,c.sg,ve.a8,ve.dn,$.rH,c.O5,ve.hq,Se.lW,ge.Hw],pipes:[c.Ov,c.uU],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-auto-rows:auto;grid-gap:10px;margin:0 auto;max-width:95%}mat-card[_ngcontent-%COMP%]{margin:10px 0;max-width:700px}img[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]:focus{outline:none;border:0}"]}),Le})()},{path:"blog/:id",component:Ie},{path:"dashboard",component:Re}];let $e=(()=>{class Le{}return Le.\u0275fac=function(tt){return new(tt||Le)},Le.\u0275mod=v.oAB({type:Le}),Le.\u0275inj=v.cJS({providers:[Oe],imports:[[c.ez,p.m,$.Bz.forChild(ct)]]}),Le})()},779:(Wt,qe,D)=>{D.d(qe,{m:()=>ft});var c=D(6895),p=D(4006),$=D(2048),pe=D(9101),v=D(3546),Ae=D(3336),Ne=D(4144),be=D(3683),Oe=D(7485),fe=D(3162),he=D(4650);let Se=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=he.oAB({type:Ue}),Ue.\u0275inj=he.cJS({imports:[[c.ez,pe.ot,v.QW,Ae.Ps,Ne.c,be.g0,Oe.To,fe.Cv],pe.ot,v.QW,Ae.Ps,Ne.c,be.g0,Oe.To,fe.Cv]}),Ue})(),ft=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=he.oAB({type:Ue}),Ue.\u0275inj=he.cJS({imports:[[c.ez,p.u5,$.Bz,Se],c.ez,p.u5,$.Bz,Se]}),Ue})()},6716:(Wt,qe,D)=>{D.d(qe,{e:()=>pe});var c=D(8937),p=D(4650),$=D(1205);let pe=(()=>{class v{constructor(Ne){this.afAuth=Ne,this.authState=null,this.afAuth.authState.subscribe(be=>this.authState=be)}get authenticated(){return null!==this.authState}get currentUserId(){return this.authenticated?this.authState.uid:null}login(){this.afAuth.signInWithPopup(new c.hJ)}logout(){this.afAuth.signOut()}}return v.\u0275fac=function(Ne){return new(Ne||v)(p.LFG($.zQ))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},7547:(Wt,qe,D)=>{D.r(qe),D.d(qe,{Ex003ProjectAppRoutingModule:()=>pe});var c=D(2048),p=D(4650);const $=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"",loadChildren:()=>Promise.resolve().then(D.bind(D,8215)).then(v=>v.ProjectsModule)}];let pe=(()=>{class v{}return v.\u0275fac=function(Ne){return new(Ne||v)},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[[c.Bz.forChild($)],c.Bz]}),v})()},8215:(Wt,qe,D)=>{D.r(qe),D.d(qe,{ProjectsModule:()=>Tt});var c=D(6895),p=D(9153),$=D(2048),pe=D(8746),v=D(4650),Ae=D(6716),Ne=D(4004),be=D(7407);let Oe=(()=>{class Rt{constructor(Xe){this.afs=Xe,this.projectsCollection=this.afs.collection("projects",Dt=>Dt.orderBy("published","desc"))}getProjects(){return this.projectsCollection.snapshotChanges().pipe((0,Ne.U)(Xe=>Xe.map(Dt=>({...Dt.payload.doc.data(),id:Dt.payload.doc.id}))))}getProject(Xe){return this.afs.doc(`projects/${Xe}`)}getProjectData(Xe){return this.projectDoc=this.afs.doc(`projects/${Xe}`),this.projectDoc.valueChanges()}create(Xe){this.projectsCollection.add(Xe)}delete(Xe){this.getProject(Xe).delete()}update(Xe,Dt){return this.getProject(Xe).update(Dt)}}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)(v.LFG(be.ST))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})();var fe=D(4585),he=D(3683),Se=D(9101);function ft(Rt,zt){if(1&Rt){const Xe=v.EpF();v.TgZ(0,"div")(1,"button",6),v._uU(2,"Add a Project"),v.qZA(),v.TgZ(3,"button",7),v.NdJ("click",function(){return v.CHM(Xe),v.oxw().auth.logout()}),v._uU(4,"Logout"),v.qZA()()}if(2&Rt){const Xe=v.oxw();v.xp6(1),v.MGl("routerLink","",Xe.path,"add")}}function Ue(Rt,zt){if(1&Rt){const Xe=v.EpF();v.TgZ(0,"button",7),v.NdJ("click",function(){return v.CHM(Xe),v.oxw().auth.login()}),v._uU(1,"Login with Google"),v.qZA()}}let Te=(()=>{class Rt{constructor(Xe){this.auth=Xe,this.path=""}ngOnInit(){}}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)(v.Y36(Ae.e))},Rt.\u0275cmp=v.Xpm({type:Rt,selectors:[["app-navbar"]],inputs:{path:"path"},decls:11,vars:5,consts:[["color","primary"],[3,"routerLink"],[1,"spacer"],[4,"ngIf","ngIfElse"],["showLogin",""],["mat-button","","routerLink","","routerLinkActive","active-route"],["mat-raised-button","","color","accent",3,"routerLink"],["mat-button","",3,"click"]],template:function(Xe,Dt){if(1&Xe&&(v.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span",1),v._uU(3,"handyPan's Project Collection"),v.qZA(),v._UZ(4,"span",2),v.YNc(5,ft,5,1,"div",3),v.ALo(6,"async"),v.YNc(7,Ue,2,0,"ng-template",null,4,v.W1O),v.TgZ(9,"a",5),v._uU(10,"Home"),v.qZA()()()),2&Xe){const Lt=v.MAs(8);v.xp6(2),v.MGl("routerLink","",Dt.path,"list"),v.xp6(3),v.Q6J("ngIf",v.lcZ(6,3,Dt.auth.afAuth.authState))("ngIfElse",Lt)}},directives:[he.Ye,he.rD,$.rH,c.O5,Se.lW,Se.zs,$.yS,$.Od],pipes:[c.Ov],styles:["body[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}span[_ngcontent-%COMP%]:focus{outline:none;border:0}span[_ngcontent-%COMP%]{cursor:pointer}"]}),Rt})();var Ze=D(7485),xe=D(3162),nt=D(7676),De=D(4144),mt=D(4006);const Re=["file"];let ve=(()=>{class Rt{constructor(Xe,Dt,Lt){this.auth=Xe,this.projectService=Dt,this.afs=Lt,this._path="../",this.image="",this.demo="",this.website="",this.buttonText="Create Project"}ngOnInit(){}createProject(){const Xe={author:this.auth.authState.displayName||this.auth.authState.email,authorId:this.auth.currentUserId,content:this.content,image:this.image,demo:this.demo,website:this.website,published:new Date,title:this.title};this.projectService.create(Xe),this.imgFile.nativeElement.value="",this.title="",this.image="",this.demo="",this.website="",this.content="",this.buttonText="Project Created!",setTimeout(()=>this.buttonText="Create Project",3e3)}uploadImage(Xe){const Dt=Xe.target.files[0],Lt=`projects/${Dt.name}`;if("image"!==Dt.type.split("/")[0])return alert("Only image files allowed.");{const rn=this.afs.ref(Lt),En=this.afs.upload(Lt,Dt);this.uploadPercent=En.percentageChanges(),console.log("Image uploaded!"),En.snapshotChanges().pipe((0,pe.x)(()=>{this.downloadURL=rn.getDownloadURL(),this.downloadURL.subscribe(rr=>this.image=rr)})).subscribe()}}}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)(v.Y36(Ae.e),v.Y36(Oe),v.Y36(fe.Q1))},Rt.\u0275cmp=v.Xpm({type:Rt,selectors:[["app-add-project"]],viewQuery:function(Xe,Dt){if(1&Xe&&v.Gf(Re,7),2&Xe){let Lt;v.iGM(Lt=v.CRH())&&(Dt.imgFile=Lt.first)}},decls:33,vars:13,consts:[[3,"path"],["type","file","name","file","id","file",3,"change"],["file",""],[3,"hidden"],["mode","determinate",3,"value"],[3,"src"],["matInput","","placeholder","Project Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Demo",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Website",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(Xe,Dt){1&Xe&&(v._UZ(0,"app-navbar",0),v.TgZ(1,"section")(2,"mat-accordion")(3,"mat-expansion-panel")(4,"mat-expansion-panel-header")(5,"mat-panel-title")(6,"h2"),v._uU(7,"Add a Project"),v.qZA()()(),v.TgZ(8,"div")(9,"p")(10,"strong"),v._uU(11,"Image"),v.qZA()(),v.TgZ(12,"input",1,2),v.NdJ("change",function(rn){return Dt.uploadImage(rn)}),v.qZA(),v.TgZ(14,"div",3),v._UZ(15,"mat-progress-bar",4),v.ALo(16,"async"),v.qZA(),v.TgZ(17,"div",3),v._UZ(18,"img",5),v.qZA()(),v.TgZ(19,"mat-form-field")(20,"input",6),v.NdJ("ngModelChange",function(rn){return Dt.title=rn}),v.qZA()(),v._UZ(21,"br"),v.TgZ(22,"mat-form-field")(23,"input",7),v.NdJ("ngModelChange",function(rn){return Dt.demo=rn}),v.qZA()(),v._UZ(24,"br"),v.TgZ(25,"mat-form-field")(26,"input",8),v.NdJ("ngModelChange",function(rn){return Dt.website=rn}),v.qZA()(),v._UZ(27,"br"),v.TgZ(28,"mat-form-field")(29,"textarea",9),v.NdJ("ngModelChange",function(rn){return Dt.content=rn}),v.qZA()(),v._UZ(30,"br"),v.TgZ(31,"button",10),v.NdJ("click",function(){return Dt.createProject()}),v._uU(32),v.qZA()()()()),2&Xe&&(v.Q6J("path",Dt._path),v.xp6(14),v.Q6J("hidden",!Dt.uploadPercent),v.xp6(1),v.s9C("value",v.lcZ(16,11,Dt.uploadPercent)),v.xp6(2),v.Q6J("hidden",!Dt.image),v.xp6(1),v.Q6J("src",Dt.image||"//:0",v.LSH),v.xp6(2),v.Q6J("ngModel",Dt.title),v.xp6(3),v.Q6J("ngModel",Dt.demo),v.xp6(3),v.Q6J("ngModel",Dt.website),v.xp6(3),v.Q6J("ngModel",Dt.content),v.xp6(2),v.Q6J("disabled",!Dt.title||!Dt.content||!Dt.image),v.xp6(1),v.Oqu(Dt.buttonText))},directives:[Te,Ze.pp,Ze.ib,Ze.yz,Ze.yK,xe.pW,nt.KE,De.Nt,mt.Fj,mt.JJ,mt.On,Se.lW],pipes:[c.Ov],styles:["section[_ngcontent-%COMP%]{max-width:700px;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:100%}"]}),Rt})();var ge=D(1481),lt=D(3546),ke=D(3336);function Ie(Rt,zt){if(1&Rt&&(v.ynx(0),v.TgZ(1,"h3")(2,"strong"),v._uU(3,"Demo"),v.qZA()(),v._UZ(4,"iframe",11),v.BQk()),2&Rt){const Xe=v.oxw(2);v.xp6(4),v.s9C("title",Xe.project.title),v.Q6J("src",Xe.getSanitizedDemoUrl(Xe.project.demo),v.uOi)}}function ot(Rt,zt){if(1&Rt&&(v.ynx(0),v.TgZ(1,"h3")(2,"strong"),v._uU(3,"Website"),v.qZA()(),v.TgZ(4,"a",12),v._uU(5),v.qZA(),v.BQk()),2&Rt){const Xe=v.oxw(2);v.xp6(4),v.s9C("href",Xe.project.website,v.LSH),v.xp6(1),v.Oqu(Xe.project.website)}}function Me(Rt,zt){if(1&Rt){const Xe=v.EpF();v.TgZ(0,"mat-card-actions",13)(1,"button",14),v.NdJ("click",function(){return v.CHM(Xe),v.oxw(2).editing=!0}),v.TgZ(2,"mat-icon"),v._uU(3,"edit"),v.qZA()(),v.TgZ(4,"button",14),v.NdJ("click",function(){return v.CHM(Xe),v.oxw(2).delete()}),v.TgZ(5,"mat-icon"),v._uU(6,"delete"),v.qZA()()()}}function Je(Rt,zt){if(1&Rt){const Xe=v.EpF();v.ynx(0),v.TgZ(1,"div",2)(2,"mat-card")(3,"h2"),v._uU(4,"Update Project"),v.qZA(),v.TgZ(5,"mat-form-field")(6,"input",3),v.NdJ("ngModelChange",function(Lt){return v.CHM(Xe),v.oxw().project.title=Lt}),v.qZA()(),v._UZ(7,"br"),v.TgZ(8,"mat-form-field")(9,"input",4),v.NdJ("ngModelChange",function(Lt){return v.CHM(Xe),v.oxw().project.demo=Lt}),v.qZA()(),v._UZ(10,"br"),v.TgZ(11,"mat-form-field")(12,"input",5),v.NdJ("ngModelChange",function(Lt){return v.CHM(Xe),v.oxw().project.website=Lt}),v.qZA()(),v._UZ(13,"br"),v.TgZ(14,"mat-form-field")(15,"textarea",6),v.NdJ("ngModelChange",function(Lt){return v.CHM(Xe),v.oxw().project.content=Lt}),v.qZA()(),v._UZ(16,"br"),v.TgZ(17,"button",7),v.NdJ("click",function(){return v.CHM(Xe),v.oxw().updateProject()}),v._uU(18,"Save"),v.qZA(),v._uU(19,"\xa0 "),v.TgZ(20,"button",8),v.NdJ("click",function(){return v.CHM(Xe),v.oxw().editing=!1}),v._uU(21,"Cancel"),v.qZA()()(),v.TgZ(22,"div",2)(23,"mat-card")(24,"mat-card-content")(25,"h2"),v._uU(26),v.qZA(),v.TgZ(27,"p"),v._uU(28),v.ALo(29,"date"),v.qZA()(),v.TgZ(30,"h3")(31,"strong"),v._uU(32,"Screenshot"),v.qZA()(),v._UZ(33,"img",9)(34,"br")(35,"br"),v.TgZ(36,"h3")(37,"strong"),v._uU(38,"Description"),v.qZA()(),v.TgZ(39,"mat-card-content")(40,"p"),v._uU(41),v.qZA()(),v._UZ(42,"br"),v.YNc(43,Ie,5,2,"ng-container",1),v._UZ(44,"br")(45,"br"),v.YNc(46,ot,6,2,"ng-container",1),v._UZ(47,"br"),v.YNc(48,Me,7,0,"mat-card-actions",10),v.qZA()(),v.BQk()}if(2&Rt){const Xe=v.oxw();v.xp6(1),v.Q6J("hidden",!Xe.editing),v.xp6(5),v.Q6J("ngModel",Xe.project.title),v.xp6(3),v.Q6J("ngModel",Xe.project.demo),v.xp6(3),v.Q6J("ngModel",Xe.project.website),v.xp6(3),v.Q6J("ngModel",Xe.project.content),v.xp6(2),v.Q6J("disabled",!Xe.project.title||!Xe.project.content),v.xp6(5),v.Q6J("hidden",Xe.editing),v.xp6(4),v.Oqu(Xe.project.title),v.xp6(2),v.AsE("posted by ",Xe.project.author," \u2022 ",v.xi3(29,16,null==Xe.project.published?null:Xe.project.published.toDate(),"fullDate"),""),v.xp6(5),v.s9C("src",Xe.project.image,v.LSH),v.s9C("alt",Xe.project.title),v.xp6(8),v.Oqu(Xe.project.content),v.xp6(2),v.Q6J("ngIf",""!=Xe.project.demo),v.xp6(3),v.Q6J("ngIf",""!=Xe.project.website),v.xp6(2),v.Q6J("ngIf",Xe.auth.currentUserId===Xe.project.authorId)}}let ct=(()=>{class Rt{constructor(Xe,Dt,Lt,rn,En){this.activateRoute=Xe,this.router=Dt,this.auth=Lt,this.projectService=rn,this.domSanitizer=En,this._path="../../",this.editing=!1}ngOnInit(){this.getProject()}getProject(){const Xe=this.activateRoute.snapshot.paramMap.get("id");return this.projectService.getProjectData(Xe??"").subscribe(Dt=>this.project=Dt)}updateProject(){const Xe={title:this.project.title,demo:this.project.demo,website:this.project.website,content:this.project.content},Dt=this.activateRoute.snapshot.paramMap.get("id");Dt&&(this.projectService.update(Dt,Xe),this.editing=!1)}delete(){const Xe=this.activateRoute.snapshot.paramMap.get("id");Xe&&(this.projectService.delete(Xe),this.router.navigate(["/ex003"]))}getSanitizedDemoUrl(Xe){return this.domSanitizer.bypassSecurityTrustResourceUrl(Xe)}}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)(v.Y36($.gz),v.Y36($.F0),v.Y36(Ae.e),v.Y36(Oe),v.Y36(ge.H7))},Rt.\u0275cmp=v.Xpm({type:Rt,selectors:[["app-view-project"]],decls:2,vars:2,consts:[[3,"path"],[4,"ngIf"],[3,"hidden"],["matInput","","placeholder","Project Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Demo",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Website",3,"ngModel","ngModelChange"],["matInput","","placeholder","Project Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-button","",3,"click"],[3,"src","alt"],["align","end",4,"ngIf"],["width","100%","height","400","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src","title"],["target","_blank",3,"href"],["align","end"],["mat-icon-button","",3,"click"]],template:function(Xe,Dt){1&Xe&&(v._UZ(0,"app-navbar",0),v.YNc(1,Je,49,19,"ng-container",1)),2&Xe&&(v.Q6J("path",Dt._path),v.xp6(1),v.Q6J("ngIf",Dt.project))},directives:[Te,c.O5,lt.a8,nt.KE,De.Nt,mt.Fj,mt.JJ,mt.On,Se.lW,lt.dn,lt.hq,ke.Hw],pipes:[c.uU],styles:["mat-card[_ngcontent-%COMP%]{margin:10px auto;max-width:700px}img[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),Rt})();function $e(Rt,zt){if(1&Rt&&(v.ynx(0),v._UZ(1,"img",7),v.BQk()),2&Rt){const Xe=v.oxw().$implicit;v.xp6(1),v.s9C("src",Xe.image,v.LSH),v.s9C("alt",Xe.title)}}function Le(Rt,zt){if(1&Rt&&(v.ynx(0),v._UZ(1,"iframe",8),v.BQk()),2&Rt){const Xe=v.oxw().$implicit,Dt=v.oxw();v.xp6(1),v.s9C("title",Xe.title),v.Q6J("src",Dt.getSanitizedDemoUrl(Xe.demo),v.uOi)}}function dt(Rt,zt){if(1&Rt){const Xe=v.EpF();v.TgZ(0,"button",9),v.NdJ("click",function(){v.CHM(Xe);const Lt=v.oxw().$implicit;return v.oxw().delete(Lt.id)}),v.TgZ(1,"mat-icon"),v._uU(2,"delete"),v.qZA()()}}function tt(Rt,zt){if(1&Rt&&(v.TgZ(0,"mat-card")(1,"mat-card-content",2)(2,"h2"),v._uU(3),v.qZA(),v.TgZ(4,"p")(5,"small"),v._uU(6),v.ALo(7,"date"),v.qZA()(),v.YNc(8,$e,2,2,"ng-container",3),v.YNc(9,Le,2,2,"ng-container",3),v.qZA(),v.TgZ(10,"div",4),v.YNc(11,dt,3,0,"button",5),v.TgZ(12,"button",6)(13,"mat-icon"),v._uU(14,"login"),v.qZA()()()()),2&Rt){const Xe=zt.$implicit,Dt=v.oxw();v.xp6(1),v.s9C("routerLink",Xe.id),v.xp6(2),v.Oqu(Xe.title),v.xp6(3),v.AsE("Posted by ",Xe.author," \u2022 on ",v.xi3(7,8,null==Xe.published?null:Xe.published.toDate(),"fullDate"),""),v.xp6(2),v.Q6J("ngIf",""==Xe.demo),v.xp6(1),v.Q6J("ngIf",""!=Xe.demo),v.xp6(2),v.Q6J("ngIf",Dt.auth.currentUserId===Xe.authorId),v.xp6(1),v.s9C("routerLink",Xe.id)}}const $t=[{path:"list",component:(()=>{class Rt{constructor(Xe,Dt,Lt){this.projectService=Xe,this.auth=Dt,this.domSanitizer=Lt,this._path="../"}ngOnInit(){this.projects=this.projectService.getProjects(),console.log(this.projects)}delete(Xe){this.projectService.delete(Xe)}getSanitizedDemoUrl(Xe){return this.domSanitizer.bypassSecurityTrustResourceUrl(Xe)}}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)(v.Y36(Oe),v.Y36(Ae.e),v.Y36(ge.H7))},Rt.\u0275cmp=v.Xpm({type:Rt,selectors:[["app-list-project"]],decls:4,vars:4,consts:[[3,"path"],[4,"ngFor","ngForOf"],["id","card-content",3,"routerLink"],[4,"ngIf"],["align","end",1,"example-button-container"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"routerLink"],[3,"src","alt"],["width","100%","height","175","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src","title"],["mat-icon-button","",3,"click"]],template:function(Xe,Dt){1&Xe&&(v._UZ(0,"app-navbar",0),v.TgZ(1,"section"),v.YNc(2,tt,15,11,"mat-card",1),v.ALo(3,"async"),v.qZA()),2&Xe&&(v.Q6J("path",Dt._path),v.xp6(2),v.Q6J("ngForOf",v.lcZ(3,2,Dt.projects)))},directives:[Te,c.sg,lt.a8,lt.dn,$.rH,c.O5,Se.lW,ke.Hw],pipes:[c.Ov,c.uU],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-auto-rows:auto;grid-gap:10px;margin:0 auto;max-width:95%}mat-card[_ngcontent-%COMP%]{margin:10px 0;max-width:700px}img[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]:focus{outline:none;border:0}"]}),Rt})()},{path:"list/:id",component:ct},{path:"add",component:ve}];let Tt=(()=>{class Rt{}return Rt.\u0275fac=function(Xe){return new(Xe||Rt)},Rt.\u0275mod=v.oAB({type:Rt}),Rt.\u0275inj=v.cJS({providers:[Oe],imports:[[c.ez,p.m,$.Bz.forChild($t)]]}),Rt})()},9153:(Wt,qe,D)=>{D.d(qe,{m:()=>ft});var c=D(6895),p=D(4006),$=D(2048),pe=D(9101),v=D(3546),Ae=D(3336),Ne=D(4144),be=D(3683),Oe=D(7485),fe=D(3162),he=D(4650);let Se=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=he.oAB({type:Ue}),Ue.\u0275inj=he.cJS({imports:[[c.ez,pe.ot,v.QW,Ae.Ps,Ne.c,be.g0,Oe.To,fe.Cv],pe.ot,v.QW,Ae.Ps,Ne.c,be.g0,Oe.To,fe.Cv]}),Ue})(),ft=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=he.oAB({type:Ue}),Ue.\u0275inj=he.cJS({imports:[[c.ez,p.u5,$.Bz,Se],c.ez,p.u5,$.Bz,Se]}),Ue})()},3518:(Wt,qe,D)=>{var c=D(1481),p=D(4650),$=D(1516),pe=D(2048);const v=[{path:"ex001",loadChildren:()=>Promise.resolve().then(D.bind(D,6700)).then($e=>$e.Ex001ModularRoutingAppRoutingModule)},{path:"ex002",loadChildren:()=>Promise.resolve().then(D.bind(D,1393)).then($e=>$e.Ex002BlogAppRoutingModule)},{path:"ex003",loadChildren:()=>Promise.resolve().then(D.bind(D,7547)).then($e=>$e.Ex003ProjectAppRoutingModule)},{path:"",redirectTo:"ex003",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}];let Ae=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({imports:[[pe.Bz.forRoot(v)],pe.Bz]}),$e})();var Ne=D(6895),be=D(6700);let Oe=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({imports:[[Ne.ez,Ae,be.Ex001ModularRoutingAppRoutingModule]]}),$e})();var fe=D(1393),he=D(7547);let Se=(()=>{class $e{constructor(){this.title="Angular Project Collection"}}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275cmp=p.Xpm({type:$e,selectors:[["app-root"]],decls:1,vars:0,template:function(dt,tt){1&dt&&p._UZ(0,"router-outlet")},directives:[pe.lC],styles:[""]}),$e})();var ft=D(4757);let Ue=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({providers:[ft.e],imports:[[Ne.ez]]}),$e})();var Te=D(779),Ze=D(9030),xe=D(2011),nt=D(7407),De=D(4585),mt=D(1205);const Re_firebaseConfig={apiKey:"AIzaSyAzXiyry0J007ydfqbr4xWJrUW71viZ2zQ",authDomain:"angular-project-collection.firebaseapp.com",projectId:"angular-project-collection",storageBucket:"angular-project-collection.appspot.com",messagingSenderId:"682613237691",appId:"1:682613237691:web:cccaf52d7011fdb2d6469e"};let ve=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({imports:[[Ne.ez,Ae,fe.Ex002BlogAppRoutingModule,Ue,Te.m,Ze.PostsModule,xe.hO.initializeApp(Re_firebaseConfig),nt.yb,De.TE,mt.ww],Te.m,Ze.PostsModule]}),$e})();var ge=D(6716);let lt=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({providers:[ge.e],imports:[[Ne.ez]]}),$e})();var ke=D(9153),Ie=D(8215);const ot_firebaseConfig={apiKey:"AIzaSyAzXiyry0J007ydfqbr4xWJrUW71viZ2zQ",authDomain:"angular-project-collection.firebaseapp.com",projectId:"angular-project-collection",storageBucket:"angular-project-collection.appspot.com",messagingSenderId:"682613237691",appId:"1:682613237691:web:cccaf52d7011fdb2d6469e"};let Me=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e}),$e.\u0275inj=p.cJS({imports:[[Ne.ez,Ae,he.Ex003ProjectAppRoutingModule,lt,ke.m,Ie.ProjectsModule,xe.hO.initializeApp(ot_firebaseConfig),nt.yb,De.TE,mt.ww],ke.m,Ie.ProjectsModule]}),$e})(),Je=(()=>{class $e{}return $e.\u0275fac=function(dt){return new(dt||$e)},$e.\u0275mod=p.oAB({type:$e,bootstrap:[Se]}),$e.\u0275inj=p.cJS({providers:[],imports:[[c.b2,$.PW,Ae,Oe,fe.Ex002BlogAppRoutingModule,he.Ex003ProjectAppRoutingModule,ve,Me]]}),$e})();(0,p.G48)(),c.q6().bootstrapModule(Je).catch($e=>console.error($e))},5867:(Wt,qe,D)=>{D.d(qe,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=D(9681);(0,c.registerVersion)("firebase","9.9.4","app")},8937:(Wt,qe,D)=>{D.d(qe,{hJ:()=>c.Q});var c=D(8554);D(2090),D(9681),D(1877),D(4859)},127:(Wt,qe,D)=>{D.d(qe,{Z:()=>c.Z});var c=D(3942);c.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(Wt,qe,D)=>{D.r(qe);var c=D(5861),p=D(3942),$=D(8554),pe=D(2090),Ne=(D(9681),D(1877),D(4859));function be(){return window}function he(){return(he=(0,c.Z)(function*(st,Ke,ne){var se;const{BuildInfo:ce}=be();(0,$.aq)(Ke.sessionId,"AuthEvent did not contain a session ID");const Ve=yield nt(Ke.sessionId),yt={};return(0,$.ar)()?yt.ibi=ce.packageName:(0,$.as)()?yt.apn=ce.packageName:(0,$.at)(st,"operation-not-supported-in-this-environment"),ce.displayName&&(yt.appDisplayName=ce.displayName),yt.sessionId=Ve,(0,$.au)(st,ne,Ke.type,void 0,null!==(se=Ke.eventId)&&void 0!==se?se:void 0,yt)})).apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(st){const{BuildInfo:Ke}=be(),ne={};(0,$.ar)()?ne.iosBundleId=Ke.packageName:(0,$.as)()?ne.androidPackageName=Ke.packageName:(0,$.at)(st,"operation-not-supported-in-this-environment"),yield(0,$.av)(st,ne)})).apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(st,Ke,ne){const{cordova:se}=be();let ce=()=>{};try{yield new Promise((Ve,yt)=>{let at=null;function Ce(){var et;Ve();const bt=null===(et=se.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof bt&&bt(),"function"==typeof(null==ne?void 0:ne.close)&&ne.close()}function ue(){at||(at=window.setTimeout(()=>{yt((0,$.aw)(st,"redirect-cancelled-by-user"))},2e3))}function _e(){"visible"===(null==document?void 0:document.visibilityState)&&ue()}Ke.addPassiveListener(Ce),document.addEventListener("resume",ue,!1),(0,$.as)()&&document.addEventListener("visibilitychange",_e,!1),ce=()=>{Ke.removePassiveListener(Ce),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",_e,!1),at&&window.clearTimeout(at)}})}finally{ce()}})).apply(this,arguments)}function nt(st){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(st){const Ke=mt(st),ne=yield crypto.subtle.digest("SHA-256",Ke);return Array.from(new Uint8Array(ne)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mt(st){if((0,$.aq)(/[0-9a-zA-Z]+/.test(st),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(st);const Ke=new ArrayBuffer(st.length),ne=new Uint8Array(Ke);for(let se=0;se<st.length;se++)ne[se]=st.charCodeAt(se);return ne}class ve extends $.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ke=>{this.resolveInialized=Ke})}addPassiveListener(Ke){this.passiveListeners.add(Ke)}removePassiveListener(Ke){this.passiveListeners.delete(Ke)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ke){return this.resolveInialized(),this.passiveListeners.forEach(ne=>ne(Ke)),super.onEvent(Ke)}initialized(){var Ke=this;return(0,c.Z)(function*(){yield Ke.initPromise})()}}function ke(st){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(st){const Ke=yield Je()._get(ct(st));return Ke&&(yield Je()._remove(ct(st))),Ke})).apply(this,arguments)}function Me(){const st=[],Ke="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ne=0;ne<20;ne++){const se=Math.floor(Math.random()*Ke.length);st.push(Ke.charAt(se))}return st.join("")}function Je(){return(0,$.ay)($.b)}function ct(st){return(0,$.az)("authEvent",st.config.apiKey,st.name)}function dt(st){if(!(null==st?void 0:st.includes("?")))return{};const[Ke,...ne]=st.split("?");return(0,pe.zd)(ne.join("?"))}function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.aw)("no-auth-event")}}function Lt(){var st;return(null===(st=null==self?void 0:self.location)||void 0===st?void 0:st.protocol)||null}function En(st=(0,pe.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!st.toLowerCase().match(/iphone|ipad|ipod|android/))}function kn(){try{const st=self.localStorage,Ke=$.aI();if(st)return st.setItem(Ke,"1"),st.removeItem(Ke),!function Wn(st=(0,pe.z$)()){return function hr(){return(0,pe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Vn(st=(0,pe.z$)()){return/Edge\/\d+/.test(st)}(st)}()||(0,pe.hl)()}catch{return Gn()&&(0,pe.hl)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dn(){return(function rn(){return"http:"===Lt()||"https:"===Lt()}()||(0,pe.ru)()||En())&&!function rr(){return(0,pe.b$)()||(0,pe.UG)()}()&&kn()&&!Gn()}function or(){return En()&&typeof document<"u"}function Bn(){return(Bn=(0,c.Z)(function*(){return!!or()&&new Promise(st=>{const Ke=setTimeout(()=>{st(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ke),st(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},ar=$.ax,_r="persistence";function Er(st){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(st){yield st._initializationPromise;const Ke=en(),ne=$.az(_r,st.config.apiKey,st.name);Ke&&Ke.setItem(ne,st._getPersistence())})).apply(this,arguments)}function en(){var st;try{return(null===(st=function On(){return typeof window<"u"?window:null}())||void 0===st?void 0:st.sessionStorage)||null}catch{return null}}const We=$.ax;class ht{constructor(){this.browserResolver=$.ay($.k),this.cordovaResolver=$.ay(class Ct{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(Ke){var ne=this;return(0,c.Z)(function*(){const se=Ke._key();let ce=ne.eventManagers.get(se);return ce||(ce=new ve(Ke),ne.eventManagers.set(se,ce),ne.attachCallbackListeners(Ke,ce)),ce})()}_openPopup(Ke){(0,$.at)(Ke,"operation-not-supported-in-this-environment")}_openRedirect(Ke,ne,se,ce){var Ve=this;return(0,c.Z)(function*(){!function xe(st){var Ke,ne,se,ce,Ve,yt,at,Ce,ue,_e;const et=be();(0,$.ax)("function"==typeof(null===(Ke=null==et?void 0:et.universalLinks)||void 0===Ke?void 0:Ke.subscribe),st,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.ax)(typeof(null===(ne=null==et?void 0:et.BuildInfo)||void 0===ne?void 0:ne.packageName)<"u",st,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.ax)("function"==typeof(null===(Ve=null===(ce=null===(se=null==et?void 0:et.cordova)||void 0===se?void 0:se.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ve?void 0:Ve.openUrl),st,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(Ce=null===(at=null===(yt=null==et?void 0:et.cordova)||void 0===yt?void 0:yt.plugins)||void 0===at?void 0:at.browsertab)||void 0===Ce?void 0:Ce.isAvailable),st,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(_e=null===(ue=null==et?void 0:et.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===_e?void 0:_e.open),st,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ke);const yt=yield Ve._initialize(Ke);yield yt.initialized(),yt.resetRedirect(),(0,$.aD)(),yield Ve._originValidation(Ke);const at=function ge(st,Ke,ne=null){return{type:Ke,eventId:ne,urlResponse:null,sessionId:Me(),postBody:null,tenantId:st.tenantId,error:(0,$.aw)(st,"no-auth-event")}}(Ke,se,ce);yield function lt(st,Ke){return Je()._set(ct(st),Ke)}(Ke,at);const Ce=yield function fe(st,Ke,ne){return he.apply(this,arguments)}(Ke,at,ne),ue=yield function Ue(st){const{cordova:Ke}=be();return new Promise(ne=>{Ke.plugins.browsertab.isAvailable(se=>{let ce=null;se?Ke.plugins.browsertab.openUrl(st):ce=Ke.InAppBrowser.open(st,(0,$.ap)()?"_blank":"_system","location=yes"),ne(ce)})})}(Ce);return function Te(st,Ke,ne){return Ze.apply(this,arguments)}(Ke,yt,ue)})()}_isIframeWebStorageSupported(Ke,ne){throw new Error("Method not implemented.")}_originValidation(Ke){const ne=Ke._key();return this.originValidationPromises[ne]||(this.originValidationPromises[ne]=function Se(st){return ft.apply(this,arguments)}(Ke)),this.originValidationPromises[ne]}attachCallbackListeners(Ke,ne){const{universalLinks:se,handleOpenURL:ce,BuildInfo:Ve}=be(),yt=setTimeout((0,c.Z)(function*(){yield ke(Ke),ne.onEvent(Tt())}),500),at=function(){var _e=(0,c.Z)(function*(et){clearTimeout(yt);const bt=yield ke(Ke);let Xt=null;bt&&(null==et?void 0:et.url)&&(Xt=function ot(st,Ke){var ne,se;const ce=function Le(st){const Ke=dt(st),ne=Ke.link?decodeURIComponent(Ke.link):void 0,se=dt(ne).link,ce=Ke.deep_link_id?decodeURIComponent(Ke.deep_link_id):void 0;return dt(ce).link||ce||se||ne||st}(Ke);if(ce.includes("/__/auth/callback")){const Ve=dt(ce),yt=Ve.firebaseError?function $e(st){try{return JSON.parse(st)}catch{return null}}(decodeURIComponent(Ve.firebaseError)):null,at=null===(se=null===(ne=null==yt?void 0:yt.code)||void 0===ne?void 0:ne.split("auth/"))||void 0===se?void 0:se[1],Ce=at?(0,$.aw)(at):null;return Ce?{type:st.type,eventId:st.eventId,tenantId:st.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:st.type,eventId:st.eventId,tenantId:st.tenantId,sessionId:st.sessionId,urlResponse:ce,postBody:null}}return null}(bt,et.url)),ne.onEvent(Xt||Tt())});return function(bt){return _e.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,at);const Ce=ce,ue=`${Ve.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var _e=(0,c.Z)(function*(et){if(et.toLowerCase().startsWith(ue)&&at({url:et}),"function"==typeof Ce)try{Ce(et)}catch(bt){console.error(bt)}});return function(et){return _e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(Ke){var ne=this;return(0,c.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._initialize(Ke)})()}_openPopup(Ke,ne,se,ce){var Ve=this;return(0,c.Z)(function*(){return yield Ve.selectUnderlyingResolver(),Ve.assertedUnderlyingResolver._openPopup(Ke,ne,se,ce)})()}_openRedirect(Ke,ne,se,ce){var Ve=this;return(0,c.Z)(function*(){return yield Ve.selectUnderlyingResolver(),Ve.assertedUnderlyingResolver._openRedirect(Ke,ne,se,ce)})()}_isIframeWebStorageSupported(Ke,ne){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ke,ne)}_originValidation(Ke){return this.assertedUnderlyingResolver._originValidation(Ke)}get _shouldInitProactively(){return or()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return We(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ke=this;return(0,c.Z)(function*(){if(Ke.underlyingResolver)return;const ne=yield function nn(){return Bn.apply(this,arguments)}();Ke.underlyingResolver=ne?Ke.cordovaResolver:Ke.browserResolver})()}}function cn(st){return st.unwrap()}function Sn(st){return Nn(st)}function Nn(st){const{_tokenResponse:Ke}=st instanceof pe.ZR?st.customData:st;if(!Ke)return null;if(!(st instanceof pe.ZR)&&"temporaryProof"in Ke&&"phoneNumber"in Ke)return $.P.credentialFromResult(st);const ne=Ke.providerId;if(!ne||ne===$.o.PASSWORD)return null;let se;switch(ne){case $.o.GOOGLE:se=$.Q;break;case $.o.FACEBOOK:se=$.N;break;case $.o.GITHUB:se=$.T;break;case $.o.TWITTER:se=$.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Ve,oauthTokenSecret:yt,pendingToken:at,nonce:Ce}=Ke;return Ve||yt||ce||at?at?ne.startsWith("saml.")?$.aL._create(ne,at):$.J._fromParams({providerId:ne,signInMethod:ne,pendingToken:at,idToken:ce,accessToken:Ve}):new $.U(ne).credential({idToken:ce,accessToken:Ve,rawNonce:Ce}):null}return st instanceof pe.ZR?se.credentialFromError(st):se.credentialFromResult(st)}function Ln(st,Ke){return Ke.catch(ne=>{throw ne instanceof pe.ZR&&function Tr(st,Ke){var ne,se;const ce=null===(ne=Ke.customData)||void 0===ne?void 0:ne._tokenResponse;if("auth/multi-factor-auth-required"===(null===(se=Ke)||void 0===se?void 0:se.code))Ke.resolver=new O(st,$.an(st,Ke));else if(ce){const Ve=Nn(Ke),yt=Ke;Ve&&(yt.credential=Ve,yt.tenantId=ce.tenantId||void 0,yt.email=ce.email||void 0,yt.phoneNumber=ce.phoneNumber||void 0)}}(st,ne),ne}).then(ne=>{const ce=ne.user;return{operationType:ne.operationType,credential:Sn(ne),additionalUserInfo:$.al(ne),user:I.getOrCreate(ce)}})}function Qt(st,Ke){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(st,Ke){const ne=yield Ke;return{verificationId:ne.verificationId,confirm:se=>Ln(st,ne.confirm(se))}})).apply(this,arguments)}class O{constructor(Ke,ne){this.resolver=ne,this.auth=function bn(st){return st.wrapped()}(Ke)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ke){return Ln(cn(this.auth),this.resolver.resolveSignIn(Ke))}}class I{constructor(Ke){this._delegate=Ke,this.multiFactor=$.ao(Ke)}static getOrCreate(Ke){return I.USER_MAP.has(Ke)||I.USER_MAP.set(Ke,new I(Ke)),I.USER_MAP.get(Ke)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ke){return this._delegate.getIdTokenResult(Ke)}getIdToken(Ke){return this._delegate.getIdToken(Ke)}linkAndRetrieveDataWithCredential(Ke){return this.linkWithCredential(Ke)}linkWithCredential(Ke){var ne=this;return(0,c.Z)(function*(){return Ln(ne.auth,$.Z(ne._delegate,Ke))})()}linkWithPhoneNumber(Ke,ne){var se=this;return(0,c.Z)(function*(){return Qt(se.auth,$.l(se._delegate,Ke,ne))})()}linkWithPopup(Ke){var ne=this;return(0,c.Z)(function*(){return Ln(ne.auth,$.d(ne._delegate,Ke,ht))})()}linkWithRedirect(Ke){var ne=this;return(0,c.Z)(function*(){return yield Er($.aE(ne.auth)),$.g(ne._delegate,Ke,ht)})()}reauthenticateAndRetrieveDataWithCredential(Ke){return this.reauthenticateWithCredential(Ke)}reauthenticateWithCredential(Ke){var ne=this;return(0,c.Z)(function*(){return Ln(ne.auth,$._(ne._delegate,Ke))})()}reauthenticateWithPhoneNumber(Ke,ne){return Qt(this.auth,$.r(this._delegate,Ke,ne))}reauthenticateWithPopup(Ke){return Ln(this.auth,$.e(this._delegate,Ke,ht))}reauthenticateWithRedirect(Ke){var ne=this;return(0,c.Z)(function*(){return yield Er($.aE(ne.auth)),$.h(ne._delegate,Ke,ht)})()}sendEmailVerification(Ke){return $.ab(this._delegate,Ke)}unlink(Ke){var ne=this;return(0,c.Z)(function*(){return yield $.ak(ne._delegate,Ke),ne})()}updateEmail(Ke){return $.ag(this._delegate,Ke)}updatePassword(Ke){return $.ah(this._delegate,Ke)}updatePhoneNumber(Ke){return $.u(this._delegate,Ke)}updateProfile(Ke){return $.af(this._delegate,Ke)}verifyBeforeUpdateEmail(Ke,ne){return $.ac(this._delegate,Ke,ne)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}I.USER_MAP=new WeakMap;const T=$.ax;let H=(()=>{class st{constructor(ne,se){if(this.app=ne,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=ne.options;T(ce,"invalid-api-key",{appName:ne.name}),T(ce,"invalid-api-key",{appName:ne.name});const Ve=typeof window<"u"?ht:void 0;this._delegate=se.initialize({options:{persistence:He(ce,ne.name),popupRedirectResolver:Ve}}),this._delegate._updateErrorMap($.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?I.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ne){this._delegate.languageCode=ne}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ne){this._delegate.tenantId=ne}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ne,se){$.G(this._delegate,ne,se)}applyActionCode(ne){return $.a2(this._delegate,ne)}checkActionCode(ne){return $.a3(this._delegate,ne)}confirmPasswordReset(ne,se){return $.a1(this._delegate,ne,se)}createUserWithEmailAndPassword(ne,se){var ce=this;return(0,c.Z)(function*(){return Ln(ce._delegate,$.a5(ce._delegate,ne,se))})()}fetchProvidersForEmail(ne){return this.fetchSignInMethodsForEmail(ne)}fetchSignInMethodsForEmail(ne){return $.aa(this._delegate,ne)}isSignInWithEmailLink(ne){return $.a8(this._delegate,ne)}getRedirectResult(){var ne=this;return(0,c.Z)(function*(){T(Dn(),ne._delegate,"operation-not-supported-in-this-environment");const se=yield $.j(ne._delegate,ht);return se?Ln(ne._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(ne){!function Rt(st,Ke){(0,$.aE)(st)._logFramework(Ke)}(this._delegate,ne)}onAuthStateChanged(ne,se,ce){const{next:Ve,error:yt,complete:at}=J(ne,se,ce);return this._delegate.onAuthStateChanged(Ve,yt,at)}onIdTokenChanged(ne,se,ce){const{next:Ve,error:yt,complete:at}=J(ne,se,ce);return this._delegate.onIdTokenChanged(Ve,yt,at)}sendSignInLinkToEmail(ne,se){return $.a7(this._delegate,ne,se)}sendPasswordResetEmail(ne,se){return $.a0(this._delegate,ne,se||void 0)}setPersistence(ne){var se=this;return(0,c.Z)(function*(){let ce;switch(function br(st,Ke){ar(Object.values(Mn).includes(Ke),st,"invalid-persistence-type"),(0,pe.b$)()?ar(Ke!==Mn.SESSION,st,"unsupported-persistence-type"):(0,pe.UG)()?ar(Ke===Mn.NONE,st,"unsupported-persistence-type"):Gn()?ar(Ke===Mn.NONE||Ke===Mn.LOCAL&&(0,pe.hl)(),st,"unsupported-persistence-type"):ar(Ke===Mn.NONE||kn(),st,"unsupported-persistence-type")}(se._delegate,ne),ne){case Mn.SESSION:ce=$.a;break;case Mn.LOCAL:ce=(yield $.ay($.i)._isAvailable())?$.i:$.b;break;case Mn.NONE:ce=$.L;break;default:return $.at("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(ne){return this.signInWithCredential(ne)}signInAnonymously(){return Ln(this._delegate,$.X(this._delegate))}signInWithCredential(ne){return Ln(this._delegate,$.Y(this._delegate,ne))}signInWithCustomToken(ne){return Ln(this._delegate,$.$(this._delegate,ne))}signInWithEmailAndPassword(ne,se){return Ln(this._delegate,$.a6(this._delegate,ne,se))}signInWithEmailLink(ne,se){return Ln(this._delegate,$.a9(this._delegate,ne,se))}signInWithPhoneNumber(ne,se){return Qt(this._delegate,$.s(this._delegate,ne,se))}signInWithPopup(ne){var se=this;return(0,c.Z)(function*(){return T(Dn(),se._delegate,"operation-not-supported-in-this-environment"),Ln(se._delegate,$.c(se._delegate,ne,ht))})()}signInWithRedirect(ne){var se=this;return(0,c.Z)(function*(){return T(Dn(),se._delegate,"operation-not-supported-in-this-environment"),yield Er(se._delegate),$.f(se._delegate,ne,ht)})()}updateCurrentUser(ne){return this._delegate.updateCurrentUser(ne)}verifyPasswordResetCode(ne){return $.a4(this._delegate,ne)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return st.Persistence=Mn,st})();function J(st,Ke,ne){let se=st;"function"!=typeof st&&({next:se,error:Ke,complete:ne}=st);const ce=se;return{next:yt=>ce(yt&&I.getOrCreate(yt)),error:Ke,complete:ne}}function He(st,Ke){const ne=function _t(st,Ke){const ne=en();if(!ne)return[];const se=$.az(_r,st,Ke);switch(ne.getItem(se)){case Mn.NONE:return[$.L];case Mn.LOCAL:return[$.i,$.a];case Mn.SESSION:return[$.a];default:return[]}}(st,Ke);if(typeof self<"u"&&!ne.includes($.i)&&ne.push($.i),typeof window<"u")for(const se of[$.b,$.a])ne.includes(se)||ne.push(se);return ne.includes($.L)||ne.push($.L),ne}class Et{constructor(){this.providerId="phone",this._delegate=new $.P(cn(p.Z.auth()))}static credential(Ke,ne){return $.P.credential(Ke,ne)}verifyPhoneNumber(Ke,ne){return this._delegate.verifyPhoneNumber(Ke,ne)}unwrap(){return this._delegate}}Et.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Et.PROVIDER_ID=$.P.PROVIDER_ID;const kt=$.ax;class hn{constructor(Ke,ne,se=p.Z.app()){var ce;kt(null===(ce=se.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new $.R(Ke,ne,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function an(st){st.INTERNAL.registerComponent(new Ne.wA("auth-compat",Ke=>{const ne=Ke.getProvider("app-compat").getImmediate(),se=Ke.getProvider("auth");return new H(ne,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.M,FacebookAuthProvider:$.N,GithubAuthProvider:$.T,GoogleAuthProvider:$.Q,OAuthProvider:$.U,SAMLAuthProvider:$.V,PhoneAuthProvider:Et,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:hn,TwitterAuthProvider:$.W,Auth:H,AuthCredential:$.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),st.registerVersion("@firebase/auth-compat","0.2.19")}(p.Z)},1135:(Wt,qe,D)=>{D.d(qe,{X:()=>p});var c=D(7579);class p extends c.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const v=super._subscribe(pe);return!v.closed&&pe.next(this._value),v}getValue(){const{hasError:pe,thrownError:v,_value:Ae}=this;if(pe)throw v;return this._throwIfClosed(),Ae}next(pe){super.next(this._value=pe)}}},8306:(Wt,qe,D)=>{D.d(qe,{y:()=>fe});var c=D(930),p=D(727),$=D(8822),pe=D(4671);var Ne=D(2416),be=D(576),Oe=D(2806);let fe=(()=>{class Ue{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const xe=new Ue;return xe.source=this,xe.operator=Ze,xe}subscribe(Ze,xe,nt){const De=function ft(Ue){return Ue&&Ue instanceof c.Lv||function Se(Ue){return Ue&&(0,be.m)(Ue.next)&&(0,be.m)(Ue.error)&&(0,be.m)(Ue.complete)}(Ue)&&(0,p.Nn)(Ue)}(Ze)?Ze:new c.Hp(Ze,xe,nt);return(0,Oe.x)(()=>{const{operator:mt,source:Re}=this;De.add(mt?mt.call(De,Re):Re?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(xe){Ze.error(xe)}}forEach(Ze,xe){return new(xe=he(xe))((nt,De)=>{const mt=new c.Hp({next:Re=>{try{Ze(Re)}catch(ve){De(ve),mt.unsubscribe()}},error:De,complete:nt});this.subscribe(mt)})}_subscribe(Ze){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Ze)}[$.L](){return this}pipe(...Ze){return function Ae(Ue){return 0===Ue.length?pe.y:1===Ue.length?Ue[0]:function(Ze){return Ue.reduce((xe,nt)=>nt(xe),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=he(Ze))((xe,nt)=>{let De;this.subscribe(mt=>De=mt,mt=>nt(mt),()=>xe(De))})}}return Ue.create=Te=>new Ue(Te),Ue})();function he(Ue){var Te;return null!==(Te=Ue??Ne.v.Promise)&&void 0!==Te?Te:Promise}},7579:(Wt,qe,D)=>{D.d(qe,{x:()=>Ne});var c=D(8306),p=D(727);const pe=(0,D(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var v=D(8737),Ae=D(2806);let Ne=(()=>{class Oe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Se=new be(this,this);return Se.operator=he,Se}_throwIfClosed(){if(this.closed)throw new pe}next(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(he)}})}error(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Se}=this;for(;Se.length;)Se.shift().error(he)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Se,isStopped:ft,observers:Ue}=this;return Se||ft?p.Lc:(this.currentObservers=null,Ue.push(he),new p.w0(()=>{this.currentObservers=null,(0,v.P)(Ue,he)}))}_checkFinalizedStatuses(he){const{hasError:Se,thrownError:ft,isStopped:Ue}=this;Se?he.error(ft):Ue&&he.complete()}asObservable(){const he=new c.y;return he.source=this,he}}return Oe.create=(fe,he)=>new be(fe,he),Oe})();class be extends Ne{constructor(fe,he){super(),this.destination=fe,this.source=he}next(fe){var he,Se;null===(Se=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Se||Se.call(he,fe)}error(fe){var he,Se;null===(Se=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Se||Se.call(he,fe)}complete(){var fe,he;null===(he=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===he||he.call(fe)}_subscribe(fe){var he,Se;return null!==(Se=null===(he=this.source)||void 0===he?void 0:he.subscribe(fe))&&void 0!==Se?Se:p.Lc}}},930:(Wt,qe,D)=>{D.d(qe,{Hp:()=>Ze,Lv:()=>Se});var c=D(576),p=D(727),$=D(2416),pe=D(7849),v=D(5032);const Ae=Oe("C",void 0,void 0);function Oe(Re,ve,ge){return{kind:Re,value:ve,error:ge}}var fe=D(3410),he=D(2806);class Se extends p.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,p.Nn)(ve)&&ve.add(this)):this.destination=mt}static create(ve,ge,lt){return new Ze(ve,ge,lt)}next(ve){this.isStopped?De(function be(Re){return Oe("N",Re,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?De(function Ne(Re){return Oe("E",void 0,Re)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?De(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function Ue(Re,ve){return ft.call(Re,ve)}class Te{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:ge}=this;if(ge.next)try{ge.next(ve)}catch(lt){xe(lt)}}error(ve){const{partialObserver:ge}=this;if(ge.error)try{ge.error(ve)}catch(lt){xe(lt)}else xe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(ge){xe(ge)}}}class Ze extends Se{constructor(ve,ge,lt){let ke;if(super(),(0,c.m)(ve)||!ve)ke={next:ve??void 0,error:ge??void 0,complete:lt??void 0};else{let Ie;this&&$.v.useDeprecatedNextContext?(Ie=Object.create(ve),Ie.unsubscribe=()=>this.unsubscribe(),ke={next:ve.next&&Ue(ve.next,Ie),error:ve.error&&Ue(ve.error,Ie),complete:ve.complete&&Ue(ve.complete,Ie)}):ke=ve}this.destination=new Te(ke)}}function xe(Re){$.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Re):(0,pe.h)(Re)}function De(Re,ve){const{onStoppedNotification:ge}=$.v;ge&&fe.z.setTimeout(()=>ge(Re,ve))}const mt={closed:!0,next:v.Z,error:function nt(Re){throw Re},complete:v.Z}},727:(Wt,qe,D)=>{D.d(qe,{Lc:()=>Ae,w0:()=>v,Nn:()=>Ne});var c=D(576);const $=(0,D(3888).d)(Oe=>function(he){Oe(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Se,ft)=>`${ft+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var pe=D(8737);class v{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const Ue of he)Ue.remove(this);else he.remove(this);const{initialTeardown:Se}=this;if((0,c.m)(Se))try{Se()}catch(Ue){fe=Ue instanceof $?Ue.errors:[Ue]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const Ue of ft)try{be(Ue)}catch(Te){fe=fe??[],Te instanceof $?fe=[...fe,...Te.errors]:fe.push(Te)}}if(fe)throw new $(fe)}}add(fe){var he;if(fe&&fe!==this)if(this.closed)be(fe);else{if(fe instanceof v){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(fe)}}_hasParent(fe){const{_parentage:he}=this;return he===fe||Array.isArray(he)&&he.includes(fe)}_addParent(fe){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(fe),he):he?[he,fe]:fe}_removeParent(fe){const{_parentage:he}=this;he===fe?this._parentage=null:Array.isArray(he)&&(0,pe.P)(he,fe)}remove(fe){const{_finalizers:he}=this;he&&(0,pe.P)(he,fe),fe instanceof v&&fe._removeParent(this)}}v.EMPTY=(()=>{const Oe=new v;return Oe.closed=!0,Oe})();const Ae=v.EMPTY;function Ne(Oe){return Oe instanceof v||Oe&&"closed"in Oe&&(0,c.m)(Oe.remove)&&(0,c.m)(Oe.add)&&(0,c.m)(Oe.unsubscribe)}function be(Oe){(0,c.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(Wt,qe,D)=>{D.d(qe,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Wt,qe,D)=>{D.d(qe,{z:()=>v});var c=D(8189),$=D(7669),pe=D(8996);function v(...Ae){return function p(){return(0,c.J)(1)}()((0,pe.D)(Ae,(0,$.yG)(Ae)))}},515:(Wt,qe,D)=>{D.d(qe,{E:()=>p});const p=new(D(8306).y)(v=>v.complete())},4128:(Wt,qe,D)=>{D.d(qe,{D:()=>be});var c=D(8306),p=D(4742),$=D(8421),pe=D(7669),v=D(5403),Ae=D(3268),Ne=D(1810);function be(...Oe){const fe=(0,pe.jO)(Oe),{args:he,keys:Se}=(0,p.D)(Oe),ft=new c.y(Ue=>{const{length:Te}=he;if(!Te)return void Ue.complete();const Ze=new Array(Te);let xe=Te,nt=Te;for(let De=0;De<Te;De++){let mt=!1;(0,$.Xf)(he[De]).subscribe((0,v.x)(Ue,Re=>{mt||(mt=!0,nt--),Ze[De]=Re},()=>xe--,void 0,()=>{(!xe||!mt)&&(nt||Ue.next(Se?(0,Ne.n)(Se,Ze):Ze),Ue.complete())}))}});return fe?ft.pipe((0,Ae.Z)(fe)):ft}},8996:(Wt,qe,D)=>{D.d(qe,{D:()=>ve});var c=D(8421),p=D(5363),$=D(9468),Ae=D(8306),be=D(2202),Oe=D(576),fe=D(9672);function Se(ge,lt){if(!ge)throw new Error("Iterable cannot be null");return new Ae.y(ke=>{(0,fe.f)(ke,lt,()=>{const Ie=ge[Symbol.asyncIterator]();(0,fe.f)(ke,lt,()=>{Ie.next().then(ot=>{ot.done?ke.complete():ke.next(ot.value)})},0,!0)})})}var ft=D(3670),Ue=D(8239),Te=D(1144),Ze=D(6495),xe=D(2206),nt=D(4532),De=D(3260);function ve(ge,lt){return lt?function Re(ge,lt){if(null!=ge){if((0,ft.c)(ge))return function pe(ge,lt){return(0,c.Xf)(ge).pipe((0,$.R)(lt),(0,p.Q)(lt))}(ge,lt);if((0,Te.z)(ge))return function Ne(ge,lt){return new Ae.y(ke=>{let Ie=0;return lt.schedule(function(){Ie===ge.length?ke.complete():(ke.next(ge[Ie++]),ke.closed||this.schedule())})})}(ge,lt);if((0,Ue.t)(ge))return function v(ge,lt){return(0,c.Xf)(ge).pipe((0,$.R)(lt),(0,p.Q)(lt))}(ge,lt);if((0,xe.D)(ge))return Se(ge,lt);if((0,Ze.T)(ge))return function he(ge,lt){return new Ae.y(ke=>{let Ie;return(0,fe.f)(ke,lt,()=>{Ie=ge[be.h](),(0,fe.f)(ke,lt,()=>{let ot,Me;try{({value:ot,done:Me}=Ie.next())}catch(Je){return void ke.error(Je)}Me?ke.complete():ke.next(ot)},0,!0)}),()=>(0,Oe.m)(null==Ie?void 0:Ie.return)&&Ie.return()})}(ge,lt);if((0,De.L)(ge))return function mt(ge,lt){return Se((0,De.Q)(ge),lt)}(ge,lt)}throw(0,nt.z)(ge)}(ge,lt):(0,c.Xf)(ge)}},4968:(Wt,qe,D)=>{D.d(qe,{R:()=>fe});var c=D(8421),p=D(8306),$=D(5577),pe=D(1144),v=D(576),Ae=D(3268);const Ne=["addListener","removeListener"],be=["addEventListener","removeEventListener"],Oe=["on","off"];function fe(Te,Ze,xe,nt){if((0,v.m)(xe)&&(nt=xe,xe=void 0),nt)return fe(Te,Ze,xe).pipe((0,Ae.Z)(nt));const[De,mt]=function Ue(Te){return(0,v.m)(Te.addEventListener)&&(0,v.m)(Te.removeEventListener)}(Te)?be.map(Re=>ve=>Te[Re](Ze,ve,xe)):function Se(Te){return(0,v.m)(Te.addListener)&&(0,v.m)(Te.removeListener)}(Te)?Ne.map(he(Te,Ze)):function ft(Te){return(0,v.m)(Te.on)&&(0,v.m)(Te.off)}(Te)?Oe.map(he(Te,Ze)):[];if(!De&&(0,pe.z)(Te))return(0,$.z)(Re=>fe(Re,Ze,xe))((0,c.Xf)(Te));if(!De)throw new TypeError("Invalid event target");return new p.y(Re=>{const ve=(...ge)=>Re.next(1<ge.length?ge:ge[0]);return De(ve),()=>mt(ve)})}function he(Te,Ze){return xe=>nt=>Te[xe](Ze,nt)}},8421:(Wt,qe,D)=>{D.d(qe,{Xf:()=>ft});var c=D(655),p=D(1144),$=D(8239),pe=D(8306),v=D(3670),Ae=D(2206),Ne=D(4532),be=D(6495),Oe=D(3260),fe=D(576),he=D(7849),Se=D(8822);function ft(Re){if(Re instanceof pe.y)return Re;if(null!=Re){if((0,v.c)(Re))return function Ue(Re){return new pe.y(ve=>{const ge=Re[Se.L]();if((0,fe.m)(ge.subscribe))return ge.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,p.z)(Re))return function Te(Re){return new pe.y(ve=>{for(let ge=0;ge<Re.length&&!ve.closed;ge++)ve.next(Re[ge]);ve.complete()})}(Re);if((0,$.t)(Re))return function Ze(Re){return new pe.y(ve=>{Re.then(ge=>{ve.closed||(ve.next(ge),ve.complete())},ge=>ve.error(ge)).then(null,he.h)})}(Re);if((0,Ae.D)(Re))return nt(Re);if((0,be.T)(Re))return function xe(Re){return new pe.y(ve=>{for(const ge of Re)if(ve.next(ge),ve.closed)return;ve.complete()})}(Re);if((0,Oe.L)(Re))return function De(Re){return nt((0,Oe.Q)(Re))}(Re)}throw(0,Ne.z)(Re)}function nt(Re){return new pe.y(ve=>{(function mt(Re,ve){var ge,lt,ke,Ie;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ge=(0,c.KL)(Re);!(lt=yield ge.next()).done;)if(ve.next(lt.value),ve.closed)return}catch(ot){ke={error:ot}}finally{try{lt&&!lt.done&&(Ie=ge.return)&&(yield Ie.call(ge))}finally{if(ke)throw ke.error}}ve.complete()})})(Re,ve).catch(ge=>ve.error(ge))})}},6451:(Wt,qe,D)=>{D.d(qe,{T:()=>Ae});var c=D(8189),p=D(8421),$=D(515),pe=D(7669),v=D(8996);function Ae(...Ne){const be=(0,pe.yG)(Ne),Oe=(0,pe._6)(Ne,1/0),fe=Ne;return fe.length?1===fe.length?(0,p.Xf)(fe[0]):(0,c.J)(Oe)((0,v.D)(fe,be)):$.E}},9646:(Wt,qe,D)=>{D.d(qe,{of:()=>$});var c=D(7669),p=D(8996);function $(...pe){const v=(0,c.yG)(pe);return(0,p.D)(pe,v)}},2843:(Wt,qe,D)=>{D.d(qe,{_:()=>$});var c=D(8306),p=D(576);function $(pe,v){const Ae=(0,p.m)(pe)?pe:()=>pe,Ne=be=>be.error(Ae());return new c.y(v?be=>v.schedule(Ne,0,be):Ne)}},5403:(Wt,qe,D)=>{D.d(qe,{x:()=>p});var c=D(930);function p(pe,v,Ae,Ne,be){return new $(pe,v,Ae,Ne,be)}class $ extends c.Lv{constructor(v,Ae,Ne,be,Oe,fe){super(v),this.onFinalize=Oe,this.shouldUnsubscribe=fe,this._next=Ae?function(he){try{Ae(he)}catch(Se){v.error(Se)}}:super._next,this._error=be?function(he){try{be(he)}catch(Se){v.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(he){v.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var v;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(v=this.onFinalize)||void 0===v||v.call(this))}}}},262:(Wt,qe,D)=>{D.d(qe,{K:()=>pe});var c=D(8421),p=D(5403),$=D(4482);function pe(v){return(0,$.e)((Ae,Ne)=>{let fe,be=null,Oe=!1;be=Ae.subscribe((0,p.x)(Ne,void 0,void 0,he=>{fe=(0,c.Xf)(v(he,pe(v)(Ae))),be?(be.unsubscribe(),be=null,fe.subscribe(Ne)):Oe=!0})),Oe&&(be.unsubscribe(),be=null,fe.subscribe(Ne))})}},4351:(Wt,qe,D)=>{D.d(qe,{b:()=>$});var c=D(5577),p=D(576);function $(pe,v){return(0,p.m)(v)?(0,c.z)(pe,v,1):(0,c.z)(pe,1)}},8372:(Wt,qe,D)=>{D.d(qe,{b:()=>pe});var c=D(4986),p=D(4482),$=D(5403);function pe(v,Ae=c.z){return(0,p.e)((Ne,be)=>{let Oe=null,fe=null,he=null;const Se=()=>{if(Oe){Oe.unsubscribe(),Oe=null;const Ue=fe;fe=null,be.next(Ue)}};function ft(){const Ue=he+v,Te=Ae.now();if(Te<Ue)return Oe=this.schedule(void 0,Ue-Te),void be.add(Oe);Se()}Ne.subscribe((0,$.x)(be,Ue=>{fe=Ue,he=Ae.now(),Oe||(Oe=Ae.schedule(ft,v),be.add(Oe))},()=>{Se(),be.complete()},void 0,()=>{fe=Oe=null}))})}},6590:(Wt,qe,D)=>{D.d(qe,{d:()=>$});var c=D(4482),p=D(5403);function $(pe){return(0,c.e)((v,Ae)=>{let Ne=!1;v.subscribe((0,p.x)(Ae,be=>{Ne=!0,Ae.next(be)},()=>{Ne||Ae.next(pe),Ae.complete()}))})}},1884:(Wt,qe,D)=>{D.d(qe,{x:()=>pe});var c=D(4671),p=D(4482),$=D(5403);function pe(Ae,Ne=c.y){return Ae=Ae??v,(0,p.e)((be,Oe)=>{let fe,he=!0;be.subscribe((0,$.x)(Oe,Se=>{const ft=Ne(Se);(he||!Ae(fe,ft))&&(he=!1,fe=ft,Oe.next(Se))}))})}function v(Ae,Ne){return Ae===Ne}},9300:(Wt,qe,D)=>{D.d(qe,{h:()=>$});var c=D(4482),p=D(5403);function $(pe,v){return(0,c.e)((Ae,Ne)=>{let be=0;Ae.subscribe((0,p.x)(Ne,Oe=>pe.call(v,Oe,be++)&&Ne.next(Oe)))})}},8746:(Wt,qe,D)=>{D.d(qe,{x:()=>p});var c=D(4482);function p($){return(0,c.e)((pe,v)=>{try{pe.subscribe(v)}finally{v.add($)}})}},590:(Wt,qe,D)=>{D.d(qe,{P:()=>Ne});var c=D(6805),p=D(9300),$=D(5698),pe=D(6590),v=D(8068),Ae=D(4671);function Ne(be,Oe){const fe=arguments.length>=2;return he=>he.pipe(be?(0,p.h)((Se,ft)=>be(Se,ft,he)):Ae.y,(0,$.q)(1),fe?(0,pe.d)(Oe):(0,v.T)(()=>new c.K))}},4004:(Wt,qe,D)=>{D.d(qe,{U:()=>$});var c=D(4482),p=D(5403);function $(pe,v){return(0,c.e)((Ae,Ne)=>{let be=0;Ae.subscribe((0,p.x)(Ne,Oe=>{Ne.next(pe.call(v,Oe,be++))}))})}},8189:(Wt,qe,D)=>{D.d(qe,{J:()=>$});var c=D(5577),p=D(4671);function $(pe=1/0){return(0,c.z)(p.y,pe)}},5577:(Wt,qe,D)=>{D.d(qe,{z:()=>be});var c=D(4004),p=D(8421),$=D(4482),pe=D(9672),v=D(5403),Ne=D(576);function be(Oe,fe,he=1/0){return(0,Ne.m)(fe)?be((Se,ft)=>(0,c.U)((Ue,Te)=>fe(Se,Ue,ft,Te))((0,p.Xf)(Oe(Se,ft))),he):("number"==typeof fe&&(he=fe),(0,$.e)((Se,ft)=>function Ae(Oe,fe,he,Se,ft,Ue,Te,Ze){const xe=[];let nt=0,De=0,mt=!1;const Re=()=>{mt&&!xe.length&&!nt&&fe.complete()},ve=lt=>nt<Se?ge(lt):xe.push(lt),ge=lt=>{Ue&&fe.next(lt),nt++;let ke=!1;(0,p.Xf)(he(lt,De++)).subscribe((0,v.x)(fe,Ie=>{null==ft||ft(Ie),Ue?ve(Ie):fe.next(Ie)},()=>{ke=!0},void 0,()=>{if(ke)try{for(nt--;xe.length&&nt<Se;){const Ie=xe.shift();Te?(0,pe.f)(fe,Te,()=>ge(Ie)):ge(Ie)}Re()}catch(Ie){fe.error(Ie)}}))};return Oe.subscribe((0,v.x)(fe,ve,()=>{mt=!0,Re()})),()=>{null==Ze||Ze()}}(Se,ft,Oe,he)))}},5363:(Wt,qe,D)=>{D.d(qe,{Q:()=>pe});var c=D(9672),p=D(4482),$=D(5403);function pe(v,Ae=0){return(0,p.e)((Ne,be)=>{Ne.subscribe((0,$.x)(be,Oe=>(0,c.f)(be,v,()=>be.next(Oe),Ae),()=>(0,c.f)(be,v,()=>be.complete(),Ae),Oe=>(0,c.f)(be,v,()=>be.error(Oe),Ae)))})}},5026:(Wt,qe,D)=>{D.d(qe,{R:()=>pe});var c=D(4482),p=D(5403);function $(v,Ae,Ne,be,Oe){return(fe,he)=>{let Se=Ne,ft=Ae,Ue=0;fe.subscribe((0,p.x)(he,Te=>{const Ze=Ue++;ft=Se?v(ft,Te,Ze):(Se=!0,Te),be&&he.next(ft)},Oe&&(()=>{Se&&he.next(ft),he.complete()})))}}function pe(v,Ae){return(0,c.e)($(v,Ae,arguments.length>=2,!0))}},3099:(Wt,qe,D)=>{D.d(qe,{B:()=>v});var c=D(8421),p=D(7579),$=D(930),pe=D(4482);function v(Ne={}){const{connector:be=(()=>new p.x),resetOnError:Oe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:he=!0}=Ne;return Se=>{let ft,Ue,Te,Ze=0,xe=!1,nt=!1;const De=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},mt=()=>{De(),ft=Te=void 0,xe=nt=!1},Re=()=>{const ve=ft;mt(),null==ve||ve.unsubscribe()};return(0,pe.e)((ve,ge)=>{Ze++,!nt&&!xe&&De();const lt=Te=Te??be();ge.add(()=>{Ze--,0===Ze&&!nt&&!xe&&(Ue=Ae(Re,he))}),lt.subscribe(ge),!ft&&Ze>0&&(ft=new $.Hp({next:ke=>lt.next(ke),error:ke=>{nt=!0,De(),Ue=Ae(mt,Oe,ke),lt.error(ke)},complete:()=>{xe=!0,De(),Ue=Ae(mt,fe),lt.complete()}}),(0,c.Xf)(ve).subscribe(ft))})(Se)}}function Ae(Ne,be,...Oe){if(!0===be)return void Ne();if(!1===be)return;const fe=new $.Hp({next:()=>{fe.unsubscribe(),Ne()}});return be(...Oe).subscribe(fe)}},8675:(Wt,qe,D)=>{D.d(qe,{O:()=>pe});var c=D(7272),p=D(7669),$=D(4482);function pe(...v){const Ae=(0,p.yG)(v);return(0,$.e)((Ne,be)=>{(Ae?(0,c.z)(v,Ne,Ae):(0,c.z)(v,Ne)).subscribe(be)})}},9468:(Wt,qe,D)=>{D.d(qe,{R:()=>p});var c=D(4482);function p($,pe=0){return(0,c.e)((v,Ae)=>{Ae.add($.schedule(()=>v.subscribe(Ae),pe))})}},3900:(Wt,qe,D)=>{D.d(qe,{w:()=>pe});var c=D(8421),p=D(4482),$=D(5403);function pe(v,Ae){return(0,p.e)((Ne,be)=>{let Oe=null,fe=0,he=!1;const Se=()=>he&&!Oe&&be.complete();Ne.subscribe((0,$.x)(be,ft=>{null==Oe||Oe.unsubscribe();let Ue=0;const Te=fe++;(0,c.Xf)(v(ft,Te)).subscribe(Oe=(0,$.x)(be,Ze=>be.next(Ae?Ae(ft,Ze,Te,Ue++):Ze),()=>{Oe=null,Se()}))},()=>{he=!0,Se()}))})}},5698:(Wt,qe,D)=>{D.d(qe,{q:()=>pe});var c=D(515),p=D(4482),$=D(5403);function pe(v){return v<=0?()=>c.E:(0,p.e)((Ae,Ne)=>{let be=0;Ae.subscribe((0,$.x)(Ne,Oe=>{++be<=v&&(Ne.next(Oe),v<=be&&Ne.complete())}))})}},2722:(Wt,qe,D)=>{D.d(qe,{R:()=>v});var c=D(4482),p=D(5403),$=D(8421),pe=D(5032);function v(Ae){return(0,c.e)((Ne,be)=>{(0,$.Xf)(Ae).subscribe((0,p.x)(be,()=>be.complete(),pe.Z)),!be.closed&&Ne.subscribe(be)})}},8505:(Wt,qe,D)=>{D.d(qe,{b:()=>v});var c=D(576),p=D(4482),$=D(5403),pe=D(4671);function v(Ae,Ne,be){const Oe=(0,c.m)(Ae)||Ne||be?{next:Ae,error:Ne,complete:be}:Ae;return Oe?(0,p.e)((fe,he)=>{var Se;null===(Se=Oe.subscribe)||void 0===Se||Se.call(Oe);let ft=!0;fe.subscribe((0,$.x)(he,Ue=>{var Te;null===(Te=Oe.next)||void 0===Te||Te.call(Oe,Ue),he.next(Ue)},()=>{var Ue;ft=!1,null===(Ue=Oe.complete)||void 0===Ue||Ue.call(Oe),he.complete()},Ue=>{var Te;ft=!1,null===(Te=Oe.error)||void 0===Te||Te.call(Oe,Ue),he.error(Ue)},()=>{var Ue,Te;ft&&(null===(Ue=Oe.unsubscribe)||void 0===Ue||Ue.call(Oe)),null===(Te=Oe.finalize)||void 0===Te||Te.call(Oe)}))}):pe.y}},8068:(Wt,qe,D)=>{D.d(qe,{T:()=>pe});var c=D(6805),p=D(4482),$=D(5403);function pe(Ae=v){return(0,p.e)((Ne,be)=>{let Oe=!1;Ne.subscribe((0,$.x)(be,fe=>{Oe=!0,be.next(fe)},()=>Oe?be.complete():be.error(Ae())))})}function v(){return new c.K}},4408:(Wt,qe,D)=>{D.d(qe,{o:()=>v});var c=D(727);class p extends c.w0{constructor(Ne,be){super()}schedule(Ne,be=0){return this}}const $={setInterval(Ae,Ne,...be){const{delegate:Oe}=$;return(null==Oe?void 0:Oe.setInterval)?Oe.setInterval(Ae,Ne,...be):setInterval(Ae,Ne,...be)},clearInterval(Ae){const{delegate:Ne}=$;return((null==Ne?void 0:Ne.clearInterval)||clearInterval)(Ae)},delegate:void 0};var pe=D(8737);class v extends p{constructor(Ne,be){super(Ne,be),this.scheduler=Ne,this.work=be,this.pending=!1}schedule(Ne,be=0){if(this.closed)return this;this.state=Ne;const Oe=this.id,fe=this.scheduler;return null!=Oe&&(this.id=this.recycleAsyncId(fe,Oe,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(fe,this.id,be),this}requestAsyncId(Ne,be,Oe=0){return $.setInterval(Ne.flush.bind(Ne,this),Oe)}recycleAsyncId(Ne,be,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return be;$.clearInterval(be)}execute(Ne,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Ne,be);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,be){let fe,Oe=!1;try{this.work(Ne)}catch(he){Oe=!0,fe=he||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:be}=this,{actions:Oe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Oe,this),null!=Ne&&(this.id=this.recycleAsyncId(be,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(Wt,qe,D)=>{D.d(qe,{v:()=>$});var c=D(6063);class p{constructor(v,Ae=p.now){this.schedulerActionCtor=v,this.now=Ae}schedule(v,Ae=0,Ne){return new this.schedulerActionCtor(this,v).schedule(Ne,Ae)}}p.now=c.l.now;class $ extends p{constructor(v,Ae=p.now){super(v,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(v){const{actions:Ae}=this;if(this._active)return void Ae.push(v);let Ne;this._active=!0;do{if(Ne=v.execute(v.state,v.delay))break}while(v=Ae.shift());if(this._active=!1,Ne){for(;v=Ae.shift();)v.unsubscribe();throw Ne}}}},4986:(Wt,qe,D)=>{D.d(qe,{z:()=>$});var c=D(4408);const $=new(D(7565).v)(c.o)},6063:(Wt,qe,D)=>{D.d(qe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Wt,qe,D)=>{D.d(qe,{z:()=>c});const c={setTimeout(p,$,...pe){const{delegate:v}=c;return(null==v?void 0:v.setTimeout)?v.setTimeout(p,$,...pe):setTimeout(p,$,...pe)},clearTimeout(p){const{delegate:$}=c;return((null==$?void 0:$.clearTimeout)||clearTimeout)(p)},delegate:void 0}},2202:(Wt,qe,D)=>{D.d(qe,{h:()=>p});const p=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Wt,qe,D)=>{D.d(qe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Wt,qe,D)=>{D.d(qe,{K:()=>p});const p=(0,D(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Wt,qe,D)=>{D.d(qe,{_6:()=>Ae,jO:()=>pe,yG:()=>v});var c=D(576);function $(Ne){return Ne[Ne.length-1]}function pe(Ne){return(0,c.m)($(Ne))?Ne.pop():void 0}function v(Ne){return function p(Ne){return Ne&&(0,c.m)(Ne.schedule)}($(Ne))?Ne.pop():void 0}function Ae(Ne,be){return"number"==typeof $(Ne)?Ne.pop():be}},4742:(Wt,qe,D)=>{D.d(qe,{D:()=>v});const{isArray:c}=Array,{getPrototypeOf:p,prototype:$,keys:pe}=Object;function v(Ne){if(1===Ne.length){const be=Ne[0];if(c(be))return{args:be,keys:null};if(function Ae(Ne){return Ne&&"object"==typeof Ne&&p(Ne)===$}(be)){const Oe=pe(be);return{args:Oe.map(fe=>be[fe]),keys:Oe}}}return{args:Ne,keys:null}}},8737:(Wt,qe,D)=>{function c(p,$){if(p){const pe=p.indexOf($);0<=pe&&p.splice(pe,1)}}D.d(qe,{P:()=>c})},3888:(Wt,qe,D)=>{function c(p){const pe=p(v=>{Error.call(v),v.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}D.d(qe,{d:()=>c})},1810:(Wt,qe,D)=>{function c(p,$){return p.reduce((pe,v,Ae)=>(pe[v]=$[Ae],pe),{})}D.d(qe,{n:()=>c})},2806:(Wt,qe,D)=>{D.d(qe,{O:()=>pe,x:()=>$});var c=D(2416);let p=null;function $(v){if(c.v.useDeprecatedSynchronousErrorHandling){const Ae=!p;if(Ae&&(p={errorThrown:!1,error:null}),v(),Ae){const{errorThrown:Ne,error:be}=p;if(p=null,Ne)throw be}}else v()}function pe(v){c.v.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=v)}},9672:(Wt,qe,D)=>{function c(p,$,pe,v=0,Ae=!1){const Ne=$.schedule(function(){pe(),Ae?p.add(this.schedule(null,v)):this.unsubscribe()},v);if(p.add(Ne),!Ae)return Ne}D.d(qe,{f:()=>c})},4671:(Wt,qe,D)=>{function c(p){return p}D.d(qe,{y:()=>c})},1144:(Wt,qe,D)=>{D.d(qe,{z:()=>c});const c=p=>p&&"number"==typeof p.length&&"function"!=typeof p},2206:(Wt,qe,D)=>{D.d(qe,{D:()=>p});var c=D(576);function p($){return Symbol.asyncIterator&&(0,c.m)(null==$?void 0:$[Symbol.asyncIterator])}},576:(Wt,qe,D)=>{function c(p){return"function"==typeof p}D.d(qe,{m:()=>c})},3670:(Wt,qe,D)=>{D.d(qe,{c:()=>$});var c=D(8822),p=D(576);function $(pe){return(0,p.m)(pe[c.L])}},6495:(Wt,qe,D)=>{D.d(qe,{T:()=>$});var c=D(2202),p=D(576);function $(pe){return(0,p.m)(null==pe?void 0:pe[c.h])}},8239:(Wt,qe,D)=>{D.d(qe,{t:()=>p});var c=D(576);function p($){return(0,c.m)(null==$?void 0:$.then)}},3260:(Wt,qe,D)=>{D.d(qe,{L:()=>pe,Q:()=>$});var c=D(655),p=D(576);function $(v){return(0,c.FC)(this,arguments,function*(){const Ne=v.getReader();try{for(;;){const{value:be,done:Oe}=yield(0,c.qq)(Ne.read());if(Oe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(be)}}finally{Ne.releaseLock()}})}function pe(v){return(0,p.m)(null==v?void 0:v.getReader)}},4482:(Wt,qe,D)=>{D.d(qe,{A:()=>p,e:()=>$});var c=D(576);function p(pe){return(0,c.m)(null==pe?void 0:pe.lift)}function $(pe){return v=>{if(p(v))return v.lift(function(Ae){try{return pe(Ae,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Wt,qe,D)=>{D.d(qe,{Z:()=>pe});var c=D(4004);const{isArray:p}=Array;function pe(v){return(0,c.U)(Ae=>function $(v,Ae){return p(Ae)?v(...Ae):v(Ae)}(v,Ae))}},5032:(Wt,qe,D)=>{function c(){}D.d(qe,{Z:()=>c})},7849:(Wt,qe,D)=>{D.d(qe,{h:()=>$});var c=D(2416),p=D(3410);function $(pe){p.z.setTimeout(()=>{const{onUnhandledError:v}=c.v;if(!v)throw pe;v(pe)})}},4532:(Wt,qe,D)=>{function c(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(qe,{z:()=>c})},655:(Wt,qe,D)=>{function pe(Me,Je){var ct={};for(var $e in Me)Object.prototype.hasOwnProperty.call(Me,$e)&&Je.indexOf($e)<0&&(ct[$e]=Me[$e]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for($e=Object.getOwnPropertySymbols(Me);Le<$e.length;Le++)Je.indexOf($e[Le])<0&&Object.prototype.propertyIsEnumerable.call(Me,$e[Le])&&(ct[$e[Le]]=Me[$e[Le]])}return ct}function be(Me,Je,ct,$e){return new(ct||(ct=Promise))(function(dt,tt){function Ct(Rt){try{Tt($e.next(Rt))}catch(zt){tt(zt)}}function $t(Rt){try{Tt($e.throw(Rt))}catch(zt){tt(zt)}}function Tt(Rt){Rt.done?dt(Rt.value):function Le(dt){return dt instanceof ct?dt:new ct(function(tt){tt(dt)})}(Rt.value).then(Ct,$t)}Tt(($e=$e.apply(Me,Je||[])).next())})}function xe(Me){return this instanceof xe?(this.v=Me,this):new xe(Me)}function nt(Me,Je,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,$e=ct.apply(Me,Je||[]),dt=[];return Le={},tt("next"),tt("throw"),tt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function tt(Xe){$e[Xe]&&(Le[Xe]=function(Dt){return new Promise(function(Lt,rn){dt.push([Xe,Dt,Lt,rn])>1||Ct(Xe,Dt)})})}function Ct(Xe,Dt){try{!function $t(Xe){Xe.value instanceof xe?Promise.resolve(Xe.value.v).then(Tt,Rt):zt(dt[0][2],Xe)}($e[Xe](Dt))}catch(Lt){zt(dt[0][3],Lt)}}function Tt(Xe){Ct("next",Xe)}function Rt(Xe){Ct("throw",Xe)}function zt(Xe,Dt){Xe(Dt),dt.shift(),dt.length&&Ct(dt[0][0],dt[0][1])}}function mt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Je=Me[Symbol.asyncIterator];return Je?Je.call(Me):(Me=function Se(Me){var Je="function"==typeof Symbol&&Symbol.iterator,ct=Je&&Me[Je],$e=0;if(ct)return ct.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&$e>=Me.length&&(Me=void 0),{value:Me&&Me[$e++],done:!Me}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),ct={},$e("next"),$e("throw"),$e("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function $e(dt){ct[dt]=Me[dt]&&function(tt){return new Promise(function(Ct,$t){!function Le(dt,tt,Ct,$t){Promise.resolve($t).then(function(Tt){dt({value:Tt,done:Ct})},tt)}(Ct,$t,(tt=Me[dt](tt)).done,tt.value)})}}}D.d(qe,{FC:()=>nt,KL:()=>mt,_T:()=>pe,mG:()=>be,qq:()=>xe})},7340:(Wt,qe,D)=>{D.d(qe,{LC:()=>p,SB:()=>Oe,X$:()=>pe,ZE:()=>De,ZN:()=>nt,_j:()=>c,eR:()=>he,jt:()=>v,k1:()=>mt,l3:()=>$,oB:()=>be,vP:()=>Ne});class c{}class p{}const $="*";function pe(Re,ve){return{type:7,name:Re,definitions:ve,options:{}}}function v(Re,ve=null){return{type:4,styles:ve,timings:Re}}function Ne(Re,ve=null){return{type:2,steps:Re,options:ve}}function be(Re){return{type:6,styles:Re,offset:null}}function Oe(Re,ve,ge){return{type:0,name:Re,styles:ve,options:ge}}function he(Re,ve,ge=null){return{type:1,expr:Re,animation:ve,options:ge}}function xe(Re){Promise.resolve(null).then(Re)}class nt{constructor(ve=0,ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._onStartFns.push(ve)}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const ge="start"==ve?this._onStartFns:this._onDoneFns;ge.forEach(lt=>lt()),ge.length=0}}class De{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let ge=0,lt=0,ke=0;const Ie=this.players.length;0==Ie?xe(()=>this._onFinish()):this.players.forEach(ot=>{ot.onDone(()=>{++ge==Ie&&this._onFinish()}),ot.onDestroy(()=>{++lt==Ie&&this._onDestroy()}),ot.onStart(()=>{++ke==Ie&&this._onStart()})}),this.totalTime=this.players.reduce((ot,Me)=>Math.max(ot,Me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const ge=ve*this.totalTime;this.players.forEach(lt=>{const ke=lt.totalTime?Math.min(1,ge/lt.totalTime):1;lt.setPosition(ke)})}getPosition(){const ve=this.players.reduce((ge,lt)=>null===ge||lt.totalTime>ge.totalTime?lt:ge,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const ge="start"==ve?this._onStartFns:this._onDoneFns;ge.forEach(lt=>lt()),ge.length=0}}const mt="!"},8019:(Wt,qe,D)=>{D.d(qe,{Em:()=>ct,tE:()=>bn,qm:()=>Qt,X6:()=>nn,yG:()=>Bn});var c=D(6895),p=D(4650),$=D(3353),pe=D(7579),v=D(727),Ae=D(1135),Ne=D(9646),be=D(9521),Oe=D(9300),he=D(8505),Se=D(8372),ft=D(4004),Ue=D(1884),Te=D(2722),Ze=D(1281);class ct extends class Me{constructor(I){this._items=I,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe.x,this._typeaheadSubscription=v.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=T=>T.disabled,this._pressedLetters=[],this.tabOut=new pe.x,this.change=new pe.x,I instanceof p.n_E&&I.changes.subscribe(T=>{if(this._activeItem){const J=T.toArray().indexOf(this._activeItem);J>-1&&J!==this._activeItemIndex&&(this._activeItemIndex=J)}})}skipPredicate(I){return this._skipPredicateFn=I,this}withWrap(I=!0){return this._wrap=I,this}withVerticalOrientation(I=!0){return this._vertical=I,this}withHorizontalOrientation(I){return this._horizontal=I,this}withAllowedModifierKeys(I){return this._allowedModifierKeys=I,this}withTypeAhead(I=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,he.b)(T=>this._pressedLetters.push(T)),(0,Se.b)(I),(0,Oe.h)(()=>this._pressedLetters.length>0),(0,ft.U)(()=>this._pressedLetters.join(""))).subscribe(T=>{const H=this._getItemsArray();for(let J=1;J<H.length+1;J++){const He=(this._activeItemIndex+J)%H.length,Et=H[He];if(!this._skipPredicateFn(Et)&&0===Et.getLabel().toUpperCase().trim().indexOf(T)){this.setActiveItem(He);break}}this._pressedLetters=[]}),this}withHomeAndEnd(I=!0){return this._homeAndEnd=I,this}setActiveItem(I){const T=this._activeItem;this.updateActiveItem(I),this._activeItem!==T&&this.change.next(this._activeItemIndex)}onKeydown(I){const T=I.keyCode,J=["altKey","ctrlKey","metaKey","shiftKey"].every(He=>!I[He]||this._allowedModifierKeys.indexOf(He)>-1);switch(T){case be.Mf:return void this.tabOut.next();case be.JH:if(this._vertical&&J){this.setNextItemActive();break}return;case be.LH:if(this._vertical&&J){this.setPreviousItemActive();break}return;case be.SV:if(this._horizontal&&J){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case be.oh:if(this._horizontal&&J){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case be.Sd:if(this._homeAndEnd&&J){this.setFirstItemActive();break}return;case be.uR:if(this._homeAndEnd&&J){this.setLastItemActive();break}return;default:return void((J||(0,be.Vb)(I,"shiftKey"))&&(I.key&&1===I.key.length?this._letterKeyStream.next(I.key.toLocaleUpperCase()):(T>=be.A&&T<=be.Z||T>=be.xE&&T<=be.aO)&&this._letterKeyStream.next(String.fromCharCode(T))))}this._pressedLetters=[],I.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(I){const T=this._getItemsArray(),H="number"==typeof I?I:T.indexOf(I);this._activeItem=T[H]??null,this._activeItemIndex=H}_setActiveItemByDelta(I){this._wrap?this._setActiveInWrapMode(I):this._setActiveInDefaultMode(I)}_setActiveInWrapMode(I){const T=this._getItemsArray();for(let H=1;H<=T.length;H++){const J=(this._activeItemIndex+I*H+T.length)%T.length;if(!this._skipPredicateFn(T[J]))return void this.setActiveItem(J)}}_setActiveInDefaultMode(I){this._setActiveItemByIndex(this._activeItemIndex+I,I)}_setActiveItemByIndex(I,T){const H=this._getItemsArray();if(H[I]){for(;this._skipPredicateFn(H[I]);)if(!H[I+=T])return;this.setActiveItem(I)}}_getItemsArray(){return this._items instanceof p.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(I){return this._origin=I,this}setActiveItem(I){super.setActiveItem(I),this.activeItem&&this.activeItem.focus(this._origin)}}function nn(O){return 0===O.buttons||0===O.offsetX&&0===O.offsetY}function Bn(O){const I=O.touches&&O.touches[0]||O.changedTouches&&O.changedTouches[0];return!(!I||-1!==I.identifier||null!=I.radiusX&&1!==I.radiusX||null!=I.radiusY&&1!==I.radiusY)}const On=new p.OlP("cdk-input-modality-detector-options"),Mn={ignoreKeys:[be.zL,be.jx,be.b2,be.MW,be.JU]},_r=(0,$.i$)({passive:!0,capture:!0});let br=(()=>{class O{constructor(T,H,J,He){this._platform=T,this._mostRecentTarget=null,this._modality=new Ae.X(null),this._lastTouchMs=0,this._onKeydown=Et=>{this._options?.ignoreKeys?.some(kt=>kt===Et.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,$.sA)(Et))},this._onMousedown=Et=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nn(Et)?"keyboard":"mouse"),this._mostRecentTarget=(0,$.sA)(Et))},this._onTouchstart=Et=>{Bn(Et)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,$.sA)(Et))},this._options={...Mn,...He},this.modalityDetected=this._modality.pipe(function fe(O){return(0,Oe.h)((I,T)=>O<=T)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ue.x)()),T.isBrowser&&H.runOutsideAngular(()=>{J.addEventListener("keydown",this._onKeydown,_r),J.addEventListener("mousedown",this._onMousedown,_r),J.addEventListener("touchstart",this._onTouchstart,_r)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_r),document.removeEventListener("mousedown",this._onMousedown,_r),document.removeEventListener("touchstart",this._onTouchstart,_r))}}return O.\u0275fac=function(T){return new(T||O)(p.LFG($.t4),p.LFG(p.R0b),p.LFG(c.K0),p.LFG(On,8))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const ht=new p.OlP("cdk-focus-monitor-default-options"),cn=(0,$.i$)({passive:!0,capture:!0});let bn=(()=>{class O{constructor(T,H,J,He,Et){this._ngZone=T,this._platform=H,this._inputModalityDetector=J,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe.x,this._rootNodeFocusAndBlurListener=kt=>{const hn=(0,$.sA)(kt),on="focus"===kt.type?this._onFocus:this._onBlur;for(let an=hn;an;an=an.parentElement)on.call(this,kt,an)},this._document=He,this._detectionMode=Et?.detectionMode||0}monitor(T,H=!1){const J=(0,Ze.fI)(T);if(!this._platform.isBrowser||1!==J.nodeType)return(0,Ne.of)(null);const He=(0,$.kV)(J)||this._getDocument(),Et=this._elementInfo.get(J);if(Et)return H&&(Et.checkChildren=!0),Et.subject;const kt={checkChildren:H,subject:new pe.x,rootNode:He};return this._elementInfo.set(J,kt),this._registerGlobalListeners(kt),kt.subject}stopMonitoring(T){const H=(0,Ze.fI)(T),J=this._elementInfo.get(H);J&&(J.subject.complete(),this._setClasses(H),this._elementInfo.delete(H),this._removeGlobalListeners(J))}focusVia(T,H,J){const He=(0,Ze.fI)(T);He===this._getDocument().activeElement?this._getClosestElementsInfo(He).forEach(([kt,hn])=>this._originChanged(kt,H,hn)):(this._setOrigin(H),"function"==typeof He.focus&&He.focus(J))}ngOnDestroy(){this._elementInfo.forEach((T,H)=>this.stopMonitoring(H))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(T){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(T)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(T){return 1===this._detectionMode||!!T?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(T,H){T.classList.toggle("cdk-focused",!!H),T.classList.toggle("cdk-touch-focused","touch"===H),T.classList.toggle("cdk-keyboard-focused","keyboard"===H),T.classList.toggle("cdk-mouse-focused","mouse"===H),T.classList.toggle("cdk-program-focused","program"===H)}_setOrigin(T,H=!1){this._ngZone.runOutsideAngular(()=>{this._origin=T,this._originFromTouchInteraction="touch"===T&&H,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(T,H){const J=this._elementInfo.get(H),He=(0,$.sA)(T);!J||!J.checkChildren&&H!==He||this._originChanged(H,this._getFocusOrigin(He),J)}_onBlur(T,H){const J=this._elementInfo.get(H);!J||J.checkChildren&&T.relatedTarget instanceof Node&&H.contains(T.relatedTarget)||(this._setClasses(H),this._emitOrigin(J.subject,null))}_emitOrigin(T,H){this._ngZone.run(()=>T.next(H))}_registerGlobalListeners(T){if(!this._platform.isBrowser)return;const H=T.rootNode,J=this._rootNodeFocusListenerCount.get(H)||0;J||this._ngZone.runOutsideAngular(()=>{H.addEventListener("focus",this._rootNodeFocusAndBlurListener,cn),H.addEventListener("blur",this._rootNodeFocusAndBlurListener,cn)}),this._rootNodeFocusListenerCount.set(H,J+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Te.R)(this._stopInputModalityDetector)).subscribe(He=>{this._setOrigin(He,!0)}))}_removeGlobalListeners(T){const H=T.rootNode;if(this._rootNodeFocusListenerCount.has(H)){const J=this._rootNodeFocusListenerCount.get(H);J>1?this._rootNodeFocusListenerCount.set(H,J-1):(H.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cn),H.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cn),this._rootNodeFocusListenerCount.delete(H))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(T,H,J){this._setClasses(T,H),this._emitOrigin(J.subject,H),this._lastFocusOrigin=H}_getClosestElementsInfo(T){const H=[];return this._elementInfo.forEach((J,He)=>{(He===T||J.checkChildren&&He.contains(T))&&H.push([He,J])}),H}}return O.\u0275fac=function(T){return new(T||O)(p.LFG(p.R0b),p.LFG($.t4),p.LFG(br),p.LFG(c.K0,8),p.LFG(ht,8))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Tr="cdk-high-contrast-black-on-white",Nn="cdk-high-contrast-white-on-black",Ln="cdk-high-contrast-active";let Qt=(()=>{class O{constructor(T,H){this._platform=T,this._document=H}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const T=this._document.createElement("div");T.style.backgroundColor="rgb(1,2,3)",T.style.position="absolute",this._document.body.appendChild(T);const H=this._document.defaultView||window,J=H&&H.getComputedStyle?H.getComputedStyle(T):null,He=(J&&J.backgroundColor||"").replace(/ /g,"");switch(T.remove(),He){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const T=this._document.body.classList;T.remove(Ln),T.remove(Tr),T.remove(Nn),this._hasCheckedHighContrastMode=!0;const H=this.getHighContrastMode();1===H?(T.add(Ln),T.add(Tr)):2===H&&(T.add(Ln),T.add(Nn))}}}return O.\u0275fac=function(T){return new(T||O)(p.LFG($.t4),p.LFG(c.K0))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},445:(Wt,qe,D)=>{D.d(qe,{Is:()=>Ne,vT:()=>Oe});var c=D(4650),p=D(6895);const $=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function pe(){return(0,c.f3M)(p.K0)}}),v=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ne=(()=>{class fe{constructor(Se){if(this.value="ltr",this.change=new c.vpe,Se){const Ue=Se.documentElement?Se.documentElement.dir:null;this.value=function Ae(fe){const he=fe?.toLowerCase()||"";return"auto"===he&&typeof navigator<"u"&&navigator?.language?v.test(navigator.language)?"rtl":"ltr":"rtl"===he?"rtl":"ltr"}((Se.body?Se.body.dir:null)||Ue||"ltr")}}ngOnDestroy(){this.change.complete()}}return fe.\u0275fac=function(Se){return new(Se||fe)(c.LFG($,8))},fe.\u0275prov=c.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Oe=(()=>{class fe{}return fe.\u0275fac=function(Se){return new(Se||fe)},fe.\u0275mod=c.oAB({type:fe}),fe.\u0275inj=c.cJS({}),fe})()},1281:(Wt,qe,D)=>{D.d(qe,{Ig:()=>p,fI:()=>Ne,su:()=>$});var c=D(4650);function p(Oe){return null!=Oe&&"false"!=`${Oe}`}function $(Oe,fe=0){return function pe(Oe){return!isNaN(parseFloat(Oe))&&!isNaN(Number(Oe))}(Oe)?Number(Oe):fe}function Ne(Oe){return Oe instanceof c.SBq?Oe.nativeElement:Oe}},9521:(Wt,qe,D)=>{D.d(qe,{A:()=>zt,JH:()=>mt,JU:()=>Ae,K5:()=>v,LH:()=>nt,L_:()=>Se,MW:()=>ht,Mf:()=>$,SV:()=>De,Sd:()=>Ze,Vb:()=>Oi,Z:()=>We,aO:()=>tt,b2:()=>es,jx:()=>Ne,oh:()=>xe,uR:()=>Te,xE:()=>ke,zL:()=>be});const $=9,v=13,Ae=16,Ne=17,be=18,Se=32,Te=35,Ze=36,xe=37,nt=38,De=39,mt=40,ke=48,tt=57,zt=65,We=90,ht=91,es=224;function Oi(Xr,...Or){return Or.length?Or.some(Ki=>Xr[Ki]):Xr.altKey||Xr.shiftKey||Xr.ctrlKey||Xr.metaKey}},3353:(Wt,qe,D)=>{D.d(qe,{Oy:()=>Re,i$:()=>he,kV:()=>nt,qK:()=>be,sA:()=>mt,t4:()=>pe});var c=D(4650),p=D(6895);let $;try{$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$=!1}let Ae,pe=(()=>{class ve{constructor(lt){this._platformId=lt,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ve.\u0275fac=function(lt){return new(lt||ve)(c.LFG(c.Lbi))},ve.\u0275prov=c.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const Ne=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function be(){if(Ae)return Ae;if("object"!=typeof document||!document)return Ae=new Set(Ne),Ae;let ve=document.createElement("input");return Ae=new Set(Ne.filter(ge=>(ve.setAttribute("type",ge),ve.type===ge))),Ae}let Oe,Ze;function he(ve){return function fe(){if(null==Oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oe=!0}))}finally{Oe=Oe||!1}return Oe}()?ve:!!ve.capture}function nt(ve){if(function xe(){if(null==Ze){const ve=typeof document<"u"?document.head:null;Ze=!(!ve||!ve.createShadowRoot&&!ve.attachShadow)}return Ze}()){const ge=ve.getRootNode?ve.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ge instanceof ShadowRoot)return ge}return null}function mt(ve){return ve.composedPath?ve.composedPath()[0]:ve.target}function Re(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(Wt,qe,D)=>{D.d(qe,{Do:()=>Re,EM:()=>As,HT:()=>v,JF:()=>fr,K0:()=>Ne,Mx:()=>fi,NF:()=>xr,O5:()=>Oi,Ov:()=>Nt,PC:()=>ns,PM:()=>si,RF:()=>Pr,S$:()=>xe,V_:()=>fe,Ye:()=>ve,b0:()=>mt,bD:()=>Fs,ez:()=>Ni,lw:()=>be,mr:()=>De,n9:()=>ei,q:()=>$,sg:()=>lr,uU:()=>Ri,w_:()=>Ae});var c=D(4650);let p=null;function $(){return p}function v(L){p||(p=L)}class Ae{}const Ne=new c.OlP("DocumentToken");let be=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=c.Yz7({token:L,factory:function(){return function Oe(){return(0,c.LFG)(he)}()},providedIn:"platform"}),L})();const fe=new c.OlP("Location Initialized");let he=(()=>{class L extends be{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(U){const de=$().getGlobalEventTarget(this._doc,"window");return de.addEventListener("popstate",U,!1),()=>de.removeEventListener("popstate",U)}onHashChange(U){const de=$().getGlobalEventTarget(this._doc,"window");return de.addEventListener("hashchange",U,!1),()=>de.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,de,Ge){Se()?this._history.pushState(U,de,Ge):this.location.hash=Ge}replaceState(U,de,Ge){Se()?this._history.replaceState(U,de,Ge):this.location.hash=Ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(Ne))},L.\u0275prov=c.Yz7({token:L,factory:function(){return function ft(){return new he((0,c.LFG)(Ne))}()},providedIn:"platform"}),L})();function Se(){return!!window.history.pushState}function Ue(L,te){if(0==L.length)return te;if(0==te.length)return L;let U=0;return L.endsWith("/")&&U++,te.startsWith("/")&&U++,2==U?L+te.substring(1):1==U?L+te:L+"/"+te}function Te(L){const te=L.match(/#|\?|$/),U=te&&te.index||L.length;return L.slice(0,U-("/"===L[U-1]?1:0))+L.slice(U)}function Ze(L){return L&&"?"!==L[0]?"?"+L:L}let xe=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=c.Yz7({token:L,factory:function(){return function nt(L){const te=(0,c.LFG)(Ne).location;return new mt((0,c.LFG)(be),te&&te.origin||"")}()},providedIn:"root"}),L})();const De=new c.OlP("appBaseHref");let mt=(()=>{class L extends xe{constructor(U,de){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==de&&(de=this._platformLocation.getBaseHrefFromDOM()),null==de)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=de}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ue(this._baseHref,U)}path(U=!1){const de=this._platformLocation.pathname+Ze(this._platformLocation.search),Ge=this._platformLocation.hash;return Ge&&U?`${de}${Ge}`:de}pushState(U,de,Ge,Pt){const Ut=this.prepareExternalUrl(Ge+Ze(Pt));this._platformLocation.pushState(U,de,Ut)}replaceState(U,de,Ge,Pt){const Ut=this.prepareExternalUrl(Ge+Ze(Pt));this._platformLocation.replaceState(U,de,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(be),c.LFG(De,8))},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac}),L})(),Re=(()=>{class L extends xe{constructor(U,de){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=de&&(this._baseHref=de)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let de=this._platformLocation.hash;return null==de&&(de="#"),de.length>0?de.substring(1):de}prepareExternalUrl(U){const de=Ue(this._baseHref,U);return de.length>0?"#"+de:de}pushState(U,de,Ge,Pt){let Ut=this.prepareExternalUrl(Ge+Ze(Pt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(U,de,Ut)}replaceState(U,de,Ge,Pt){let Ut=this.prepareExternalUrl(Ge+Ze(Pt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(U,de,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return L.\u0275fac=function(U){return new(U||L)(c.LFG(be),c.LFG(De,8))},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac}),L})(),ve=(()=>{class L{constructor(U,de){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=U;const Ge=this._platformStrategy.getBaseHref();this._platformLocation=de,this._baseHref=Te(ke(Ge)),this._platformStrategy.onPopState(Pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pt.state,type:Pt.type})})}path(U=!1){return this.normalize(this._platformStrategy.path(U))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(U,de=""){return this.path()==this.normalize(U+Ze(de))}normalize(U){return L.stripTrailingSlash(function lt(L,te){return L&&te.startsWith(L)?te.substring(L.length):te}(this._baseHref,ke(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._platformStrategy.prepareExternalUrl(U)}go(U,de="",Ge=null){this._platformStrategy.pushState(Ge,"",U,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ze(de)),Ge)}replaceState(U,de="",Ge=null){this._platformStrategy.replaceState(Ge,"",U,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ze(de)),Ge)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(U=0){this._platformStrategy.historyGo?.(U)}onUrlChange(U){this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(de=>{this._notifyUrlChangeListeners(de.url,de.state)}))}_notifyUrlChangeListeners(U="",de){this._urlChangeListeners.forEach(Ge=>Ge(U,de))}subscribe(U,de,Ge){return this._subject.subscribe({next:U,error:de,complete:Ge})}}return L.normalizeQueryParams=Ze,L.joinWithSlash=Ue,L.stripTrailingSlash=Te,L.\u0275fac=function(U){return new(U||L)(c.LFG(xe),c.LFG(be))},L.\u0275prov=c.Yz7({token:L,factory:function(){return function ge(){return new ve((0,c.LFG)(xe),(0,c.LFG)(be))}()},providedIn:"root"}),L})();function ke(L){return L.replace(/\/index.html$/,"")}var Je=(()=>((Je=Je||{})[Je.Format=0]="Format",Je[Je.Standalone=1]="Standalone",Je))(),ct=(()=>((ct=ct||{})[ct.Narrow=0]="Narrow",ct[ct.Abbreviated=1]="Abbreviated",ct[ct.Wide=2]="Wide",ct[ct.Short=3]="Short",ct))(),$e=(()=>(($e=$e||{})[$e.Short=0]="Short",$e[$e.Medium=1]="Medium",$e[$e.Long=2]="Long",$e[$e.Full=3]="Full",$e))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function Dt(L,te){return On((0,c.cg1)(L)[c.wAp.DateFormat],te)}function Lt(L,te){return On((0,c.cg1)(L)[c.wAp.TimeFormat],te)}function rn(L,te){return On((0,c.cg1)(L)[c.wAp.DateTimeFormat],te)}function En(L,te){const U=(0,c.cg1)(L),de=U[c.wAp.NumberSymbols][te];if(typeof de>"u"){if(te===Le.CurrencyDecimal)return U[c.wAp.NumberSymbols][Le.Decimal];if(te===Le.CurrencyGroup)return U[c.wAp.NumberSymbols][Le.Group]}return de}function Dn(L){if(!L[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function On(L,te){for(let U=te;U>-1;U--)if(typeof L[U]<"u")return L[U];throw new Error("Locale data API: locale data undefined")}function Mn(L){const[te,U]=L.split(":");return{hours:+te,minutes:+U}}const Er=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dr={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=(()=>((en=en||{})[en.Short=0]="Short",en[en.ShortGMT=1]="ShortGMT",en[en.Long=2]="Long",en[en.Extended=3]="Extended",en))(),We=(()=>((We=We||{})[We.FullYear=0]="FullYear",We[We.Month=1]="Month",We[We.Date=2]="Date",We[We.Hours=3]="Hours",We[We.Minutes=4]="Minutes",We[We.Seconds=5]="Seconds",We[We.FractionalSeconds=6]="FractionalSeconds",We[We.Day=7]="Day",We))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function cn(L,te,U,de){let Ge=function se(L){if(Ve(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[Ge,Pt=1,Ut=1]=L.split("-").map(Cn=>+Cn);return bn(Ge,Pt-1,Ut)}const U=parseFloat(L);if(!isNaN(L-U))return new Date(U);let de;if(de=L.match(Er))return function ce(L){const te=new Date(0);let U=0,de=0;const Ge=L[8]?te.setUTCFullYear:te.setFullYear,Pt=L[8]?te.setUTCHours:te.setHours;L[9]&&(U=Number(L[9]+L[10]),de=Number(L[9]+L[11])),Ge.call(te,Number(L[1]),Number(L[2])-1,Number(L[3]));const Ut=Number(L[4]||0)-U,Cn=Number(L[5]||0)-de,qn=Number(L[6]||0),gr=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return Pt.call(te,Ut,Cn,qn,gr),te}(de)}const te=new Date(L);if(!Ve(te))throw new Error(`Unable to convert "${L}" into a date`);return te}(L);te=Sn(U,te)||te;let Cn,Ut=[];for(;te;){if(Cn=_t.exec(te),!Cn){Ut.push(te);break}{Ut=Ut.concat(Cn.slice(1));const nr=Ut.pop();if(!nr)break;te=nr}}let qn=Ge.getTimezoneOffset();de&&(qn=st(de,qn),Ge=function ne(L,te,U){const de=U?-1:1,Ge=L.getTimezoneOffset();return function Ke(L,te){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+te),L}(L,de*(st(te,Ge)-Ge))}(Ge,de,!0));let gr="";return Ut.forEach(nr=>{const wr=function an(L){if(on[L])return on[L];let te;switch(L){case"G":case"GG":case"GGG":te=O(ht.Eras,ct.Abbreviated);break;case"GGGG":te=O(ht.Eras,ct.Wide);break;case"GGGGG":te=O(ht.Eras,ct.Narrow);break;case"y":te=Qt(We.FullYear,1,0,!1,!0);break;case"yy":te=Qt(We.FullYear,2,0,!0,!0);break;case"yyy":te=Qt(We.FullYear,3,0,!1,!0);break;case"yyyy":te=Qt(We.FullYear,4,0,!1,!0);break;case"Y":te=hn(1);break;case"YY":te=hn(2,!0);break;case"YYY":te=hn(3);break;case"YYYY":te=hn(4);break;case"M":case"L":te=Qt(We.Month,1,1);break;case"MM":case"LL":te=Qt(We.Month,2,1);break;case"MMM":te=O(ht.Months,ct.Abbreviated);break;case"MMMM":te=O(ht.Months,ct.Wide);break;case"MMMMM":te=O(ht.Months,ct.Narrow);break;case"LLL":te=O(ht.Months,ct.Abbreviated,Je.Standalone);break;case"LLLL":te=O(ht.Months,ct.Wide,Je.Standalone);break;case"LLLLL":te=O(ht.Months,ct.Narrow,Je.Standalone);break;case"w":te=kt(1);break;case"ww":te=kt(2);break;case"W":te=kt(1,!0);break;case"d":te=Qt(We.Date,1);break;case"dd":te=Qt(We.Date,2);break;case"c":case"cc":te=Qt(We.Day,1);break;case"ccc":te=O(ht.Days,ct.Abbreviated,Je.Standalone);break;case"cccc":te=O(ht.Days,ct.Wide,Je.Standalone);break;case"ccccc":te=O(ht.Days,ct.Narrow,Je.Standalone);break;case"cccccc":te=O(ht.Days,ct.Short,Je.Standalone);break;case"E":case"EE":case"EEE":te=O(ht.Days,ct.Abbreviated);break;case"EEEE":te=O(ht.Days,ct.Wide);break;case"EEEEE":te=O(ht.Days,ct.Narrow);break;case"EEEEEE":te=O(ht.Days,ct.Short);break;case"a":case"aa":case"aaa":te=O(ht.DayPeriods,ct.Abbreviated);break;case"aaaa":te=O(ht.DayPeriods,ct.Wide);break;case"aaaaa":te=O(ht.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":te=O(ht.DayPeriods,ct.Abbreviated,Je.Standalone,!0);break;case"bbbb":te=O(ht.DayPeriods,ct.Wide,Je.Standalone,!0);break;case"bbbbb":te=O(ht.DayPeriods,ct.Narrow,Je.Standalone,!0);break;case"B":case"BB":case"BBB":te=O(ht.DayPeriods,ct.Abbreviated,Je.Format,!0);break;case"BBBB":te=O(ht.DayPeriods,ct.Wide,Je.Format,!0);break;case"BBBBB":te=O(ht.DayPeriods,ct.Narrow,Je.Format,!0);break;case"h":te=Qt(We.Hours,1,-12);break;case"hh":te=Qt(We.Hours,2,-12);break;case"H":te=Qt(We.Hours,1);break;case"HH":te=Qt(We.Hours,2);break;case"m":te=Qt(We.Minutes,1);break;case"mm":te=Qt(We.Minutes,2);break;case"s":te=Qt(We.Seconds,1);break;case"ss":te=Qt(We.Seconds,2);break;case"S":te=Qt(We.FractionalSeconds,1);break;case"SS":te=Qt(We.FractionalSeconds,2);break;case"SSS":te=Qt(We.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=T(en.Short);break;case"ZZZZZ":te=T(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=T(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=T(en.Long);break;default:return null}return on[L]=te,te}(nr);gr+=wr?wr(Ge,U,qn):"''"===nr?"'":nr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gr}function bn(L,te,U){const de=new Date(0);return de.setFullYear(L,te,U),de.setHours(0,0,0),de}function Sn(L,te){const U=function tt(L){return(0,c.cg1)(L)[c.wAp.LocaleId]}(L);if(Dr[U]=Dr[U]||{},Dr[U][te])return Dr[U][te];let de="";switch(te){case"shortDate":de=Dt(L,$e.Short);break;case"mediumDate":de=Dt(L,$e.Medium);break;case"longDate":de=Dt(L,$e.Long);break;case"fullDate":de=Dt(L,$e.Full);break;case"shortTime":de=Lt(L,$e.Short);break;case"mediumTime":de=Lt(L,$e.Medium);break;case"longTime":de=Lt(L,$e.Long);break;case"fullTime":de=Lt(L,$e.Full);break;case"short":const Ge=Sn(L,"shortTime"),Pt=Sn(L,"shortDate");de=Tr(rn(L,$e.Short),[Ge,Pt]);break;case"medium":const Ut=Sn(L,"mediumTime"),Cn=Sn(L,"mediumDate");de=Tr(rn(L,$e.Medium),[Ut,Cn]);break;case"long":const qn=Sn(L,"longTime"),gr=Sn(L,"longDate");de=Tr(rn(L,$e.Long),[qn,gr]);break;case"full":const nr=Sn(L,"fullTime"),wr=Sn(L,"fullDate");de=Tr(rn(L,$e.Full),[nr,wr])}return de&&(Dr[U][te]=de),de}function Tr(L,te){return te&&(L=L.replace(/\{([^}]+)}/g,function(U,de){return null!=te&&de in te?te[de]:U})),L}function Nn(L,te,U="-",de,Ge){let Pt="";(L<0||Ge&&L<=0)&&(Ge?L=1-L:(L=-L,Pt=U));let Ut=String(L);for(;Ut.length<te;)Ut="0"+Ut;return de&&(Ut=Ut.substr(Ut.length-te)),Pt+Ut}function Qt(L,te,U=0,de=!1,Ge=!1){return function(Pt,Ut){let Cn=function Ot(L,te){switch(L){case We.FullYear:return te.getFullYear();case We.Month:return te.getMonth();case We.Date:return te.getDate();case We.Hours:return te.getHours();case We.Minutes:return te.getMinutes();case We.Seconds:return te.getSeconds();case We.FractionalSeconds:return te.getMilliseconds();case We.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,Pt);if((U>0||Cn>-U)&&(Cn+=U),L===We.Hours)0===Cn&&-12===U&&(Cn=12);else if(L===We.FractionalSeconds)return function Ln(L,te){return Nn(L,3).substr(0,te)}(Cn,te);const qn=En(Ut,Le.MinusSign);return Nn(Cn,te,qn,de,Ge)}}function O(L,te,U=Je.Format,de=!1){return function(Ge,Pt){return function I(L,te,U,de,Ge,Pt){switch(U){case ht.Months:return function Tt(L,te,U){const de=(0,c.cg1)(L),Pt=On([de[c.wAp.MonthsFormat],de[c.wAp.MonthsStandalone]],te);return On(Pt,U)}(te,Ge,de)[L.getMonth()];case ht.Days:return function $t(L,te,U){const de=(0,c.cg1)(L),Pt=On([de[c.wAp.DaysFormat],de[c.wAp.DaysStandalone]],te);return On(Pt,U)}(te,Ge,de)[L.getDay()];case ht.DayPeriods:const Ut=L.getHours(),Cn=L.getMinutes();if(Pt){const gr=function or(L){const te=(0,c.cg1)(L);return Dn(te),(te[c.wAp.ExtraData][2]||[]).map(de=>"string"==typeof de?Mn(de):[Mn(de[0]),Mn(de[1])])}(te),nr=function nn(L,te,U){const de=(0,c.cg1)(L);Dn(de);const Pt=On([de[c.wAp.ExtraData][0],de[c.wAp.ExtraData][1]],te)||[];return On(Pt,U)||[]}(te,Ge,de),wr=gr.findIndex(Kr=>{if(Array.isArray(Kr)){const[Nr,Lr]=Kr,Z=Ut>=Nr.hours&&Cn>=Nr.minutes,F=Ut<Lr.hours||Ut===Lr.hours&&Cn<Lr.minutes;if(Nr.hours<Lr.hours){if(Z&&F)return!0}else if(Z||F)return!0}else if(Kr.hours===Ut&&Kr.minutes===Cn)return!0;return!1});if(-1!==wr)return nr[wr]}return function Ct(L,te,U){const de=(0,c.cg1)(L),Pt=On([de[c.wAp.DayPeriodsFormat],de[c.wAp.DayPeriodsStandalone]],te);return On(Pt,U)}(te,Ge,de)[Ut<12?0:1];case ht.Eras:return function Rt(L,te){return On((0,c.cg1)(L)[c.wAp.Eras],te)}(te,de)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(Ge,Pt,L,te,U,de)}}function T(L){return function(te,U,de){const Ge=-1*de,Pt=En(U,Le.MinusSign),Ut=Ge>0?Math.floor(Ge/60):Math.ceil(Ge/60);switch(L){case en.Short:return(Ge>=0?"+":"")+Nn(Ut,2,Pt)+Nn(Math.abs(Ge%60),2,Pt);case en.ShortGMT:return"GMT"+(Ge>=0?"+":"")+Nn(Ut,1,Pt);case en.Long:return"GMT"+(Ge>=0?"+":"")+Nn(Ut,2,Pt)+":"+Nn(Math.abs(Ge%60),2,Pt);case en.Extended:return 0===de?"Z":(Ge>=0?"+":"")+Nn(Ut,2,Pt)+":"+Nn(Math.abs(Ge%60),2,Pt);default:throw new Error(`Unknown zone width "${L}"`)}}}function Et(L){return bn(L.getFullYear(),L.getMonth(),L.getDate()+(4-L.getDay()))}function kt(L,te=!1){return function(U,de){let Ge;if(te){const Pt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,Ut=U.getDate();Ge=1+Math.floor((Ut+Pt)/7)}else{const Pt=Et(U),Ut=function He(L){const te=bn(L,0,1).getDay();return bn(L,0,1+(te<=4?4:11)-te)}(Pt.getFullYear()),Cn=Pt.getTime()-Ut.getTime();Ge=1+Math.round(Cn/6048e5)}return Nn(Ge,L,En(de,Le.MinusSign))}}function hn(L,te=!1){return function(U,de){return Nn(Et(U).getFullYear(),L,En(de,Le.MinusSign),te)}}const on={};function st(L,te){L=L.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(U)?te:U}function Ve(L){return L instanceof Date&&!isNaN(L.valueOf())}function fi(L,te){te=encodeURIComponent(te);for(const U of L.split(";")){const de=U.indexOf("="),[Ge,Pt]=-1==de?[U,""]:[U.slice(0,de),U.slice(de+1)];if(Ge.trim()===te)return decodeURIComponent(Pt)}return null}class Vi{constructor(te,U,de,Ge){this.$implicit=te,this.ngForOf=U,this.index=de,this.count=Ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class L{constructor(U,de,Ge){this._viewContainer=U,this._template=de,this._differs=Ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const de=this._viewContainer;U.forEachOperation((Ge,Pt,Ut)=>{if(null==Ge.previousIndex)de.createEmbeddedView(this._template,new Vi(Ge.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)de.remove(null===Pt?void 0:Pt);else if(null!==Pt){const Cn=de.get(Pt);de.move(Cn,Ut),li(Cn,Ge)}});for(let Ge=0,Pt=de.length;Ge<Pt;Ge++){const Cn=de.get(Ge).context;Cn.index=Ge,Cn.count=Pt,Cn.ngForOf=this._ngForOf}U.forEachIdentityChange(Ge=>{li(de.get(Ge.currentIndex),Ge)})}static ngTemplateContextGuard(U,de){return!0}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();function li(L,te){L.context.$implicit=te.item}let Oi=(()=>{class L{constructor(U,de){this._viewContainer=U,this._context=new Xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=de}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Or("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Or("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,de){return!0}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class Xr{constructor(){this.$implicit=null,this.ngIf=null}}function Or(L,te){if(te&&!te.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,c.AaK)(te)}'.`)}class Ki{constructor(te,U){this._viewContainerRef=te,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let Pr=(()=>{class L{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const de=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||de,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),de}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let de=0;de<this._defaultViews.length;de++)this._defaultViews[de].enforceState(U)}}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275dir=c.lG2({type:L,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),L})(),ei=(()=>{class L{constructor(U,de,Ge){this.ngSwitch=Ge,Ge._addCase(),this._view=new Ki(U,de)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Pr,9))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),L})(),ns=(()=>{class L{constructor(U,de,Ge){this._ngEl=U,this._differs=de,this._renderer=Ge,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,de){const[Ge,Pt]=U.split(".");null!=(de=null!=de&&Pt?`${de}${Pt}`:de)?this._renderer.setStyle(this._ngEl.nativeElement,Ge,de):this._renderer.removeStyle(this._ngEl.nativeElement,Ge)}_applyChanges(U){U.forEachRemovedItem(de=>this._setStyle(de.key,null)),U.forEachAddedItem(de=>this._setStyle(de.key,de.currentValue)),U.forEachChangedItem(de=>this._setStyle(de.key,de.currentValue))}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),L})();function zr(L,te){return new c.vHH(2100,"")}class uo{createSubscription(te,U){return te.subscribe({next:U,error:de=>{throw de}})}dispose(te){te.unsubscribe()}onDestroy(te){te.unsubscribe()}}class ut{createSubscription(te,U){return te.then(U,de=>{throw de})}dispose(te){}onDestroy(te){}}const rt=new ut,gt=new uo;let Nt=(()=>{class L{constructor(U){this._ref=U,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,de=>this._updateLatestValue(U,de))}_selectStrategy(U){if((0,c.QGY)(U))return rt;if((0,c.F4k)(U))return gt;throw zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,de){U===this._obj&&(this._latestValue=de,this._ref.markForCheck())}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.sBO,16))},L.\u0275pipe=c.Yjl({name:"async",type:L,pure:!1}),L})();const kr=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ri=(()=>{class L{constructor(U,de){this.locale=U,this.defaultTimezone=de}transform(U,de="mediumDate",Ge,Pt){if(null==U||""===U||U!=U)return null;try{return cn(U,de,Pt||this.locale,Ge??this.defaultTimezone??void 0)}catch(Ut){throw zr()}}}return L.\u0275fac=function(U){return new(U||L)(c.Y36(c.soG,16),c.Y36(kr,24))},L.\u0275pipe=c.Yjl({name:"date",type:L,pure:!0}),L})(),Ni=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const Fs="browser";function xr(L){return L===Fs}function si(L){return"server"===L}let As=(()=>{class L{}return L.\u0275prov=(0,c.Yz7)({token:L,providedIn:"root",factory:()=>new is((0,c.LFG)(Ne),window)}),L})();class is{constructor(te,U){this.document=te,this.window=U,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const U=function vs(L,te){const U=L.getElementById(te)||L.getElementsByName(te)[0];if(U)return U;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const de=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let Ge=de.currentNode;for(;Ge;){const Pt=Ge.shadowRoot;if(Pt){const Ut=Pt.getElementById(te)||Pt.querySelector(`[name="${te}"]`);if(Ut)return Ut}Ge=de.nextNode()}}return null}(this.document,te);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=te)}}scrollToElement(te){const U=te.getBoundingClientRect(),de=U.left+this.window.pageXOffset,Ge=U.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(de-Pt[0],Ge-Pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zs(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class fr{}},4650:(Wt,qe,D)=>{D.d(qe,{$8M:()=>da,$Z:()=>Co,AFp:()=>yb,ALo:()=>U0,AaK:()=>be,AsE:()=>Bh,BQk:()=>Oh,CHM:()=>Mt,CRH:()=>q0,CZH:()=>Dv,CqO:()=>mp,EJc:()=>vw,EiD:()=>ll,EpF:()=>P_,F$t:()=>Og,F4k:()=>Js,FYo:()=>I0,FiY:()=>sr,G48:()=>Bw,Gf:()=>W0,GfV:()=>D0,Gpc:()=>he,Hsn:()=>kg,Ikx:()=>kp,JOm:()=>qo,JVY:()=>md,L6k:()=>gc,LAX:()=>ku,LFG:()=>j,LSH:()=>_d,Lbi:()=>bb,MAs:()=>fg,MGl:()=>ba,NdJ:()=>gp,O4$:()=>os,OlP:()=>ws,Oqu:()=>Ap,PXZ:()=>Ow,Q6J:()=>va,QGY:()=>Ag,Qsj:()=>gE,R0b:()=>bl,RDi:()=>Zs,Rgc:()=>zp,SBq:()=>jp,Sil:()=>Ew,Suo:()=>K0,TTD:()=>Gs,TgZ:()=>Cu,Udp:()=>ac,VLi:()=>xw,W1O:()=>X0,X6Q:()=>Vw,XFs:()=>nn,Xpm:()=>Et,Y36:()=>Li,YKP:()=>M0,YNc:()=>op,Yjl:()=>ce,Yz7:()=>Dt,ZZ4:()=>Uv,_Bn:()=>E0,_UZ:()=>Rh,_Vd:()=>Cy,_c5:()=>nC,_uU:()=>Tp,aQg:()=>Vv,c2e:()=>wb,cJS:()=>rn,cg1:()=>Np,dDg:()=>Db,deG:()=>ls,dqk:()=>Sn,eBb:()=>xa,eFA:()=>Sb,ekj:()=>Uh,f3M:()=>Fe,g9A:()=>vb,h0i:()=>Zh,hGG:()=>rC,iGM:()=>Z0,ifc:()=>en,ip1:()=>gb,kL8:()=>Fp,kcU:()=>Io,lG2:()=>se,lcZ:()=>V0,mCW:()=>f,n5z:()=>Bs,n_E:()=>Dy,oAB:()=>st,oxw:()=>Pg,pB0:()=>Ml,q3G:()=>Rr,q4F:()=>T0,qLn:()=>Ol,qOj:()=>gh,qZA:()=>Yc,qzn:()=>sa,s9C:()=>kh,sBO:()=>jw,sIi:()=>bu,s_b:()=>Ay,soG:()=>Av,tBr:()=>ir,tb:()=>Eb,tp0:()=>Fi,uIk:()=>ip,uOi:()=>tf,vHH:()=>Te,vpe:()=>ru,wAp:()=>cr,xi3:()=>B0,xp6:()=>wm,yhl:()=>Ou,ynx:()=>Ph,z2F:()=>Pv,z3N:()=>no,zSh:()=>Hc,zs3:()=>Po});var c=D(7579),p=D(727),$=D(8306),pe=D(6451),v=D(3099);function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Ne(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Oe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const fe=Ae({__forward_ref__:Ae});function he(n){return n.__forward_ref__=he,n.toString=function(){return be(this())},n}function Se(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(fe)&&n.__forward_ref__===he}class Te extends Error{constructor(r,o){super(function Ze(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function xe(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xe(n)}function ve(n,r){const o=r?` in ${r}`:"";throw new Te(-201,`No provider for ${nt(n)} found${o}`)}function $t(n,r){null==n&&function Tt(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function En(n){return rr(n,kn)||rr(n,Dn)}function rr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Wn(n){return n&&(n.hasOwnProperty(Gn)||n.hasOwnProperty(or))?n[Gn]:null}const kn=Ae({\u0275prov:Ae}),Gn=Ae({\u0275inj:Ae}),Dn=Ae({ngInjectableDef:Ae}),or=Ae({ngInjectorDef:Ae});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let Bn;function Mn(n){const r=Bn;return Bn=n,r}function ar(n,r,o){const a=En(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&nn.Optional?null:void 0!==r?r:void ve(be(n),"Injector")}function br(n){return{toString:n}.toString()}var Er=(()=>((Er=Er||{})[Er.OnPush=0]="OnPush",Er[Er.Default=1]="Default",Er))(),en=(()=>{return(n=en||(en={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",en;var n})();const We=typeof globalThis<"u"&&globalThis,ht=typeof window<"u"&&window,cn=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Sn=We||typeof global<"u"&&global||ht||cn,Ln={},Qt=[],Ot=Ae({\u0275cmp:Ae}),O=Ae({\u0275dir:Ae}),I=Ae({\u0275pipe:Ae}),T=Ae({\u0275mod:Ae}),H=Ae({\u0275fac:Ae}),J=Ae({__NG_ELEMENT_ID__:Ae});let He=0;function Et(n){return br(()=>{const o={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Er.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||en.Emulated,id:"c",styles:n.styles||Qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,h=n.features,_=n.pipes;return a.id+=He++,a.inputs=ne(n.inputs,o),a.outputs=ne(n.outputs),h&&h.forEach(A=>A(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(hn):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(on):null,a})}function hn(n){return Ve(n)||function yt(n){return n[O]||null}(n)}function on(n){return function at(n){return n[I]||null}(n)}const an={};function st(n){return br(()=>{const r={type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(an[n.id]=n.type),r})}function ne(n,r){if(null==n)return Ln;const o={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=a,r&&(r[u]=h)}return o}const se=Et;function ce(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ve(n){return n[Ot]||null}function Ce(n,r){const o=n[T]||null;if(!o&&!0===r)throw new Error(`Type ${be(n)} does not have '\u0275mod' property.`);return o}function Pr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ei(n){return Array.isArray(n)&&!0===n[1]}function Os(n){return 0!=(8&n.flags)}function ts(n){return 2==(2&n.flags)}function ki(n){return 1==(1&n.flags)}function Ii(n){return null!==n.template}function ns(n){return 0!=(512&n[2])}function Ti(n,r){return n.hasOwnProperty(H)?n[H]:null}class _s{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Gs(){return ks}function ks(n){return n.type.prototype.ngOnChanges&&(n.setInput=ko),Ns}function Ns(){const n=Fs(this),r=n?.current;if(r){const o=n.previous;if(o===Ln)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ko(n,r,o,a){const u=Fs(n)||function fs(n,r){return n[Ni]=r}(n,{previous:Ln,current:null}),h=u.current||(u.current={}),_=u.previous,A=this.declaredInputs[o],P=_[A];h[A]=new _s(P&&P.currentValue,r,_===Ln),n[a]=r}Gs.ngInherit=!0;const Ni="__ngSimpleChanges__";function Fs(n){return n[Ni]||null}let is;function Zs(n){is=n}function fr(n){return!!n.listen}const L={createRenderer:(n,r)=>function vs(){return void 0!==is?is:typeof document<"u"?document:void 0}()};function U(n){for(;Array.isArray(n);)n=n[0];return n}function Pt(n,r){return U(r[n])}function Ut(n,r){return U(r[n.index])}function qn(n,r){return n.data[r]}function gr(n,r){return n[r]}function nr(n,r){const o=r[n];return Pr(o)?o:o[0]}function wr(n){return 4==(4&n[2])}function Kr(n){return 128==(128&n[2])}function Lr(n,r){return null==r?null:n[r]}function Z(n){n[18]=0}function F(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const R={lFrame:xn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function K(){return R.bindingsEnabled}function ae(){return R.lFrame.lView}function Qe(){return R.lFrame.tView}function Mt(n){return R.lFrame.contextLView=n,n[8]}function jt(){let n=yn();for(;null!==n&&64===n.type;)n=n.parent;return n}function yn(){return R.lFrame.currentTNode}function Yn(n,r){const o=R.lFrame;o.currentTNode=n,o.isParent=r}function yr(){return R.lFrame.isParent}function gi(){R.lFrame.isParent=!1}function ti(){return R.isInCheckNoChangesMode}function vi(n){R.isInCheckNoChangesMode=n}function Cr(){const n=R.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function q(){return R.lFrame.bindingIndex++}function y(n){const r=R.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function X(n,r){const o=R.lFrame;o.bindingIndex=o.bindingRootIndex=n,Be(r)}function Be(n){R.lFrame.currentDirectiveIndex=n}function vt(){return R.lFrame.currentQueryIndex}function Vt(n){R.lFrame.currentQueryIndex=n}function _n(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Pn(n,r,o){if(o&nn.SkipSelf){let u=r,h=n;for(;!(u=u.parent,null!==u||o&nn.Host||(u=_n(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;r=u,n=h}const a=R.lFrame=Ar();return a.currentTNode=r,a.lView=n,!0}function Kn(n){const r=Ar(),o=n[1];R.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Ar(){const n=R.lFrame,r=null===n?null:n.child;return null===r?xn(n):r}function xn(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function pr(){const n=R.lFrame;return R.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ni=pr;function mi(){const n=pr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vr(){return R.lFrame.selectedIndex}function Ss(n){R.lFrame.selectedIndex=n}function Qr(){const n=R.lFrame;return qn(n.tView,n.selectedIndex)}function os(){R.lFrame.currentNamespace="svg"}function Io(){!function Do(){R.lFrame.currentNamespace=null}()}function Us(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:A,ngAfterViewInit:P,ngAfterViewChecked:Y,ngOnDestroy:re}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-o,_),A&&((n.contentHooks||(n.contentHooks=[])).push(o,A),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,A)),P&&(n.viewHooks||(n.viewHooks=[])).push(-o,P),Y&&((n.viewHooks||(n.viewHooks=[])).push(o,Y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Y)),null!=re&&(n.destroyHooks||(n.destroyHooks=[])).push(o,re)}}function Ks(n,r,o){vn(n,r,3,o)}function vo(n,r,o,a){(3&n[2])===o&&vn(n,r,o,a)}function dn(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function vn(n,r,o,a){const h=a??-1,_=r.length-1;let A=0;for(let P=void 0!==a?65535&n[18]:0;P<_;P++)if("number"==typeof r[P+1]){if(A=r[P],null!=a&&A>=a)break}else r[P]<0&&(n[18]+=65536),(A<h||-1==h)&&(Qn(n,o,r,P),n[18]=(4294901760&n[18])+P+2),P++}function Qn(n,r,o,a){const u=o[a]<0,h=o[a+1],A=n[u?-o[a]:o[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(A)}finally{}}}else try{h.call(A)}finally{}}class Zr{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function oi(n,r,o){const a=fr(n);let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const _=o[u++],A=o[u++],P=o[u++];a?n.setAttribute(r,A,P,_):r.setAttributeNS(_,A,P)}else{const _=h,A=o[++u];So(_)?a&&n.setProperty(r,_,A):a?n.setAttribute(r,_,A):r.setAttribute(_,A),u++}}return u}function qs(n){return 3===n||4===n||6===n}function So(n){return 64===n.charCodeAt(0)}function la(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||el(n,o,u,null,-1===o||2===o?r[++a]:null)}}return n}function el(n,r,o,a,u){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const A=n[h++];if("number"==typeof A){if(A===r){_=-1;break}if(A>r){_=h-1;break}}}for(;h<n.length;){const A=n[h];if("number"==typeof A)break;if(A===o){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,o),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function ua(n){return-1!==n}function ta(n){return 32767&n}function No(n,r){let o=function Yi(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let $o=!0;function ca(n){const r=$o;return $o=n,r}let Va=0;function Yt(n,r){const o=co(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ei(a.data,n),Ei(r,null),Ei(a.blueprint,null));const u=x(n,r),h=n.injectorIndex;if(ua(u)){const _=ta(u),A=No(u,r),P=A[1].data;for(let Y=0;Y<8;Y++)r[h+Y]=A[_+Y]|P[_+Y]}return r[h+8]=u,h}function Ei(n,r){n.push(0,0,0,0,0,0,0,0,r)}function co(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function x(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){const h=u[1],_=h.type;if(a=2===_?h.declTNode:1===_?u[6]:null,null===a)return-1;if(o++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function w(n,r,o){!function tl(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(J)&&(a=o[J]),null==a&&(a=o[J]=Va++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,o)}function V(n,r,o){if(o&nn.Optional)return n;ve(r,"NodeInjector")}function B(n,r,o,a){if(o&nn.Optional&&void 0===a&&(a=null),0==(o&(nn.Self|nn.Host))){const u=n[9],h=Mn(void 0);try{return u?u.get(r,a,o&nn.Optional):ar(r,a,o&nn.Optional)}finally{Mn(h)}}return V(a,r,o)}function W(n,r,o,a=nn.Default,u){if(null!==n){const h=function Hn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(J)?n[J]:void 0;return"number"==typeof r?r>=0?255&r:je:r}(o);if("function"==typeof h){if(!Pn(r,n,a))return a&nn.Host?V(u,o,a):B(r,o,a,u);try{const _=h(a);if(null!=_||a&nn.Optional)return _;ve(o)}finally{ni()}}else if("number"==typeof h){let _=null,A=co(n,r),P=-1,Y=a&nn.Host?r[16][6]:null;for((-1===A||a&nn.SkipSelf)&&(P=-1===A?x(n,r):r[A+8],-1!==P&&ci(a,!1)?(_=r[1],A=ta(P),r=No(P,r)):A=-1);-1!==A;){const re=r[1];if(ui(h,A,re.data)){const Pe=Bt(A,r,o,_,a,Y);if(Pe!==oe)return Pe}P=r[A+8],-1!==P&&ci(a,r[1].data[A+8]===Y)&&ui(h,A,r)?(_=re,A=ta(P),r=No(P,r)):A=-1}}}return B(r,o,a,u)}const oe={};function je(){return new Eo(jt(),ae())}function Bt(n,r,o,a,u,h){const _=r[1],A=_.data[n+8],re=Tn(A,_,o,null==a?ts(A)&&$o:a!=_&&0!=(3&A.type),u&nn.Host&&h===A);return null!==re?Fr(r,_,re,A):oe}function Tn(n,r,o,a,u){const h=n.providerIndexes,_=r.data,A=1048575&h,P=n.directiveStart,re=h>>20,it=u?A+re:n.directiveEnd;for(let wt=a?A:A+re;wt<it;wt++){const Gt=_[wt];if(wt<P&&o===Gt||wt>=P&&Gt.type===o)return wt}if(u){const wt=_[P];if(wt&&Ii(wt)&&wt.type===o)return P}return null}function Fr(n,r,o,a){let u=n[o];const h=r.data;if(function as(n){return n instanceof Zr}(u)){const _=u;_.resolving&&function De(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${o}`)}(nt(h[o]));const A=ca(_.canSeeViewProviders);_.resolving=!0;const P=_.injectImpl?Mn(_.injectImpl):null;Pn(n,a,nn.Default);try{u=n[o]=_.factory(void 0,h,n,a),r.firstCreatePass&&o>=a.directiveStart&&function Xo(n,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=r.type.prototype;if(a){const _=ks(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,_)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],r)}finally{null!==P&&Mn(P),ca(A),_.resolving=!1,ni()}}return u}function ui(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function ci(n,r){return!(n&nn.Self||n&nn.Host&&r)}class Eo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return W(this._tNode,this._lView,r,a,o)}}function Bs(n){return br(()=>{const r=n.prototype.constructor,o=r[H]||Ca(r),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const h=u[H]||Ca(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Ca(n){return ft(n)?()=>{const r=Ca(Se(n));return r&&r()}:Ti(n)}function da(n){return function b(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const h=o[u];if(qs(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(h===r)return o[u+1];u+=2}}}return null}(jt(),n)}const tr="__parameters__";function Xn(n,r,o){return br(()=>{const a=function wi(n){return function(...o){if(n){const a=n(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...h){if(this instanceof u)return a.apply(this,h),this;const _=new u(...h);return A.annotation=_,A;function A(P,Y,re){const Pe=P.hasOwnProperty(tr)?P[tr]:Object.defineProperty(P,tr,{value:[]})[tr];for(;Pe.length<=re;)Pe.push(null);return(Pe[re]=Pe[re]||[]).push(_),P}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class ws{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ls=new ws("AnalyzeForEntryComponents");function oo(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),oo(a,r)):r!==n&&r.push(a)}return r}function Cs(n,r){n.forEach(o=>Array.isArray(o)?Cs(o,r):r(o))}function Ha(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function xt(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ra(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Hs(n,r,o){let a=pa(n,r);return a>=0?n[1|a]=o:(a=~a,function ha(n,r,o,a){let u=n.length;if(u==r)n.push(o,a);else if(1===u)n.push(a,n[0]),n[0]=o;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function fa(n,r){const o=pa(n,r);if(o>=0)return n[1|o]}function pa(n,r){return function xs(n,r,o){let a=0,u=n.length>>o;for(;u!==a;){const h=a+(u-a>>1),_=n[h<<o];if(r===_)return h<<o;_>r?u=h:a=h+1}return~(u<<o)}(n,r,1)}const Rs={},Fo="__NG_DI_FLAG__",$i="ngTempTokenPath",ia=/\n/gm,zo="__source",iu=Ae({provide:String,useValue:Ae});let za;function Sa(n){const r=za;return za=n,r}function N(n,r=nn.Default){if(void 0===za)throw new Te(203,"");return null===za?ar(n,void 0,r):za.get(n,r&nn.Optional?null:void 0,r)}function j(n,r=nn.Default){return(function On(){return Bn}()||N)(Se(n),r)}const Fe=j;function pt(n){const r=[];for(let o=0;o<n.length;o++){const a=Se(n[o]);if(Array.isArray(a)){if(0===a.length)throw new Te(900,"");let u,h=nn.Default;for(let _=0;_<a.length;_++){const A=a[_],P=qt(A);"number"==typeof P?-1===P?u=A.token:h|=P:u=A}r.push(j(u,h))}else r.push(j(a))}return r}function St(n,r){return n[Fo]=r,n.prototype[Fo]=r,n}function qt(n){return n[Fo]}const ir=St(Xn("Inject",n=>({token:n})),-1),sr=St(Xn("Optional"),8),Fi=St(Xn("SkipSelf"),4);let ou,il;function Sl(n){return function Ma(){if(void 0===ou&&(ou=null,Sn.trustedTypes))try{ou=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ou}()?.createHTML(n)||n}function pd(n){return function Pu(){if(void 0===il&&(il=null,Sn.trustedTypes))try{il=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return il}()?.createScriptURL(n)||n}class sl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mc extends sl{getTypeName(){return"HTML"}}class Qh extends sl{getTypeName(){return"Style"}}class Jh extends sl{getTypeName(){return"Script"}}class Xh extends sl{getTypeName(){return"URL"}}class ef extends sl{getTypeName(){return"ResourceURL"}}function no(n){return n instanceof sl?n.changingThisBreaksApplicationSecurity:n}function sa(n,r){const o=Ou(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Ou(n){return n instanceof sl&&n.getTypeName()||null}function md(n){return new mc(n)}function gc(n){return new Qh(n)}function xa(n){return new Jh(n)}function ku(n){return new Xh(n)}function Ml(n){return new ef(n)}class Fu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Sl(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class yc{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Sl(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Sl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let u=o.length-1;0<u;u--){const _=o.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&r.removeAttribute(_)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const xl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function f(n){return(n=String(n)).match(xl)||n.match(C)?n:"unsafe:"+n}function M(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function ee(...n){const r={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const we=M("area,br,col,hr,img,wbr"),It=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kt=M("rp,rt"),Mi=ee(we,ee(It,M("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ee(Kt,M("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ee(Kt,It)),Ko=M("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ya=M("srcset"),_a=ee(Ko,ya,M("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vc=M("script,style,template");class Wa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Mi.hasOwnProperty(o))return this.sanitizedSomething=!0,!vc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let u=0;u<a.length;u++){const h=a.item(u),_=h.name,A=_.toLowerCase();if(!_a.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let P=h.value;Ko[A]&&(P=f(P)),ya[A]&&(n=P,P=(n=String(n)).split(",").map(r=>f(r.trim())).join(", ")),this.buf.push(" ",_,'="',Vu(P),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Mi.hasOwnProperty(o)&&!we.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Vu(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Uu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ol=/([^\#-~ |!])/g;function Vu(n){return n.replace(/&/g,"&amp;").replace(Uu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(ol,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let al;function ll(n,r){let o=null;try{al=al||function Nu(n){const r=new yc(n);return function _c(){try{return!!(new window.DOMParser).parseFromString(Sl(""),"text/html")}catch{return!1}}()?new Fu(r):r}(n);let a=r?String(r):"";o=al.getInertBodyElement(a);let u=5,h=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=h,h=o.innerHTML,o=al.getInertBodyElement(a)}while(a!==h);return Sl((new Wa).sanitizeChildren(bc(o)||o))}finally{if(o){const a=bc(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function bc(n){return"content"in n&&function Ec(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function _d(n){const r=ju();return r?r.sanitize(Rr.URL,n)||"":sa(n,"URL")?no(n):f(xe(n))}function tf(n){const r=ju();if(r)return pd(r.sanitize(Rr.RESOURCE_URL,n)||"");if(sa(n,"ResourceURL"))return pd(no(n));throw new Te(904,"")}function ju(){const n=ae();return n&&n[12]}const Qs="__ngContext__";function Ir(n,r){n[Qs]=r}function vd(n){const r=function Hu(n){return n[Qs]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function rf(n){return n.ngOriginalError}function Dc(n,...r){n.error(...r)}class Ol{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),a=function bd(n){return n&&n.ngErrorLogger||Dc}(r);a(this._console,"ERROR",r),o&&a(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&rf(r);for(;o&&rf(o);)o=rf(o);return o||null}}const Tc=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Sn))();function Pa(n){return n instanceof Function?n():n}var qo=(()=>((qo=qo||{})[qo.Important=1]="Important",qo[qo.DashCase=2]="DashCase",qo))();function Dd(n,r){return undefined(n,r)}function Ac(n){const r=n[3];return ei(r)?r[3]:r}function af(n){return lf(n[13])}function Ad(n){return lf(n[4])}function lf(n){for(;null!==n&&!ei(n);)n=n[4];return n}function zu(n,r,o,a,u){if(null!=a){let h,_=!1;ei(a)?h=a:Pr(a)&&(_=!0,a=a[0]);const A=U(a);0===n&&null!==o?null==u?hm(r,o,A):lu(r,o,A,u||null,!0):1===n&&null!==o?lu(r,o,A,u||null,!0):2===n?function hf(n,r,o){const a=Pd(n,r);a&&function qy(n,r,o,a){fr(n)?n.removeChild(r,o,a):r.removeChild(o)}(n,a,r,o)}(r,A,_):3===n&&r.destroyNode(A),null!=h&&function pf(n,r,o,a,u){const h=o[7];h!==U(o)&&zu(r,n,a,h,u);for(let A=10;A<o.length;A++){const P=o[A];Sc(P[1],P,n,r,a,h)}}(r,n,h,o,u)}}function Nl(n,r,o){if(fr(n))return n.createElement(r,o);{const a=null!==o?function As(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function lm(n,r){const o=n[9],a=o.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,F(u,-1)),o.splice(a,1)}function Md(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const u=a[17];null!==u&&u!==n&&lm(u,a),r>0&&(n[o-1][4]=a[4]);const h=xt(n,10+r);!function Zu(n,r){Sc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Oa(n,r){if(!(256&r[2])){const o=r[11];fr(o)&&o.destroyNode&&Sc(n,r,o,3,null,null),function Ky(n){let r=n[13];if(!r)return xd(n[1],n);for(;r;){let o=null;if(Pr(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)Pr(r)&&xd(r[1],r),r=r[3];null===r&&(r=n),Pr(r)&&xd(r[1],r),o=r&&r[4]}r=o}}(r)}}function xd(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function um(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof Zr)){const h=o[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const A=u[h[_]],P=h[_+1];try{P.call(A)}finally{}}else try{h.call(u)}finally{}}}}(n,r),function Rd(n,r){const o=n.cleanup,a=r[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+1],A="function"==typeof _?_(r):U(r[_]),P=a[u=o[h+2]],Y=o[h+3];"boolean"==typeof Y?A.removeEventListener(o[h],P,Y):Y>=0?a[u=Y]():a[u=-Y].unsubscribe(),h+=2}else{const _=a[u=o[h+1]];o[h].call(_)}if(null!==a){for(let h=u+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&fr(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&ei(r[3])){o!==r[3]&&lm(o,r);const a=r[19];null!==a&&a.detachView(n)}}}function cm(n,r,o){return function dm(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===en.None||u===en.Emulated)return null}return Ut(a,o)}(n,r.parent,o)}function lu(n,r,o,a,u){fr(n)?n.insertBefore(r,o,a,u):r.insertBefore(o,a,u)}function hm(n,r,o){fr(n)?n.appendChild(r,o):r.appendChild(o)}function fm(n,r,o,a,u){null!==a?lu(n,r,o,a,u):hm(n,r,o)}function Pd(n,r){return fr(n)?n.parentNode(r):r.parentNode}function pm(n,r,o){return gm(n,r,o)}let gm=function mm(n,r,o){return 40&n.type?Ut(n,o):null};function Od(n,r,o,a){const u=cm(n,a,r),h=r[11],A=pm(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(o))for(let P=0;P<o.length;P++)fm(h,u,o[P],A,!1);else fm(h,u,o,A,!1)}function kd(n,r){if(null!==r){const o=r.type;if(3&o)return Ut(r,n);if(4&o)return df(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return kd(n,a);{const u=n[r.index];return ei(u)?df(-1,u):U(u)}}if(32&o)return Dd(r,n)()||U(n[r.index]);{const a=cf(n,r);return null!==a?Array.isArray(a)?a[0]:kd(Ac(n[16]),a):kd(n,r.next)}}return null}function cf(n,r){return null!==r?n[16][6].projection[r.projection]:null}function df(n,r){const o=10+n+1;if(o<r.length){const a=r[o],u=a[1].firstChild;if(null!==u)return kd(a,u)}return r[7]}function Nd(n,r,o,a,u,h,_){for(;null!=o;){const A=a[o.index],P=o.type;if(_&&0===r&&(A&&Ir(U(A),a),o.flags|=4),64!=(64&o.flags))if(8&P)Nd(n,r,o.child,a,u,h,!1),zu(r,n,u,A,h);else if(32&P){const Y=Dd(o,a);let re;for(;re=Y();)zu(r,n,u,re,h);zu(r,n,u,A,h)}else 16&P?ao(n,r,a,o,u,h):zu(r,n,u,A,h);o=_?o.projectionNext:o.next}}function Sc(n,r,o,a,u,h){Nd(o,a,n.firstChild,r,u,h,!1)}function ao(n,r,o,a,u,h){const _=o[16],P=_[6].projection[a.projection];if(Array.isArray(P))for(let Y=0;Y<P.length;Y++)zu(r,n,u,P[Y],h);else Nd(n,r,P,_[3],u,h,!0)}function Fd(n,r,o){fr(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Ka(n,r,o){fr(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function gf(n,r,o){let a=n.length;for(;;){const u=n.indexOf(r,o);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=r.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}o=u+1}}const yf="ng-template";function Ld(n,r,o){let a=0;for(;a<n.length;){let u=n[a++];if(o&&"class"===u){if(u=n[a],-1!==gf(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function Fl(n){return 4===n.type&&n.value!==yf}function uu(n,r,o){return r===(4!==n.type||o?n.value:yf)}function cu(n,r,o){let a=4;const u=n.attrs||[],h=function vm(n){for(let r=0;r<n.length;r++)if(qs(n[r]))return r;return n.length}(u);let _=!1;for(let A=0;A<r.length;A++){const P=r[A];if("number"!=typeof P){if(!_)if(4&a){if(a=2|1&a,""!==P&&!uu(n,P,o)||""===P&&1===r.length){if(Bo(a))return!1;_=!0}}else{const Y=8&a?P:r[++A];if(8&a&&null!==n.attrs){if(!Ld(n.attrs,Y,o)){if(Bo(a))return!1;_=!0}continue}const Pe=_m(8&a?"class":P,u,Fl(n),o);if(-1===Pe){if(Bo(a))return!1;_=!0;continue}if(""!==Y){let it;it=Pe>h?"":u[Pe+1].toLowerCase();const wt=8&a?it:null;if(wt&&-1!==gf(wt,Y,0)||2&a&&Y!==it){if(Bo(a))return!1;_=!0}}}}else{if(!_&&!Bo(a)&&!Bo(P))return!1;if(_&&Bo(P))continue;_=!1,a=P|1&a}}return Bo(a)||_}function Bo(n){return 0==(1&n)}function _m(n,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let h=!1;for(;u<r.length;){const _=r[u];if(_===n)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let A=r[++u];for(;"string"==typeof A;)A=r[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function bm(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Ud(n,r,o=!1){for(let a=0;a<r.length;a++)if(cu(n,r[a],o))return!0;return!1}function Qy(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let u=0;u<n.length;u++)if(n[u]!==a[u])continue e;return!0}}return!1}function vf(n,r){return n?":not("+r.trim()+")":r}function Em(n){let r=n[0],o=1,a=2,u="",h=!1;for(;o<n.length;){let _=n[o];if("string"==typeof _)if(2&a){const A=n[++o];u+="["+_+(A.length>0?'="'+A+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!Bo(_)&&(r+=vf(h,u),u=""),a=_,h=h||!Bo(a);o++}return""!==u&&(r+=vf(h,u)),r}const vr={};function wm(n){bf(Qe(),ae(),Vr()+n,ti())}function bf(n,r,o,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Ks(r,h,o)}else{const h=n.preOrderHooks;null!==h&&vo(r,h,0,o)}Ss(o)}function Bd(n,r){return n<<17|r<<2}function ka(n){return n>>17&32767}function dl(n){return 2|n}function qa(n){return(131068&n)>>2}function Ef(n,r){return-131069&n|r<<2}function xc(n){return 1|n}function Pm(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const u=o[a],h=o[a+1];if(-1!==h){const _=n.data[h];Vt(u),_.contentQueries(2,r[h],h)}}}function Oc(n,r,o,a,u,h,_,A,P,Y){const re=r.blueprint.slice();return re[0]=u,re[2]=140|a,Z(re),re[3]=re[15]=n,re[8]=o,re[10]=_||n&&n[10],re[11]=A||n&&n[11],re[12]=P||n&&n[12]||null,re[9]=Y||n&&n[9]||null,re[6]=h,re[16]=2==r.type?n[16]:re,re}function ml(n,r,o,a,u){let h=n.data[r];if(null===h)h=function Tf(n,r,o,a,u){const h=yn(),_=yr(),P=n.data[r]=function Lm(n,r,o,a,u,h){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,r,a,u);return null===n.firstChild&&(n.firstChild=P),null!==h&&(_?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P)),P}(n,r,o,a,u),function E(){return R.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=a,h.attrs=u;const _=function pn(){const n=R.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Yn(h,!0),h}function mu(n,r,o,a){if(0===o)return-1;const u=r.length;for(let h=0;h<o;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function gu(n,r,o){Kn(r);try{const a=n.viewQuery;null!==a&&nh(1,a,o);const u=n.template;null!==u&&Nc(n,r,u,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pm(n,r),n.staticViewQueries&&nh(2,n.viewQuery,o);const h=n.components;null!==h&&function Om(n,r){for(let o=0;o<r.length;o++)c_(n,r[o])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,mi()}}function Vl(n,r,o,a){const u=r[2];if(256==(256&u))return;Kn(r);const h=ti();try{Z(r),function Ws(n){return R.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Nc(n,r,o,2,a);const _=3==(3&u);if(!h)if(_){const Y=n.preOrderCheckHooks;null!==Y&&Ks(r,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&vo(r,Y,0,null),dn(r,0)}if(function Zm(n){for(let r=af(n);null!==r;r=Ad(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const u=o[a],h=u[3];0==(1024&u[2])&&F(h,1),u[2]|=1024}}}(r),function Nf(n){for(let r=af(n);null!==r;r=Ad(r))for(let o=10;o<r.length;o++){const a=r[o],u=a[1];Kr(a)&&Vl(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&Pm(n,r),!h)if(_){const Y=n.contentCheckHooks;null!==Y&&Ks(r,Y)}else{const Y=n.contentHooks;null!==Y&&vo(r,Y,1),dn(r,1)}!function r_(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const u=o[a];if(u<0)Ss(~u);else{const h=u,_=o[++a],A=o[++a];X(_,h),A(2,r[h])}}}finally{Ss(-1)}}(n,r);const A=n.components;null!==A&&function i_(n,r){for(let o=0;o<r.length;o++)u_(n,r[o])}(r,A);const P=n.viewQuery;if(null!==P&&nh(2,P,a),!h)if(_){const Y=n.viewCheckHooks;null!==Y&&Ks(r,Y)}else{const Y=n.viewHooks;null!==Y&&vo(r,Y,2),dn(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,F(r[3],-1))}finally{mi()}}function kc(n,r,o,a){const u=r[10],h=!ti(),_=wr(r);try{h&&!_&&u.begin&&u.begin(),_&&gu(n,r,a),Vl(n,r,o,a)}finally{h&&!_&&u.end&&u.end()}}function Nc(n,r,o,a,u){const h=Vr(),_=2&a;try{Ss(-1),_&&r.length>20&&bf(n,r,20,ti()),o(a,u)}finally{Ss(h)}}function Kd(n,r,o){if(Os(r)){const u=r.directiveEnd;for(let h=r.directiveStart;h<u;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}function Fc(n,r,o){!K()||(function Mf(n,r,o,a){const u=o.directiveStart,h=o.directiveEnd;n.firstCreatePass||Yt(o,r),Ir(a,r);const _=o.initialInputs;for(let A=u;A<h;A++){const P=n.data[A],Y=Ii(P);Y&&Gm(r,o,P);const re=Fr(r,n,A,o);Ir(re,r),null!==_&&l_(0,A-u,re,P,0,_),Y&&(nr(o.index,r)[8]=re)}}(n,r,o,Ut(o,r)),128==(128&o.flags)&&function Jd(n,r,o){const a=o.directiveStart,u=o.directiveEnd,_=o.index,A=function Ee(){return R.lFrame.currentDirectiveIndex}();try{Ss(_);for(let P=a;P<u;P++){const Y=n.data[P],re=r[P];Be(P),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Qu(Y,re)}}finally{Ss(-1),Be(A)}}(n,r,o))}function qd(n,r,o=Ut){const a=r.localNames;if(null!==a){let u=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],A=-1===_?o(r,n):n[_];n[u++]=A}}}function km(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Lc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Lc(n,r,o,a,u,h,_,A,P,Y){const re=20+a,Pe=re+u,it=function Nm(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:vr);return o}(re,Pe),wt="function"==typeof Y?Y():Y;return it[1]={type:n,blueprint:it,template:o,queries:null,viewQuery:A,declTNode:r,data:it.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:P,consts:wt,incompleteFirstPass:!1}}function Fm(n,r,o,a){const u=gl(r);null===o?u.push(a):(u.push(o),n.firstCreatePass&&Bf(n).push(a,u.length-1))}function Um(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,u):o[a]=[r,u]}return o}function jo(n,r,o,a,u,h,_,A){const P=Ut(r,o);let re,Y=r.inputs;!A&&null!=Y&&(re=Y[a])?(qm(n,o,re,a,u),ts(r)&&function Qd(n,r){const o=nr(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(a=function Yu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=_?_(u,r.value||"",a):u,fr(h)?h.setProperty(P,a,u):So(a)||(P.setProperty?P.setProperty(a,u):P[a]=u))}function Uc(n,r,o,a){let u=!1;if(K()){const h=function Xd(n,r,o){const a=n.directiveRegistry;let u=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];Ud(o,_.selectors,!1)&&(u||(u=[]),w(Yt(o,r),n,_.type),Ii(_)?(eh(n,o),u.unshift(_)):u.push(_))}return u}(n,r,o),_=null===a?null:{"":-1};if(null!==h){u=!0,Pf(o,n.data.length,h.length);for(let re=0;re<h.length;re++){const Pe=h[re];Pe.providersResolver&&Pe.providersResolver(Pe)}let A=!1,P=!1,Y=mu(n,r,h.length,null);for(let re=0;re<h.length;re++){const Pe=h[re];o.mergedAttrs=la(o.mergedAttrs,Pe.hostAttrs),$m(n,o,r,Y,Pe),Rf(Y,Pe,_),null!==Pe.contentQueries&&(o.flags|=8),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(o.flags|=128);const it=Pe.type.prototype;!A&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),A=!0),!P&&(it.ngOnChanges||it.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),Y++}!function qu(n,r){const a=r.directiveEnd,u=n.data,h=r.attrs,_=[];let A=null,P=null;for(let Y=r.directiveStart;Y<a;Y++){const re=u[Y],Pe=re.inputs,it=null===h||Fl(r)?null:zm(Pe,h);_.push(it),A=Um(Pe,Y,A),P=Um(re.outputs,Y,P)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=16),A.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=A,r.outputs=P}(n,o)}_&&function xf(n,r,o){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const h=o[r[u+1]];if(null==h)throw new Te(-301,!1);a.push(r[u],h)}}}(o,a,_)}return o.mergedAttrs=la(o.mergedAttrs,o.attrs),u}function Sf(n,r,o,a,u,h){const _=h.hostBindings;if(_){let A=n.hostBindingOpCodes;null===A&&(A=n.hostBindingOpCodes=[]);const P=~r.index;(function Hm(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(A)!=P&&A.push(P),A.push(a,u,_)}}function Qu(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function eh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Rf(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;Ii(r)&&(o[""]=n)}}function Pf(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function $m(n,r,o,a,u){n.data[a]=u;const h=u.factory||(u.factory=Ti(u.type)),_=new Zr(h,Ii(u),null);n.blueprint[a]=_,o[a]=_,Sf(n,r,0,a,mu(n,o,u.hostVars,vr),u)}function Gm(n,r,o){const a=Ut(r,n),u=km(o),h=n[10],_=th(n,Oc(n,u,null,o.onPush?64:16,a,r,h,h.createRenderer(a,o),null,null));n[r.index]=_}function Qa(n,r,o,a,u,h){const _=Ut(n,r);!function Of(n,r,o,a,u,h,_){if(null==h)fr(n)?n.removeAttribute(r,u,o):r.removeAttribute(u);else{const A=null==_?xe(h):_(h,a||"",u);fr(n)?n.setAttribute(r,u,A,o):o?r.setAttributeNS(o,u,A):r.setAttribute(u,A)}}(r[11],_,h,n.value,o,a,u)}function l_(n,r,o,a,u,h){const _=h[r];if(null!==_){const A=a.setInput;for(let P=0;P<_.length;){const Y=_[P++],re=_[P++],Pe=_[P++];null!==A?a.setInput(o,Pe,Y,re):o[re]=Pe}}}function zm(n,r){let o=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return o}function Ju(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function u_(n,r){const o=nr(r,n);if(Kr(o)){const a=o[1];80&o[2]?Vl(a,o,a.template,o[8]):o[5]>0&&Ff(o)}}function Ff(n){for(let a=af(n);null!==a;a=Ad(a))for(let u=10;u<a.length;u++){const h=a[u];if(1024&h[2]){const _=h[1];Vl(_,h,_.template,h[8])}else h[5]>0&&Ff(h)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const u=nr(o[a],n);Kr(u)&&u[5]>0&&Ff(u)}}function c_(n,r){const o=nr(r,n),a=o[1];(function d_(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),gu(a,o,o[8])}function th(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function yu(n){for(;n;){n[2]|=64;const r=Ac(n);if(ns(n)&&!r)return n;n=r}return null}function Vc(n,r,o){const a=r[10];a.begin&&a.begin();try{Vl(n,r,n.template,o)}catch(u){throw rh(r,u),u}finally{a.end&&a.end()}}function Bc(n){!function Bl(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],a=vd(o),u=a[1];kc(u,a,u.template,o)}}(n[8])}function nh(n,r,o){Vt(0),r(n,o)}const Vf=(()=>Promise.resolve(null))();function gl(n){return n[7]||(n[7]=[])}function Bf(n){return n.cleanup||(n.cleanup=[])}function rh(n,r){const o=n[9],a=o?o.get(Ol,null):null;a&&a.handleError(r)}function qm(n,r,o,a,u){for(let h=0;h<o.length;){const _=o[h++],A=o[h++],P=r[_],Y=n.data[_];null!==Y.setInput?Y.setInput(P,u,a,A):P[A]=u}}function Na(n,r,o){const a=Pt(r,n);!function om(n,r,o){fr(n)?n.setValue(r,o):r.textContent=o}(n[11],a,o)}function ih(n,r,o){let a=o?n.styles:null,u=o?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const A=r[_];"number"==typeof A?h=A:1==h?u=Oe(u,A):2==h&&(a=Oe(a,A+": "+r[++_]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=u:n.classesWithoutHost=u}const oh=new ws("INJECTOR",-1);class _u{get(r,o=Rs){if(o===Rs){const a=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw a.name="NullInjectorError",a}return o}}const Hc=new ws("Set Injector scope."),$c={},h_={};let ah;function Hf(){return void 0===ah&&(ah=new _u),ah}function Qm(n,r=null,o=null,a){const u=lh(n,r,o,a);return u._resolveInjectorDefTypes(),u}function lh(n,r=null,o=null,a){return new f_(n,o,r||Hf(),a)}class f_{constructor(r,o,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Cs(o,A=>this.processProvider(A,r,o)),Cs([r],A=>this.processInjectorType(A,[],h)),this.records.set(oh,jl(void 0,this));const _=this.records.get(Hc);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof r?null:be(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Rs,a=nn.Default){this.assertNotDestroyed();const u=Sa(this),h=Mn(void 0);try{if(!(a&nn.SkipSelf)){let A=this.records.get(r);if(void 0===A){const P=function ec(n){return"function"==typeof n||"object"==typeof n&&n instanceof ws}(r)&&En(r);A=P&&this.injectableDefInScope(P)?jl(Gc(r),$c):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&nn.Self?Hf():this.parent).get(r,o=a&nn.Optional&&o===Rs?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[$i]=_[$i]||[]).unshift(be(r)),u)throw _;return function un(n,r,o,a){const u=n[$i];throw r[zo]&&u.unshift(r[zo]),n.message=function jn(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=be(r);if(Array.isArray(r))u=r.map(be).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let A=r[_];h.push(_+":"+("string"==typeof A?JSON.stringify(A):be(A)))}u=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${n.replace(ia,"\n  ")}`}("\n"+n.message,u,o,a),n.ngTokenPath=u,n[$i]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{Mn(h),Sa(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(be(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(r,o,a){if(!(r=Se(r)))return!1;let u=Wn(r);const h=null==u&&r.ngModule||void 0,_=void 0===h?r:h,A=-1!==a.indexOf(_);if(void 0!==h&&(u=Wn(h)),null==u)return!1;if(null!=u.imports&&!A){let re;a.push(_);try{Cs(u.imports,Pe=>{this.processInjectorType(Pe,o,a)&&(void 0===re&&(re=[]),re.push(Pe))})}finally{}if(void 0!==re)for(let Pe=0;Pe<re.length;Pe++){const{ngModule:it,providers:wt}=re[Pe];Cs(wt,Gt=>this.processProvider(Gt,it,wt||Qt))}}this.injectorDefTypes.add(_);const P=Ti(_)||(()=>new _);this.records.set(_,jl(P,$c));const Y=u.providers;if(null!=Y&&!A){const re=r;Cs(Y,Pe=>this.processProvider(Pe,re,Y))}return void 0!==h&&void 0!==r.providers}processProvider(r,o,a){let u=Hl(r=Se(r))?r:Se(r&&r.provide);const h=function $f(n,r,o){return Gf(n)?jl(void 0,n.useValue):jl(Jm(n),$c)}(r);if(Hl(r)||!0!==r.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=jl(void 0,$c,!0),_.factory=()=>pt(_.multi),this.records.set(u,_)),u=r,_.multi.push(r)}this.records.set(u,h)}hydrate(r,o){return o.value===$c&&(o.value=h_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Wf(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Se(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Gc(n){const r=En(n),o=null!==r?r.factory:Ti(n);if(null!==o)return o;if(n instanceof ws)throw new Te(204,!1);if(n instanceof Function)return function p_(n){const r=n.length;if(r>0)throw ra(r,"?"),new Te(204,!1);const o=function hr(n){const r=n&&(n[kn]||n[Dn]);if(r){const o=function Vn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Te(204,!1)}function Jm(n,r,o){let a;if(Hl(n)){const u=Se(n);return Ti(u)||Gc(u)}if(Gf(n))a=()=>Se(n.useValue);else if(function Zf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...pt(n.deps||[]));else if(function zf(n){return!(!n||!n.useExisting)}(n))a=()=>j(Se(n.useExisting));else{const u=Se(n&&(n.useClass||n.provide));if(!function $l(n){return!!n.deps}(n))return Ti(u)||Gc(u);a=()=>new u(...pt(n.deps))}return a}function jl(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Gf(n){return null!==n&&"object"==typeof n&&iu in n}function Hl(n){return"function"==typeof n}let Po=(()=>{class n{static create(o,a){if(Array.isArray(o))return Qm({name:""},a,o,"");{const u=o.name??"";return Qm({name:u},o.parent,o.providers,u)}}}return n.THROW_IF_NOT_FOUND=Rs,n.NULL=new _u,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>j(oh)}),n.__NG_ELEMENT_ID__=-1,n})();function Jf(n,r){Us(vd(n)[1],jt())}function gh(n){let r=function mh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let u;if(Ii(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Te(903,"");u=r.\u0275dir}if(u){if(o){a.push(u);const _=n;_.inputs=yh(n.inputs),_.declaredInputs=yh(n.declaredInputs),_.outputs=yh(n.outputs);const A=u.hostBindings;A&&v_(n,A);const P=u.viewQuery,Y=u.contentQueries;if(P&&__(n,P),Y&&ep(n,Y),Ne(n.inputs,u.inputs),Ne(n.declaredInputs,u.declaredInputs),Ne(n.outputs,u.outputs),Ii(u)&&u.data.animation){const re=n.data;re.animation=(re.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let _=0;_<h.length;_++){const A=h[_];A&&A.ngInherit&&A(n),A===gh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Xf(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=r+=u.hostVars,u.hostAttrs=la(u.hostAttrs,o=la(o,u.hostAttrs))}}(a)}function yh(n){return n===Ln?{}:n===Qt?[]:n}function __(n,r){const o=n.viewQuery;n.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function ep(n,r){const o=n.contentQueries;n.contentQueries=o?(a,u,h)=>{r(a,u,h),o(a,u,h)}:r}function v_(n,r){const o=n.hostBindings;n.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}let _h=null;function Gl(){if(!_h){const n=Sn.Symbol;if(n&&n.iterator)_h=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(_h=a)}}}return _h}function bu(n){return!!zc(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gl()in n)}function zc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ja(n,r,o){return n[r]=o}function Is(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function yl(n,r,o,a){const u=Is(n,r,o);return Is(n,r+1,a)||u}function ip(n,r,o,a){const u=ae();return Is(u,q(),r)&&(Qe(),Qa(Qr(),u,n,r,o,a)),ip}function zl(n,r,o,a){return Is(n,q(),o)?r+xe(o)+a:vr}function rc(n,r,o,a,u,h){const A=yl(n,function Si(){return R.lFrame.bindingIndex}(),o,u);return y(2),A?r+xe(o)+a+xe(u)+h:vr}function op(n,r,o,a,u,h,_,A){const P=ae(),Y=Qe(),re=n+20,Pe=Y.firstCreatePass?function E_(n,r,o,a,u,h,_,A,P){const Y=r.consts,re=ml(r,n,4,_||null,Lr(Y,A));Uc(r,o,re,Lr(Y,P)),Us(r,re);const Pe=re.tViews=Lc(2,re,a,u,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Y);return null!==r.queries&&(r.queries.template(r,re),Pe.queries=r.queries.embeddedTView(re)),re}(re,Y,P,r,o,a,u,h,_):Y.data[re];Yn(Pe,!1);const it=P[11].createComment("");Od(Y,P,it,Pe),Ir(it,P),th(P,P[re]=Ju(it,P,it,Pe)),ki(Pe)&&Fc(Y,P,Pe),null!=_&&qd(P,Pe,A)}function fg(n){return gr(function Ai(){return R.lFrame.contextLView}(),20+n)}function Li(n,r=nn.Default){const o=ae();return null===o?j(n,r):W(jt(),o,Se(n),r)}function Co(){throw new Error("invalid")}function va(n,r,o){const a=ae();return Is(a,q(),r)&&jo(Qe(),Qr(),a,n,r,a[11],o,!1),va}function xh(n,r,o,a,u){const _=u?"class":"style";qm(n,o,r.inputs[_],_,a)}function Cu(n,r,o,a){const u=ae(),h=Qe(),_=20+n,A=u[11],P=u[_]=Nl(A,r,function To(){return R.lFrame.currentNamespace}()),Y=h.firstCreatePass?function R_(n,r,o,a,u,h,_){const A=r.consts,Y=ml(r,n,2,u,Lr(A,h));return Uc(r,o,Y,Lr(A,_)),null!==Y.attrs&&ih(Y,Y.attrs,!1),null!==Y.mergedAttrs&&ih(Y,Y.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Y),Y}(_,h,u,0,r,o,a):h.data[_];Yn(Y,!0);const re=Y.mergedAttrs;null!==re&&oi(A,P,re);const Pe=Y.classes;null!==Pe&&Ka(A,P,Pe);const it=Y.styles;return null!==it&&Fd(A,P,it),64!=(64&Y.flags)&&Od(h,u,P,Y),0===function Ft(){return R.lFrame.elementDepthCount}()&&Ir(P,u),function Fn(){R.lFrame.elementDepthCount++}(),ki(Y)&&(Fc(h,u,Y),Kd(h,Y,u)),null!==a&&qd(u,Y),Cu}function Yc(){let n=jt();yr()?gi():(n=n.parent,Yn(n,!1));const r=n;!function Ur(){R.lFrame.elementDepthCount--}();const o=Qe();return o.firstCreatePass&&(Us(o,n),Os(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ea(n){return 0!=(16&n.flags)}(r)&&xh(o,r,ae(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vs(n){return 0!=(32&n.flags)}(r)&&xh(o,r,ae(),r.stylesWithoutHost,!1),Yc}function Rh(n,r,o,a){return Cu(n,r,o,a),Yc(),Rh}function Ph(n,r,o){const a=ae(),u=Qe(),h=n+20,_=u.firstCreatePass?function pp(n,r,o,a,u){const h=r.consts,_=Lr(h,a),A=ml(r,n,8,"ng-container",_);return null!==_&&ih(A,_,!0),Uc(r,o,A,Lr(h,u)),null!==r.queries&&r.queries.elementStart(r,A),A}(h,u,a,r,o):u.data[h];Yn(_,!0);const A=a[h]=a[11].createComment("");return Od(u,a,A,_),Ir(A,a),ki(_)&&(Fc(u,a,_),Kd(u,_,a)),null!=o&&qd(a,_),Ph}function Oh(){let n=jt();const r=Qe();return yr()?gi():(n=n.parent,Yn(n,!1)),r.firstCreatePass&&(Us(r,n),Os(n)&&r.queries.elementEnd(n)),Oh}function P_(){return ae()}function Ag(n){return!!n&&"function"==typeof n.then}function Js(n){return!!n&&"function"==typeof n.subscribe}const mp=Js;function gp(n,r,o,a){const u=ae(),h=Qe(),_=jt();return function xg(n,r,o,a,u,h,_,A){const P=ki(a),re=n.firstCreatePass&&Bf(n),Pe=r[8],it=gl(r);let wt=!0;if(3&a.type||A){const In=Ut(a,r),$n=A?A(In):In,Jt=it.length,dr=A?di=>A(U(di[a.index])):a.index;if(fr(o)){let di=null;if(!A&&P&&(di=function Mg(n,r,o,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===o&&u[h+1]===a){const A=r[7],P=u[h+2];return A.length>P?A[P]:null}"string"==typeof _&&(h+=2)}return null}(n,r,u,a.index)),null!==di)(di.__ngLastListenerFn__||di).__ngNextListenerFn__=h,di.__ngLastListenerFn__=h,wt=!1;else{h=yp(a,r,Pe,h,!1);const Zi=o.listen($n,u,h);it.push(h,Zi),re&&re.push(u,dr,Jt,Jt+1)}}else h=yp(a,r,Pe,h,!0),$n.addEventListener(u,h,_),it.push(h),re&&re.push(u,dr,Jt,_)}else h=yp(a,r,Pe,h,!1);const Gt=a.outputs;let ln;if(wt&&null!==Gt&&(ln=Gt[u])){const In=ln.length;if(In)for(let $n=0;$n<In;$n+=2){const Ua=r[ln[$n]][ln[$n+1]].subscribe(h),dd=it.length;it.push(h,Ua),re&&re.push(u,a.index,dd,-(dd+1))}}}(h,u,u[11],_,n,r,!!o,a),gp}function Rg(n,r,o,a){try{return!1!==o(a)}catch(u){return rh(n,u),!1}}function yp(n,r,o,a,u){return function h(_){if(_===Function)return a;const A=2&n.flags?nr(n.index,r):r;0==(32&r[2])&&yu(A);let P=Rg(r,0,a,_),Y=h.__ngNextListenerFn__;for(;Y;)P=Rg(r,0,Y,_)&&P,Y=Y.__ngNextListenerFn__;return u&&!1===P&&(_.preventDefault(),_.returnValue=!1),P}}function Pg(n=1){return function bi(n){return(R.lFrame.contextLView=function ss(n,r){for(;n>0;)r=r[15],n--;return r}(n,R.lFrame.contextLView))[8]}(n)}function c0(n,r){let o=null;const a=function _f(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let u=0;u<r.length;u++){const h=r[u];if("*"!==h){if(null===a?Ud(n,h,!0):Qy(a,h))return u}else o=u}return o}function Og(n){const r=ae()[16][6];if(!r.projection){const a=r.projection=ra(n?n.length:1,null),u=a.slice();let h=r.child;for(;null!==h;){const _=n?c0(h,n):0;null!==_&&(u[_]?u[_].projectionNext=h:a[_]=h,u[_]=h),h=h.next}}}function kg(n,r=0,o){const a=ae(),u=Qe(),h=ml(u,20+n,16,null,o||null);null===h.projection&&(h.projection=r),gi(),64!=(64&h.flags)&&function ff(n,r,o){ao(r[11],0,r,o,cm(n,o,r),pm(o.parent||r[6],o,r))}(u,a,h)}function kh(n,r,o){return ba(n,"",r,"",o),kh}function ba(n,r,o,a,u){const h=ae(),_=zl(h,r,o,a);return _!==vr&&jo(Qe(),Qr(),h,n,_,h[11],u,!1),ba}function Jc(n,r,o,a,u){const h=n[o+1],_=null===r;let A=a?ka(h):qa(h),P=!1;for(;0!==A&&(!1===P||_);){const re=n[A+1];Xc(n[A],r)&&(P=!0,n[A+1]=a?xc(re):dl(re)),A=a?ka(re):qa(re)}P&&(n[o+1]=a?dl(h):xc(h))}function Xc(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&pa(n,r)>=0}function ac(n,r,o){return lo(n,r,o,!1),ac}function Uh(n,r){return lo(n,r,null,!0),Uh}function lo(n,r,o,a){const u=ae(),h=Qe(),_=y(2);h.firstUpdatePass&&function jg(n,r,o,a){const u=n.data;if(null===u[o+1]){const h=u[Vr()],_=function _l(n,r){return r>=n.expandoStartIndex}(n,o);(function Kg(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!_&&(r=!1),r=function Hg(n,r,o,a){const u=function Ye(n){const r=R.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=td(o=Dp(null,n,r,o,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==u)if(o=Dp(u,n,r,o,a),null===h){let P=function $g(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==qa(a))return n[ka(a)]}(n,r,a);void 0!==P&&Array.isArray(P)&&(P=Dp(null,n,r,P[1],a),P=td(P,r.attrs,a),function ed(n,r,o,a){n[ka(o?r.classBindings:r.styleBindings)]=a}(n,r,a,P))}else h=function Ql(n,r,o){let a;const u=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<u;h++)a=td(a,n[h].hostAttrs,o);return td(a,r.attrs,o)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),o}(u,h,r,a),function k_(n,r,o,a,u,h){let _=h?r.classBindings:r.styleBindings,A=ka(_),P=qa(_);n[a]=o;let re,Y=!1;if(Array.isArray(o)){const Pe=o;re=Pe[1],(null===re||pa(Pe,re)>0)&&(Y=!0)}else re=o;if(u)if(0!==P){const it=ka(n[A+1]);n[a+1]=Bd(it,A),0!==it&&(n[it+1]=Ef(n[it+1],a)),n[A+1]=function du(n,r){return 131071&n|r<<17}(n[A+1],a)}else n[a+1]=Bd(A,0),0!==A&&(n[A+1]=Ef(n[A+1],a)),A=a;else n[a+1]=Bd(P,0),0===A?A=a:n[P+1]=Ef(n[P+1],a),P=a;Y&&(n[a+1]=dl(n[a+1])),Jc(n,re,a,!0),Jc(n,re,a,!1),function Iu(n,r,o,a,u){const h=u?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&pa(h,r)>=0&&(o[a+1]=xc(o[a+1]))}(r,re,n,a,h),_=Bd(A,P),h?r.classBindings=_:r.styleBindings=_}(u,h,r,o,_,a)}}(h,n,_,a),r!==vr&&Is(u,_,r)&&function Zg(n,r,o,a,u,h,_,A){if(!(3&r.type))return;const P=n.data,Y=P[A+1];nd(function Im(n){return 1==(1&n)}(Y)?Wg(P,r,o,u,qa(Y),_):void 0)||(nd(h)||function Wu(n){return 2==(2&n)}(Y)&&(h=Wg(P,null,o,u,A,_)),function mf(n,r,o,a,u){const h=fr(n);if(r)u?h?n.addClass(o,a):o.classList.add(a):h?n.removeClass(o,a):o.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:qo.DashCase;if(null==u)h?n.removeStyle(o,a,_):o.style.removeProperty(a);else{const A="string"==typeof u&&u.endsWith("!important");A&&(u=u.slice(0,-10),_|=qo.Important),h?n.setStyle(o,a,u,_):o.style.setProperty(a,u,A?"important":"")}}}(a,_,Pt(Vr(),o),u,h))}(h,h.data[Vr()],u,u[11],n,u[_+1]=function V_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=be(no(n)))),n}(r,o),a,_)}function Dp(n,r,o,a,u){let h=null;const _=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<_&&(h=r[A],a=td(a,h.hostAttrs,u),h!==n);)A++;return null!==n&&(o.directiveStylingLast=A),a}function td(n,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?u=_:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hs(n,_,!!o||r[++h]))}return void 0===n?null:n}function Wg(n,r,o,a,u,h){const _=null===r;let A;for(;u>0;){const P=n[u],Y=Array.isArray(P),re=Y?P[1]:P,Pe=null===re;let it=o[u+1];it===vr&&(it=Pe?Qt:void 0);let wt=Pe?fa(it,a):re===a?it:void 0;if(Y&&!nd(wt)&&(wt=fa(P,a)),nd(wt)&&(A=wt,_))return A;const Gt=n[u+1];u=_?ka(Gt):qa(Gt)}if(null!==r){let P=h?r.residualClasses:r.residualStyles;null!=P&&(A=fa(P,a))}return A}function nd(n){return void 0!==n}function Tp(n,r=""){const o=ae(),a=Qe(),u=n+20,h=a.firstCreatePass?ml(a,u,1,r,null):a.data[u],_=o[u]=function Sd(n,r){return fr(n)?n.createText(r):n.createTextNode(r)}(o[11],r);Od(a,o,_,h),Yn(h,!1)}function Ap(n){return Sp("",n,""),Ap}function Sp(n,r,o){const a=ae(),u=zl(a,n,r,o);return u!==vr&&Na(a,Vr(),u),Sp}function Bh(n,r,o,a,u){const h=ae(),_=rc(h,n,r,o,a,u);return _!==vr&&Na(h,Vr(),_),Bh}function kp(n,r,o){const a=ae();return Is(a,q(),r)&&jo(Qe(),Qr(),a,n,r,a[11],o,!0),kp}const vl=void 0;var uy=["en",[["a","p"],["AM","PM"],vl],[["AM","PM"],vl,vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vl,"{1} 'at' {0}",vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ly(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Xa={};function Np(n){const r=function dy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=id(r);if(o)return o;const a=r.split("-")[0];if(o=id(a),o)return o;if("en"===a)return uy;throw new Error(`Missing locale data for the locale "${n}".`)}function Fp(n){return Np(n)[cr.PluralCase]}function id(n){return n in Xa||(Xa[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),Xa[n]}var cr=(()=>((cr=cr||{})[cr.LocaleId=0]="LocaleId",cr[cr.DayPeriodsFormat=1]="DayPeriodsFormat",cr[cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",cr[cr.DaysFormat=3]="DaysFormat",cr[cr.DaysStandalone=4]="DaysStandalone",cr[cr.MonthsFormat=5]="MonthsFormat",cr[cr.MonthsStandalone=6]="MonthsStandalone",cr[cr.Eras=7]="Eras",cr[cr.FirstDayOfWeek=8]="FirstDayOfWeek",cr[cr.WeekendRange=9]="WeekendRange",cr[cr.DateFormat=10]="DateFormat",cr[cr.TimeFormat=11]="TimeFormat",cr[cr.DateTimeFormat=12]="DateTimeFormat",cr[cr.NumberSymbols=13]="NumberSymbols",cr[cr.NumberFormats=14]="NumberFormats",cr[cr.CurrencyCode=15]="CurrencyCode",cr[cr.CurrencySymbol=16]="CurrencySymbol",cr[cr.CurrencyName=17]="CurrencyName",cr[cr.Currencies=18]="Currencies",cr[cr.Directionality=19]="Directionality",cr[cr.PluralCase=20]="PluralCase",cr[cr.ExtraData=21]="ExtraData",cr))();const go="en-US";let fy=go;function ov(n,r,o,a,u){if(n=Se(n),Array.isArray(n))for(let h=0;h<n.length;h++)ov(n[h],r,o,a,u);else{const h=Qe(),_=ae();let A=Hl(n)?n:Se(n.provide),P=Jm(n);const Y=jt(),re=1048575&Y.providerIndexes,Pe=Y.directiveStart,it=Y.providerIndexes>>20;if(Hl(n)||!n.multi){const wt=new Zr(P,u,Li),Gt=lv(A,r,u?re:re+it,Pe);-1===Gt?(w(Yt(Y,_),h,A),av(h,n,r.length),r.push(A),Y.directiveStart++,Y.directiveEnd++,u&&(Y.providerIndexes+=1048576),o.push(wt),_.push(wt)):(o[Gt]=wt,_[Gt]=wt)}else{const wt=lv(A,r,re+it,Pe),Gt=lv(A,r,re,re+it),ln=wt>=0&&o[wt],In=Gt>=0&&o[Gt];if(u&&!In||!u&&!ln){w(Yt(Y,_),h,A);const $n=function cE(n,r,o,a,u){const h=new Zr(n,o,Li);return h.multi=[],h.index=r,h.componentProviders=0,b0(h,u,a&&!o),h}(u?uE:lE,o.length,u,a,P);!u&&In&&(o[Gt].providerFactory=$n),av(h,n,r.length,0),r.push(A),Y.directiveStart++,Y.directiveEnd++,u&&(Y.providerIndexes+=1048576),o.push($n),_.push($n)}else av(h,n,wt>-1?wt:Gt,b0(o[u?Gt:wt],P,!u&&a));!u&&a&&In&&o[Gt].componentProviders++}}}function av(n,r,o,a){const u=Hl(r),h=function Xu(n){return!!n.useClass}(r);if(u||h){const P=(h?Se(r.useClass):r).prototype.ngOnDestroy;if(P){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const re=Y.indexOf(o);-1===re?Y.push(o,[a,P]):Y[re+1].push(a,P)}else Y.push(o,P)}}}function b0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function lv(n,r,o,a){for(let u=o;u<a;u++)if(r[u]===n)return u;return-1}function lE(n,r,o,a){return uv(this.multi,[])}function uE(n,r,o,a){const u=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,A=Fr(o,o[1],this.providerFactory.index,a);h=A.slice(0,_),uv(u,h);for(let P=_;P<A.length;P++)h.push(A[P])}else h=[],uv(u,h);return h}function uv(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function E0(n,r=[]){return o=>{o.providersResolver=(a,u)=>function aE(n,r,o){const a=Qe();if(a.firstCreatePass){const u=Ii(n);ov(o,a.data,a.blueprint,u,!0),ov(r,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,r)}}class w0{}class fE{resolveComponentFactory(r){throw function hE(n){const r=Error(`No component factory found for ${be(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Cy=(()=>{class n{}return n.NULL=new fE,n})();function pE(){return zh(jt(),ae())}function zh(n,r){return new jp(Ut(n,r))}let jp=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=pE,n})();function mE(n){return n instanceof jp?n.nativeElement:n}class I0{}let gE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _E(){const n=ae(),o=nr(jt().index,n);return function yE(n){return n[11]}(Pr(o)?o:n)}(),n})(),vE=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class D0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const T0=new D0("13.2.7"),cv={};function Iy(n,r,o,a,u=!1){for(;null!==o;){const h=r[o.index];if(null!==h&&a.push(U(h)),ei(h))for(let A=10;A<h.length;A++){const P=h[A],Y=P[1].firstChild;null!==Y&&Iy(P[1],P,Y,a)}const _=o.type;if(8&_)Iy(n,r,o.child,a);else if(32&_){const A=Dd(o,r);let P;for(;P=A();)a.push(P)}else if(16&_){const A=cf(r,o);if(Array.isArray(A))a.push(...A);else{const P=Ac(r[16]);Iy(P[1],P,A,a,!0)}}o=u?o.projectionNext:o.next}return a}class Hp{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Iy(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ei(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Md(r,a),xt(o,a))}this._attachedToViewContainer=!1}Oa(this._lView[1],this._lView)}onDestroy(r){Fm(this._lView[1],this._lView,null,r)}markForCheck(){yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jc(n,r,o){vi(!0);try{Vc(n,r,o)}finally{vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wy(n,r){Sc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=r}}class bE extends Hp{constructor(r){super(r),this._view=r}detectChanges(){Bc(this._view)}checkNoChanges(){!function Uf(n){vi(!0);try{Bc(n)}finally{vi(!1)}}(this._view)}get context(){return null}}class A0 extends Cy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ve(r);return new dv(o,this.ngModule)}}function S0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class dv extends w0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Vd(n){return n.map(Em).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return S0(this.componentDef.inputs)}get outputs(){return S0(this.componentDef.outputs)}create(r,o,a,u){const h=(u=u||this.ngModule)?function wE(n,r){return{get:(o,a,u)=>{const h=n.get(o,cv,u);return h!==cv||a===cv?h:r.get(o,a,u)}}}(r,u.injector):r,_=h.get(I0,L),A=h.get(vE,null),P=_.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",re=a?function Af(n,r,o){if(fr(n))return n.selectRootElement(r,o===en.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(P,a,this.componentDef.encapsulation):Nl(_.createRenderer(null,this.componentDef),Y,function EE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),Pe=this.componentDef.onPush?576:528,it=function ag(n,r){return{components:[],scheduler:n||Tc,clean:Vf,playerHandler:r||null,flags:0}}(),wt=Lc(0,null,null,1,0,null,null,null,null,null),Gt=Oc(null,wt,it,Pe,null,null,_,P,A,h);let ln,In;Kn(Gt);try{const $n=function fh(n,r,o,a,u,h){const _=o[1];o[20]=n;const P=ml(_,20,2,"#host",null),Y=P.mergedAttrs=r.hostAttrs;null!==Y&&(ih(P,Y,!0),null!==n&&(oi(u,n,Y),null!==P.classes&&Ka(u,n,P.classes),null!==P.styles&&Fd(u,n,P.styles)));const re=a.createRenderer(n,r),Pe=Oc(o,km(r),null,r.onPush?64:16,o[20],P,a,re,h||null,null);return _.firstCreatePass&&(w(Yt(P,o),_,r.type),eh(_,P),Pf(P,o.length,1)),th(o,Pe),o[20]=Pe}(re,this.componentDef,Gt,_,P);if(re)if(a)oi(P,re,["ng-version",T0.full]);else{const{attrs:Jt,classes:dr}=function Mc(n){const r=[],o=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&r.push(h,n[++a]):8===u&&o.push(h);else{if(!Bo(u))break;u=h}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Jt&&oi(P,re,Jt),dr&&dr.length>0&&Ka(P,re,dr.join(" "))}if(In=qn(wt,20),void 0!==o){const Jt=In.projection=[];for(let dr=0;dr<this.ngContentSelectors.length;dr++){const di=o[dr];Jt.push(null!=di?Array.from(di):null)}}ln=function ph(n,r,o,a,u){const h=o[1],_=function a_(n,r,o){const a=jt();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),$m(n,a,r,mu(n,r,1,null),o));const u=Fr(r,n,a.directiveStart,a);Ir(u,r);const h=Ut(a,r);return h&&Ir(h,r),u}(h,o,r);if(a.components.push(_),n[8]=_,u&&u.forEach(P=>P(_,r)),r.contentQueries){const P=jt();r.contentQueries(1,_,P.directiveStart)}const A=jt();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ss(A.index),Sf(o[1],A,0,A.directiveStart,A.directiveEnd,r),Qu(r,_)),_}($n,this.componentDef,Gt,it,[Jf]),gu(wt,Gt,null)}finally{mi()}return new IE(this.componentType,ln,zh(In,Gt),Gt,In)}}class IE extends class dE{}{constructor(r,o,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new bE(u),this.componentType=r}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Zh{}class M0{}const Wh=new Map;class P0 extends Zh{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new A0(this);const a=Ce(r);this._bootstrapComponents=Pa(a.bootstrap),this._r3Injector=lh(r,o,[{provide:Zh,useValue:this},{provide:Cy,useValue:this.componentFactoryResolver}],be(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Po.THROW_IF_NOT_FOUND,a=nn.Default){return r===Po||r===Zh||r===oh?this:this._r3Injector.get(r,o,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class hv extends M0{constructor(r){super(),this.moduleType=r,null!==Ce(r)&&function TE(n){const r=new Set;!function o(a){const u=Ce(a,!0),h=u.id;null!==h&&(function x0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${be(r)} vs ${be(r.name)}`)}(h,Wh.get(h),a),Wh.set(h,a));const _=Pa(u.imports);for(const A of _)r.has(A)||(r.add(A),o(A))}(n)}(r)}create(r){return new P0(this.moduleType,r)}}function $p(n,r){const o=n[r];return o===vr?void 0:o}function U0(n,r){const o=Qe();let a;const u=n+20;o.firstCreatePass?(a=function LE(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,a.onDestroy)):a=o.data[u];const h=a.factory||(a.factory=Ti(a.type)),_=Mn(Li);try{const A=ca(!1),P=h();return ca(A),function hg(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,ae(),u,P),P}finally{Mn(_)}}function V0(n,r,o){const a=n+20,u=ae(),h=gr(u,a);return Gp(u,a)?function O0(n,r,o,a,u,h){const _=r+o;return Is(n,_,u)?Ja(n,_+1,h?a.call(h,u):a(u)):$p(n,_+1)}(u,Cr(),r,h.transform,o,h):h.transform(o)}function B0(n,r,o,a){const u=n+20,h=ae(),_=gr(h,u);return Gp(h,u)?function k0(n,r,o,a,u,h,_){const A=r+o;return yl(n,A,u,h)?Ja(n,A+2,_?a.call(_,u,h):a(u,h)):$p(n,A+2)}(h,Cr(),r,_.transform,o,a,_):_.transform(o,a)}function Gp(n,r){return n[1].data[r].pure}function fv(n){return r=>{setTimeout(n,void 0,r)}}const ru=class jE extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,h=o||(()=>null),_=a;if(r&&"object"==typeof r){const P=r;u=P.next?.bind(P),h=P.error?.bind(P),_=P.complete?.bind(P)}this.__isAsync&&(h=fv(h),u&&(u=fv(u)),_&&(_=fv(_)));const A=super.subscribe({next:u,error:h,complete:_});return r instanceof p.w0&&r.add(A),A}};function HE(){return this._results[Gl()]()}class Dy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Gl(),a=Dy.prototype;a[o]||(a[o]=HE)}get changes(){return this._changes||(this._changes=new ru)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=oo(r);(this._changesDetected=!function Mu(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],h=r[a];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zp=(()=>{class n{}return n.__NG_ELEMENT_ID__=zE,n})();const $E=zp,GE=class extends $E{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r){const o=this._declarationTContainer.tViews,a=Oc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(o)),gu(o,a,r),new Hp(a)}};function zE(){return Ty(jt(),ae())}function Ty(n,r){return 4&n.type?new GE(r,n,zh(n,r)):null}let Ay=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZE,n})();function ZE(){return $0(jt(),ae())}const WE=Ay,j0=class extends WE{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return zh(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){const r=x(this._hostTNode,this._hostLView);if(ua(r)){const o=No(r,this._hostLView),a=ta(r);return new Eo(o[1].data[a+8],o)}return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=H0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){const u=r.createEmbeddedView(o||{});return this.insert(u,a),u}createComponent(r,o,a,u,h){const _=r&&!function js(n){return"function"==typeof n}(r);let A;if(_)A=o;else{const Pe=o||{};A=Pe.index,a=Pe.injector,u=Pe.projectableNodes,h=Pe.ngModuleRef}const P=_?r:new dv(Ve(r)),Y=a||this.parentInjector;if(!h&&null==P.ngModule){const it=(_?Y:this.parentInjector).get(Zh,null);it&&(h=it)}const re=P.create(Y,u,void 0,h);return this.insert(re.hostView,A),re}insert(r,o){const a=r._lView,u=a[1];if(function Nr(n){return ei(n[3])}(a)){const re=this.indexOf(r);if(-1!==re)this.detach(re);else{const Pe=a[3],it=new j0(Pe,Pe[6],Pe[3]);it.detach(it.indexOf(r))}}const h=this._adjustIndex(o),_=this._lContainer;!function am(n,r,o,a){const u=10+a,h=o.length;a>0&&(o[u-1][4]=r),a<h-10?(r[4]=o[u],Ha(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const _=r[17];null!==_&&o!==_&&function Vo(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(_,r);const A=r[19];null!==A&&A.insertView(n),r[2]|=128}(u,a,_,h);const A=df(h,_),P=a[11],Y=Pd(P,_[7]);return null!==Y&&function Zy(n,r,o,a,u,h){a[0]=u,a[6]=r,Sc(n,a,o,1,u,h)}(u,_[6],P,a,Y,A),r.attachToViewContainerRef(),Ha(pv(_),h,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=H0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Md(this._lContainer,o);a&&(xt(pv(this._lContainer),o),Oa(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=Md(this._lContainer,o);return a&&null!=xt(pv(this._lContainer),o)?new Hp(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function H0(n){return n[8]}function pv(n){return n[8]||(n[8]=[])}function $0(n,r){let o;const a=r[n.index];if(ei(a))o=a;else{let u;if(8&n.type)u=U(a);else{const h=r[11];u=h.createComment("");const _=Ut(n,r);lu(h,Pd(h,_),u,function Yy(n,r){return fr(n)?n.nextSibling(r):r.nextSibling}(h,_),!1)}r[n.index]=o=Ju(a,r,u,n),th(r,o)}return new j0(o,n,r)}class mv{constructor(r){this.queryList=r,this.matches=null}clone(){return new mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class gv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let h=0;h<a;h++){const _=o.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new gv(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==J0(r,o).matches&&this.queries[o].setDirty()}}class G0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class yv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(r,u);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new yv(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class _v{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new _v(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(r,o,YE(o,h)),this.matchTNodeWithReadOption(r,o,Tn(o,r,h,!1,!1))}else a===zp?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Tn(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===jp||u===Ay||u===zp&&4&o.type)this.addMatch(o.index,-2);else{const h=Tn(o,r,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function YE(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function JE(n,r,o,a){return-1===o?function QE(n,r){return 11&n.type?zh(n,r):4&n.type?Ty(n,r):null}(r,n):-2===o?function XE(n,r,o){return o===jp?zh(r,n):o===zp?Ty(r,n):o===Ay?$0(r,n):void 0}(n,r,a):Fr(n,n[1],o,r)}function z0(n,r,o,a){const u=r[19].queries[a];if(null===u.matches){const h=n.data,_=o.matches,A=[];for(let P=0;P<_.length;P+=2){const Y=_[P];A.push(Y<0?null:JE(r,h[Y],_[P+1],o.metadata.read))}u.matches=A}return u.matches}function vv(n,r,o,a){const u=n.queries.getByIndex(o),h=u.matches;if(null!==h){const _=z0(n,r,u,o);for(let A=0;A<h.length;A+=2){const P=h[A];if(P>0)a.push(_[A/2]);else{const Y=h[A+1],re=r[-P];for(let Pe=10;Pe<re.length;Pe++){const it=re[Pe];it[17]===it[3]&&vv(it[1],it,Y,a)}if(null!==re[9]){const Pe=re[9];for(let it=0;it<Pe.length;it++){const wt=Pe[it];vv(wt[1],wt,Y,a)}}}}}return a}function Z0(n){const r=ae(),o=Qe(),a=vt();Vt(a+1);const u=J0(o,a);if(n.dirty&&wr(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const h=u.crossesNgTemplate?vv(o,r,a,[]):z0(o,r,u,a);n.reset(h,mE),n.notifyOnChanges()}return!0}return!1}function W0(n,r,o){const a=Qe();a.firstCreatePass&&(Q0(a,new G0(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),Y0(a,ae(),r)}function K0(n,r,o,a){const u=Qe();if(u.firstCreatePass){const h=jt();Q0(u,new G0(r,o,a),h.index),function tw(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(u,n),2==(2&o)&&(u.staticContentQueries=!0)}Y0(u,ae(),o)}function q0(){return function ew(n,r){return n[19].queries[r].queryList}(ae(),vt())}function Y0(n,r,o){const a=new Dy(4==(4&o));Fm(n,r,a,a.destroy),null===r[19]&&(r[19]=new gv),r[19].queries.push(new mv(a))}function Q0(n,r,o){null===n.queries&&(n.queries=new yv),n.queries.track(new _v(r,o))}function J0(n,r){return n.queries.getByIndex(r)}function X0(n,r){return Ty(n,r)}function xy(...n){}const gb=new ws("Application Initializer");let Dv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=xy,this.reject=xy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Ag(h))o.push(h);else if(mp(h)){const _=new Promise((A,P)=>{h.subscribe({complete:A,error:P})});o.push(_)}}Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(j(gb,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yb=new ws("AppId",{providedIn:"root",factory:function _b(){return`${Tv()}${Tv()}${Tv()}`}});function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vb=new ws("Platform Initializer"),bb=new ws("Platform ID"),Eb=new ws("appBootstrapListener");let wb=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();const Av=new ws("LocaleId",{providedIn:"root",factory:()=>Fe(Av,nn.Optional|nn.SkipSelf)||function _w(){return typeof $localize<"u"&&$localize.locale||go}()}),vw=new ws("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Ew=(()=>{class n{compileModuleSync(o){return new hv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=Pa(Ce(o).declarations).reduce((_,A)=>{const P=Ve(A);return P&&_.push(new dv(P)),_},[]);return new bw(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw=(()=>Promise.resolve(0))();function Sv(n){typeof Zone>"u"?Cw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Iw(){let n=Sn.requestAnimationFrame,r=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Aw(n){const r=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xv(n),n.isCheckStableRunning=!0,Mv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,h,_,A)=>{try{return Cb(n),o.invokeTask(u,h,_,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),Ib(n)}},onInvoke:(o,a,u,h,_,A,P)=>{try{return Cb(n),o.invoke(u,h,_,A,P)}finally{n.shouldCoalesceRunChangeDetection&&r(),Ib(n)}},onHasTask:(o,a,u,h)=>{o.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,xv(n),Mv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,u,h)=>(o.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,r,Dw,xy,xy);try{return h.runTask(_,o,a)}finally{h.cancelTask(_)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Dw={};function Mv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Cb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ib(n){n._nesting--,Mv(n)}class Sw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}let Db=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bl.assertNotInAngularZone(),Sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,u){return[]}}return n.\u0275fac=function(o){return new(o||n)(j(bl))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),Tb=(()=>{class n{constructor(){this._applications=new Map,Rv.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Rv.findTestabilityInTree(this,o,a)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();class Mw{addToWindow(r){}findTestabilityInTree(r,o,a){return null}}function xw(n){Rv=n}let El,Rv=new Mw;const Ab=new ws("AllowMultipleToken");class Ow{constructor(r,o){this.name=r,this.token=o}}function Sb(n,r,o=[]){const a=`Platform: ${r}`,u=new ws(a);return(h=[])=>{let _=Mb();if(!_||_.injector.get(Ab,!1))if(n)n(o.concat(h).concat({provide:u,useValue:!0}));else{const A=o.concat(h).concat({provide:u,useValue:!0},{provide:Hc,useValue:"platform"});!function kw(n){if(El&&!El.destroyed&&!El.injector.get(Ab,!1))throw new Te(400,"");El=n.get(xb);const r=n.get(vb,null);r&&r.forEach(o=>o())}(Po.create({providers:A,name:a}))}return function Nw(n){const r=Mb();if(!r)throw new Te(401,"");return r}()}}function Mb(){return El&&!El.destroyed?El:null}let xb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const A=function Fw(n,r){let o;return o="noop"===n?new Sw:("zone.js"===n?void 0:n)||new bl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!r?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!r?.ngZoneRunCoalescing}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),P=[{provide:bl,useValue:A}];return A.run(()=>{const Y=Po.create({providers:P,parent:this.injector,name:o.moduleType.name}),re=o.create(Y),Pe=re.injector.get(Ol,null);if(!Pe)throw new Te(402,"");return A.runOutsideAngular(()=>{const it=A.onError.subscribe({next:wt=>{Pe.handleError(wt)}});re.onDestroy(()=>{Ov(this._modules,re),it.unsubscribe()})}),function Lw(n,r,o){try{const a=o();return Ag(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(Pe,A,()=>{const it=re.injector.get(Dv);return it.runInitializers(),it.donePromise.then(()=>(function Lp(n){$t(n,"Expected localeId to be defined"),"string"==typeof n&&(fy=n.toLowerCase().replace(/_/g,"-"))}(re.injector.get(Av,go)||go),this._moduleDoBootstrap(re),re))})})}bootstrapModule(o,a=[]){const u=Rb({},a);return function Rw(n,r,o){const a=new hv(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const a=o.injector.get(Pv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Te(403,"");o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(j(Po))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();function Rb(n,r){return Array.isArray(r)?r.reduce(Rb,n):{...n,...r}}let Pv=(()=>{class n{constructor(o,a,u,h,_){this._zone=o,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new $.y(Y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Y.next(this._stable),Y.complete()})}),P=new $.y(Y=>{let re;this._zone.runOutsideAngular(()=>{re=this._zone.onStable.subscribe(()=>{bl.assertNotInAngularZone(),Sv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Y.next(!0))})})});const Pe=this._zone.onUnstable.subscribe(()=>{bl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Y.next(!1)}))});return()=>{re.unsubscribe(),Pe.unsubscribe()}});this.isStable=(0,pe.T)(A,P.pipe((0,v.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new Te(405,"");let u;u=o instanceof w0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const h=function Pw(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Zh),A=u.create(Po.NULL,[],a||u.selector,h),P=A.location.nativeElement,Y=A.injector.get(Db,null),re=Y&&A.injector.get(Tb);return Y&&re&&re.registerApplication(P,Y),A.onDestroy(()=>{this.detachView(A.hostView),Ov(this.components,A),re&&re.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Ov(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Eb,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(j(bl),j(Po),j(Ol),j(Cy),j(Dv))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ov(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let Ob=!0,kb=!1;function Vw(){return kb=!0,Ob}function Bw(){if(kb)throw new Error("Cannot enable prod mode after platform setup.");Ob=!1}let jw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Hw,n})();function Hw(n){return function $w(n,r,o){if(ts(n)&&!o){const a=nr(n.index,r);return new Hp(a,a)}return 47&n.type?new Hp(r[16],r):null}(jt(),ae(),16==(16&n))}class Ub{constructor(){}supports(r){return bu(r)}create(r){return new qw(r)}}const Kw=(n,r)=>r;class qw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Kw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,h=null;for(;o||a;){const _=!a||o&&o.currentIndex<Bb(a,u,h)?o:a,A=Bb(_,u,h),P=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{h||(h=[]);const Y=A-u,re=P-u;if(Y!=re){for(let it=0;it<Y;it++){const wt=it<h.length?h[it]:h[it]=0,Gt=wt+it;re<=Gt&&Gt<Y&&(h[it]=wt+1)}h[_.previousIndex]=re-Y}}A!==P&&r(_,A,P)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!bu(r))throw new Te(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,h,_,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)h=r[A],_=this._trackByFn(A,h),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,h,_,A)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,A),a=!0),o=o._next}else u=0,function lg(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Gl()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,A=>{_=this._trackByFn(u,A),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,A,_,u)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,_,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,u)):r=this._addAfter(new Yw(o,a),h,u),r}_verifyReinsertion(r,o,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,h=r._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Vb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Yw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Vb{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new Qw,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(n,r,o){const a=n.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class jb{constructor(){}supports(r){return r instanceof Map||zc(r)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||zc(r)))throw new Te(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const a=new Xw(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class Xw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Uv([new Ub])}let Uv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Hb()),deps:[[n,new Fi,new sr]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new Te(901,"")}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:Hb}),n})();function $b(){return new Vv([new jb])}let Vv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||$b()),deps:[[n,new Fi,new sr]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(a)return a;throw new Te(901,"")}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:$b}),n})();const nC=Sb(null,"core",[{provide:bb,useValue:"unknown"},{provide:xb,deps:[Po]},{provide:Tb,deps:[]},{provide:wb,deps:[]}]);let rC=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(j(Pv))},n.\u0275mod=st({type:n}),n.\u0275inj=rn({}),n})()},4006:(Wt,qe,D)=>{D.d(qe,{F:()=>lr,Fj:()=>Ue,JJ:()=>nn,On:()=>ts,a5:()=>kn,kI:()=>mt,sg:()=>Wr,u5:()=>nr});var c=D(4650),p=D(6895),$=D(8996),pe=D(4128),v=D(4004);let Ae=(()=>{class Z{constructor(R,le){this._renderer=R,this._elementRef=le,this.onChange=Ft=>{},this.onTouched=()=>{}}setProperty(R,le){this._renderer.setProperty(this._elementRef.nativeElement,R,le)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(c.Qsj),c.Y36(c.SBq))},Z.\u0275dir=c.lG2({type:Z}),Z})(),Ne=(()=>{class Z extends Ae{}return Z.\u0275fac=function(){let F;return function(le){return(F||(F=c.n5z(Z)))(le||Z)}}(),Z.\u0275dir=c.lG2({type:Z,features:[c.qOj]}),Z})();const be=new c.OlP("NgValueAccessor"),he={provide:be,useExisting:(0,c.Gpc)(()=>Ue),multi:!0},ft=new c.OlP("CompositionEventMode");let Ue=(()=>{class Z extends Ae{constructor(R,le,Ft){super(R,le),this._compositionMode=Ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const Z=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ft,8))},Z.\u0275dir=c.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,le){1&R&&c.NdJ("input",function(Fn){return le._handleInput(Fn.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Fn){return le._compositionEnd(Fn.target.value)})},features:[c._Bn([he]),c.qOj]}),Z})();function Te(Z){return null==Z||0===Z.length}function Ze(Z){return null!=Z&&"number"==typeof Z.length}const xe=new c.OlP("NgValidators"),nt=new c.OlP("NgAsyncValidators"),De=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(F){return function Re(Z){return F=>{if(Te(F.value)||Te(Z))return null;const R=parseFloat(F.value);return!isNaN(R)&&R<Z?{min:{min:Z,actual:F.value}}:null}}(F)}static max(F){return function ve(Z){return F=>{if(Te(F.value)||Te(Z))return null;const R=parseFloat(F.value);return!isNaN(R)&&R>Z?{max:{max:Z,actual:F.value}}:null}}(F)}static required(F){return function ge(Z){return Te(Z.value)?{required:!0}:null}(F)}static requiredTrue(F){return function lt(Z){return!0===Z.value?null:{required:!0}}(F)}static email(F){return function ke(Z){return Te(Z.value)||De.test(Z.value)?null:{email:!0}}(F)}static minLength(F){return function Ie(Z){return F=>Te(F.value)||!Ze(F.value)?null:F.value.length<Z?{minlength:{requiredLength:Z,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function ot(Z){return F=>Ze(F.value)&&F.value.length>Z?{maxlength:{requiredLength:Z,actualLength:F.value.length}}:null}(F)}static pattern(F){return function Me(Z){if(!Z)return Je;let F,R;return"string"==typeof Z?(R="","^"!==Z.charAt(0)&&(R+="^"),R+=Z,"$"!==Z.charAt(Z.length-1)&&(R+="$"),F=new RegExp(R)):(R=Z.toString(),F=Z),le=>{if(Te(le.value))return null;const Ft=le.value;return F.test(Ft)?null:{pattern:{requiredPattern:R,actualValue:Ft}}}}(F)}static nullValidator(F){return null}static compose(F){return $t(F)}static composeAsync(F){return Rt(F)}}function Je(Z){return null}function ct(Z){return null!=Z}function $e(Z){const F=(0,c.QGY)(Z)?(0,$.D)(Z):Z;return(0,c.CqO)(F),F}function Le(Z){let F={};return Z.forEach(R=>{F=null!=R?{...F,...R}:F}),0===Object.keys(F).length?null:F}function dt(Z,F){return F.map(R=>R(Z))}function Ct(Z){return Z.map(F=>function tt(Z){return!Z.validate}(F)?F:R=>F.validate(R))}function $t(Z){if(!Z)return null;const F=Z.filter(ct);return 0==F.length?null:function(R){return Le(dt(R,F))}}function Tt(Z){return null!=Z?$t(Ct(Z)):null}function Rt(Z){if(!Z)return null;const F=Z.filter(ct);return 0==F.length?null:function(R){const le=dt(R,F).map($e);return(0,pe.D)(le).pipe((0,v.U)(Le))}}function zt(Z){return null!=Z?Rt(Ct(Z)):null}function Xe(Z,F){return null===Z?[F]:Array.isArray(Z)?[...Z,F]:[Z,F]}function Dt(Z){return Z._rawValidators}function Lt(Z){return Z._rawAsyncValidators}function rn(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function En(Z,F){return Array.isArray(Z)?Z.includes(F):Z===F}function rr(Z,F){const R=rn(F);return rn(Z).forEach(Ft=>{En(R,Ft)||R.push(Ft)}),R}function hr(Z,F){return rn(F).filter(R=>!En(Z,R))}class Vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Tt(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,R){return!!this.control&&this.control.hasError(F,R)}getError(F,R){return this.control?this.control.getError(F,R):null}}class Wn extends Vn{get formDirective(){return null}get path(){return null}}class kn extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let nn=(()=>{class Z extends class Gn{constructor(F){this._cd=F}is(F){return"submitted"===F?!!this._cd?.submitted:!!this._cd?.control?.[F]}}{constructor(R){super(R)}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(kn,2))},Z.\u0275dir=c.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,le){2&R&&c.ekj("ng-untouched",le.is("untouched"))("ng-touched",le.is("touched"))("ng-pristine",le.is("pristine"))("ng-dirty",le.is("dirty"))("ng-valid",le.is("valid"))("ng-invalid",le.is("invalid"))("ng-pending",le.is("pending"))},features:[c.qOj]}),Z})();function Qt(Z,F){T(Z,F),F.valueAccessor.writeValue(Z.value),function J(Z,F){F.valueAccessor.registerOnChange(R=>{Z._pendingValue=R,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Et(Z,F)})}(Z,F),function kt(Z,F){const R=(le,Ft)=>{F.valueAccessor.writeValue(le),Ft&&F.viewToModelUpdate(le)};Z.registerOnChange(R),F._registerOnDestroy(()=>{Z._unregisterOnChange(R)})}(Z,F),function He(Z,F){F.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Et(Z,F),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,F),function I(Z,F){if(F.valueAccessor.setDisabledState){const R=le=>{F.valueAccessor.setDisabledState(le)};Z.registerOnDisabledChange(R),F._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(R)})}}(Z,F)}function Ot(Z,F,R=!0){const le=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(le),F.valueAccessor.registerOnTouched(le)),H(Z,F),Z&&(F._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function O(Z,F){Z.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(F)})}function T(Z,F){const R=Dt(Z);null!==F.validator?Z.setValidators(Xe(R,F.validator)):"function"==typeof R&&Z.setValidators([R]);const le=Lt(Z);null!==F.asyncValidator?Z.setAsyncValidators(Xe(le,F.asyncValidator)):"function"==typeof le&&Z.setAsyncValidators([le]);const Ft=()=>Z.updateValueAndValidity();O(F._rawValidators,Ft),O(F._rawAsyncValidators,Ft)}function H(Z,F){let R=!1;if(null!==Z){if(null!==F.validator){const Ft=Dt(Z);if(Array.isArray(Ft)&&Ft.length>0){const Fn=Ft.filter(Ur=>Ur!==F.validator);Fn.length!==Ft.length&&(R=!0,Z.setValidators(Fn))}}if(null!==F.asyncValidator){const Ft=Lt(Z);if(Array.isArray(Ft)&&Ft.length>0){const Fn=Ft.filter(Ur=>Ur!==F.asyncValidator);Fn.length!==Ft.length&&(R=!0,Z.setAsyncValidators(Fn))}}}const le=()=>{};return O(F._rawValidators,le),O(F._rawAsyncValidators,le),R}function Et(Z,F){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function hn(Z,F){T(Z,F)}function Ve(Z,F){Z._syncPendingControls(),F.forEach(R=>{const le=R.control;"submit"===le.updateOn&&le._pendingChange&&(R.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function at(Z,F){const R=Z.indexOf(F);R>-1&&Z.splice(R,1)}const _e="VALID",et="INVALID",bt="PENDING",Xt="DISABLED";function sn(Z){return(Gr(Z)?Z.validators:Z)||null}function zn(Z){return Array.isArray(Z)?Tt(Z):Z||null}function mn(Z,F){return(Gr(F)?F.asyncValidators:Z)||null}function ii(Z){return Array.isArray(Z)?zt(Z):Z||null}function Gr(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}const Un=Z=>Z instanceof Ui,ai=Z=>Z instanceof fi;function Wi(Z){return Un(Z)?Z.value:Z.getRawValue()}function hi(Z,F){const R=ai(Z),le=Z.controls;if(!(R?Object.keys(le):le).length)throw new c.vHH(1e3,"");if(!le[F])throw new c.vHH(1001,"")}function jr(Z,F){ai(Z),Z._forEachChild((le,Ft)=>{if(void 0===F[Ft])throw new c.vHH(1002,"")})}class Sr{constructor(F,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=R,this._composedValidatorFn=zn(this._rawValidators),this._composedAsyncValidatorFn=ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===_e}get invalid(){return this.status===et}get pending(){return this.status==bt}get disabled(){return this.status===Xt}get enabled(){return this.status!==Xt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=zn(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=ii(F)}addValidators(F){this.setValidators(rr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(rr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(hr(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(hr(F,this._rawAsyncValidators))}hasValidator(F){return En(this._rawValidators,F)}hasAsyncValidator(F){return En(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=bt,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const R=this._parentMarkedDirty(F.onlySelf);this.status=Xt,this.errors=null,this._forEachChild(le=>{le.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:R}),this._onDisabledChange.forEach(le=>le(!0))}enable(F={}){const R=this._parentMarkedDirty(F.onlySelf);this.status=_e,this._forEachChild(le=>{le.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:R}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_e||this.status===bt)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xt:_e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=bt,this._hasOwnPendingAsyncValidator=!0;const R=$e(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,R={}){this.errors=F,this._updateControlsErrors(!1!==R.emitEvent)}get(F){return function An(Z,F,R){if(null==F||(Array.isArray(F)||(F=F.split(R)),Array.isArray(F)&&0===F.length))return null;let le=Z;return F.forEach(Ft=>{le=ai(le)?le.controls.hasOwnProperty(Ft)?le.controls[Ft]:null:(Z=>Z instanceof Mr)(le)&&le.at(Ft)||null}),le}(this,F,".")}getError(F,R){const le=R?this.get(R):this;return le&&le.errors?le.errors[F]:null}hasError(F,R){return!!this.getError(F,R)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Xt:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bt)?bt:this._anyControlsHaveStatus(et)?et:_e}_anyControlsHaveStatus(F){return this._anyControls(R=>R.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Gr(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ui extends Sr{constructor(F=null,R,le){super(sn(R),mn(le,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gr(R)&&R.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(F)?F.value:F)}setValue(F,R={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(F,R={}){this.setValue(F,R)}reset(F=this.defaultValue,R={}){this._applyFormState(F),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){at(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){at(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class fi extends Sr{constructor(F,R,le){super(sn(R),mn(le,R)),this.controls=F,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,R){return this.controls[F]?this.controls[F]:(this.controls[F]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(F,R,le={}){this.registerControl(F,R),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(F,R={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(F,R,le={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],R&&this.registerControl(F,R),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,R={}){jr(this,F),Object.keys(F).forEach(le=>{hi(this,le),this.controls[le].setValue(F[le],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(F,R={}){null!=F&&(Object.keys(F).forEach(le=>{this.controls[le]&&this.controls[le].patchValue(F[le],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(F={},R={}){this._forEachChild((le,Ft)=>{le.reset(F[Ft],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(F,R,le)=>(F[le]=Wi(R),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(R,le)=>!!le._syncPendingControls()||R);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(R=>{const le=this.controls[R];le&&F(le,R)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const R of Object.keys(this.controls)){const le=this.controls[R];if(this.contains(R)&&F(le))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,R,le)=>((R.enabled||this.disabled)&&(F[le]=R.value),F))}_reduceChildren(F,R){let le=F;return this._forEachChild((Ft,Fn)=>{le=R(le,Ft,Fn)}),le}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Mr extends Sr{constructor(F,R,le){super(sn(R),mn(le,R)),this.controls=F,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,R={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(F,R,le={}){this.controls.splice(F,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(F,R={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(F,R,le={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),R&&(this.controls.splice(F,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,R={}){jr(this,F),F.forEach((le,Ft)=>{hi(this,Ft),this.at(Ft).setValue(le,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(F,R={}){null!=F&&(F.forEach((le,Ft)=>{this.at(Ft)&&this.at(Ft).patchValue(le,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(F=[],R={}){this._forEachChild((le,Ft)=>{le.reset(F[Ft],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(F=>Wi(F))}clear(F={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((R,le)=>!!le._syncPendingControls()||R,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((R,le)=>{F(R,le)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(R=>R.enabled&&F(R))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}const Xi={provide:Wn,useExisting:(0,c.Gpc)(()=>lr)},Vi=(()=>Promise.resolve(null))();let lr=(()=>{class Z extends Wn{constructor(R,le){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new fi({},Tt(R),zt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){Vi.then(()=>{const le=this._findContainer(R.path);R.control=le.registerControl(R.name,R.control),Qt(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){Vi.then(()=>{const le=this._findContainer(R.path);le&&le.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){Vi.then(()=>{const le=this._findContainer(R.path),Ft=new fi({});hn(Ft,R),le.registerControl(R.name,Ft),Ft.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){Vi.then(()=>{const le=this._findContainer(R.path);le&&le.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,le){Vi.then(()=>{this.form.get(R.path).setValue(le)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,Ve(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(xe,10),c.Y36(nt,10))},Z.\u0275dir=c.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,le){1&R&&c.NdJ("submit",function(Fn){return le.onSubmit(Fn)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Xi]),c.qOj]}),Z})();const ei={provide:kn,useExisting:(0,c.Gpc)(()=>ts)},Os=(()=>Promise.resolve(null))();let ts=(()=>{class Z extends kn{constructor(R,le,Ft,Fn,Ur){super(),this._changeDetectorRef=Ur,this.control=new Ui,this._registered=!1,this.update=new c.vpe,this._parent=R,this._setValidators(le),this._setAsyncValidators(Ft),this.valueAccessor=function yt(Z,F){if(!F)return null;let R,le,Ft;return Array.isArray(F),F.forEach(Fn=>{Fn.constructor===Ue?R=Fn:function ce(Z){return Object.getPrototypeOf(Z.constructor)===Ne}(Fn)?le=Fn:Ft=Fn}),Ft||le||R||null}(0,Fn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const le=R.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),function se(Z,F){if(!Z.hasOwnProperty("model"))return!1;const R=Z.model;return!!R.isFirstChange()||!Object.is(F,R.currentValue)}(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Os.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const le=R.isDisabled.currentValue,Ft=""===le||le&&"false"!==le;Os.then(()=>{Ft&&!this.control.disabled?this.control.disable():!Ft&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?function Ln(Z,F){return[...F.path,Z]}(R,this._parent):[R]}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(Wn,9),c.Y36(xe,10),c.Y36(nt,10),c.Y36(be,10),c.Y36(c.sBO,8))},Z.\u0275dir=c.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ei]),c.qOj,c.TTD]}),Z})(),zr=(()=>{class Z{}return Z.\u0275fac=function(R){return new(R||Z)},Z.\u0275mod=c.oAB({type:Z}),Z.\u0275inj=c.cJS({}),Z})();const ur={provide:Wn,useExisting:(0,c.Gpc)(()=>Wr)};let Wr=(()=>{class Z extends Wn{constructor(R,le){super(),this.validators=R,this.asyncValidators=le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(R),this._setAsyncValidators(le)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(H(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const le=this.form.get(R.path);return Qt(le,R),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),le}getControl(R){return this.form.get(R.path)}removeControl(R){Ot(R.control||null,R,!1),at(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,le){this.form.get(R.path).setValue(le)}onSubmit(R){return this.submitted=!0,Ve(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const le=R.control,Ft=this.form.get(R.path);le!==Ft&&(Ot(le||null,R),Un(Ft)&&(Qt(Ft,R),R.control=Ft))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const le=this.form.get(R.path);hn(le,R),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const le=this.form.get(R.path);le&&function on(Z,F){return H(Z,F)}(le,R)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){T(this.form,this),this._oldForm&&H(this._oldForm,this)}_checkFormPresent(){}}return Z.\u0275fac=function(R){return new(R||Z)(c.Y36(xe,10),c.Y36(nt,10))},Z.\u0275dir=c.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(R,le){1&R&&c.NdJ("submit",function(Fn){return le.onSubmit(Fn)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ur]),c.qOj,c.TTD]}),Z})(),gr=(()=>{class Z{}return Z.\u0275fac=function(R){return new(R||Z)},Z.\u0275mod=c.oAB({type:Z}),Z.\u0275inj=c.cJS({imports:[[zr]]}),Z})(),nr=(()=>{class Z{}return Z.\u0275fac=function(R){return new(R||Z)},Z.\u0275mod=c.oAB({type:Z}),Z.\u0275inj=c.cJS({imports:[gr]}),Z})()},9101:(Wt,qe,D)=>{D.d(qe,{lW:()=>he,ot:()=>ft,zs:()=>Se});var c=D(4650),p=D(3238),$=D(8019),pe=D(1516);const v=["mat-button",""],Ae=["*"],Oe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],fe=(0,p.pj)((0,p.Id)((0,p.Kr)(class{constructor(Ue){this._elementRef=Ue}})));let he=(()=>{class Ue extends fe{constructor(Ze,xe,nt){super(Ze),this._focusMonitor=xe,this._animationMode=nt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const De of Oe)this._hasHostAttributes(De)&&this._getHostElement().classList.add(De);Ze.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ze,xe){Ze?this._focusMonitor.focusVia(this._getHostElement(),Ze,xe):this._getHostElement().focus(xe)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Ze){return Ze.some(xe=>this._getHostElement().hasAttribute(xe))}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(c.Y36(c.SBq),c.Y36($.tE),c.Y36(pe.Qb,8))},Ue.\u0275cmp=c.Xpm({type:Ue,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Ze,xe){if(1&Ze&&c.Gf(p.wG,5),2&Ze){let nt;c.iGM(nt=c.CRH())&&(xe.ripple=nt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Ze,xe){2&Ze&&(c.uIk("disabled",xe.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===xe._animationMode)("mat-button-disabled",xe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:v,ngContentSelectors:Ae,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Ze,xe){1&Ze&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&Ze&&(c.xp6(2),c.ekj("mat-button-ripple-round",xe.isRoundButton||xe.isIconButton),c.Q6J("matRippleDisabled",xe._isRippleDisabled())("matRippleCentered",xe.isIconButton)("matRippleTrigger",xe._getHostElement()))},directives:[p.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ue})(),Se=(()=>{class Ue extends he{constructor(Ze,xe,nt,De){super(xe,Ze,nt),this._ngZone=De,this._haltDisabledEvents=mt=>{this.disabled&&(mt.preventDefault(),mt.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(c.Y36($.tE),c.Y36(c.SBq),c.Y36(pe.Qb,8),c.Y36(c.R0b,8))},Ue.\u0275cmp=c.Xpm({type:Ue,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(Ze,xe){2&Ze&&(c.uIk("tabindex",xe.disabled?-1:xe.tabIndex)("disabled",xe.disabled||null)("aria-disabled",xe.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===xe._animationMode)("mat-button-disabled",xe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:v,ngContentSelectors:Ae,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Ze,xe){1&Ze&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&Ze&&(c.xp6(2),c.ekj("mat-button-ripple-round",xe.isRoundButton||xe.isIconButton),c.Q6J("matRippleDisabled",xe._isRippleDisabled())("matRippleCentered",xe.isIconButton)("matRippleTrigger",xe._getHostElement()))},directives:[p.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ue})(),ft=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=c.oAB({type:Ue}),Ue.\u0275inj=c.cJS({imports:[[p.si,p.BQ],p.BQ]}),Ue})()},3546:(Wt,qe,D)=>{D.d(qe,{QW:()=>lt,a8:()=>Re,dn:()=>fe,hq:()=>ft});var c=D(4650),p=D(1516),$=D(3238);const pe=["*",[["mat-card-footer"]]],v=["*","mat-card-footer"];let fe=(()=>{class ke{}return ke.\u0275fac=function(ot){return new(ot||ke)},ke.\u0275dir=c.lG2({type:ke,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),ke})(),ft=(()=>{class ke{constructor(){this.align="start"}}return ke.\u0275fac=function(ot){return new(ot||ke)},ke.\u0275dir=c.lG2({type:ke,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(ot,Me){2&ot&&c.ekj("mat-card-actions-align-end","end"===Me.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),ke})(),Re=(()=>{class ke{constructor(ot){this._animationMode=ot}}return ke.\u0275fac=function(ot){return new(ot||ke)(c.Y36(p.Qb,8))},ke.\u0275cmp=c.Xpm({type:ke,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(ot,Me){2&ot&&c.ekj("_mat-animation-noopable","NoopAnimations"===Me._animationMode)},exportAs:["matCard"],ngContentSelectors:v,decls:2,vars:0,template:function(ot,Me){1&ot&&(c.F$t(pe),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),ke})(),lt=(()=>{class ke{}return ke.\u0275fac=function(ot){return new(ot||ke)},ke.\u0275mod=c.oAB({type:ke}),ke.\u0275inj=c.cJS({imports:[[$.BQ],$.BQ]}),ke})()},3238:(Wt,qe,D)=>{D.d(qe,{rD:()=>Dt,BQ:()=>mt,wG:()=>Mn,si:()=>ar,pj:()=>ke,Kr:()=>Ie,Id:()=>lt,FD:()=>Me,sb:()=>ot});var c=D(4650),p=D(8019),$=D(445),v=D(6895),Ae=D(3353),Ne=D(1281),be=D(7579),Oe=D(1516);const De=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function nt(){return!0}});let mt=(()=>{class Ot{constructor(I,T,H){this._sanityChecks=T,this._document=H,this._hasDoneGlobalChecks=!1,I._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(I){return!(0,Ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[I])}}return Ot.\u0275fac=function(I){return new(I||Ot)(c.LFG(p.qm),c.LFG(De,8),c.LFG(v.K0))},Ot.\u0275mod=c.oAB({type:Ot}),Ot.\u0275inj=c.cJS({imports:[[$.vT],$.vT]}),Ot})();function lt(Ot){return class extends Ot{constructor(...O){super(...O),this._disabled=!1}get disabled(){return this._disabled}set disabled(O){this._disabled=(0,Ne.Ig)(O)}}}function ke(Ot,O){return class extends Ot{constructor(...I){super(...I),this.defaultColor=O,this.color=O}get color(){return this._color}set color(I){const T=I||this.defaultColor;T!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),T&&this._elementRef.nativeElement.classList.add(`mat-${T}`),this._color=T)}}}function Ie(Ot){return class extends Ot{constructor(...O){super(...O),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(O){this._disableRipple=(0,Ne.Ig)(O)}}}function ot(Ot,O=0){return class extends Ot{constructor(...I){super(...I),this._tabIndex=O,this.defaultTabIndex=O}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(I){this._tabIndex=null!=I?(0,Ne.su)(I):this.defaultTabIndex}}}function Me(Ot){return class extends Ot{constructor(...O){super(...O),this.stateChanges=new be.x,this.errorState=!1}updateErrorState(){const O=this.errorState,J=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);J!==O&&(this.errorState=J,this.stateChanges.next())}}}let Dt=(()=>{class Ot{isErrorState(I,T){return!!(I&&I.invalid&&(I.touched||T&&T.submitted))}}return Ot.\u0275fac=function(I){return new(I||Ot)},Ot.\u0275prov=c.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();class hr{constructor(O,I,T){this._renderer=O,this.element=I,this.config=T,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Vn={enterDuration:225,exitDuration:150},kn=(0,Ae.i$)({passive:!0}),Gn=["mousedown","touchstart"],Dn=["mouseup","mouseleave","touchend","touchcancel"];class or{constructor(O,I,T,H){this._target=O,this._ngZone=I,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,H.isBrowser&&(this._containerElement=(0,Ne.fI)(T))}fadeInRipple(O,I,T={}){const H=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),J={...Vn,...T.animation};T.centered&&(O=H.left+H.width/2,I=H.top+H.height/2);const He=T.radius||function Bn(Ot,O,I){const T=Math.max(Math.abs(Ot-I.left),Math.abs(Ot-I.right)),H=Math.max(Math.abs(O-I.top),Math.abs(O-I.bottom));return Math.sqrt(T*T+H*H)}(O,I,H),Et=O-H.left,kt=I-H.top,hn=J.enterDuration,on=document.createElement("div");on.classList.add("mat-ripple-element"),on.style.left=Et-He+"px",on.style.top=kt-He+"px",on.style.height=2*He+"px",on.style.width=2*He+"px",null!=T.color&&(on.style.backgroundColor=T.color),on.style.transitionDuration=`${hn}ms`,this._containerElement.appendChild(on),function nn(Ot){window.getComputedStyle(Ot).getPropertyValue("opacity")}(on),on.style.transform="scale(1)";const an=new hr(this,on,T);return an.state=0,this._activeRipples.add(an),T.persistent||(this._mostRecentTransientRipple=an),this._runTimeoutOutsideZone(()=>{const st=an===this._mostRecentTransientRipple;an.state=1,!T.persistent&&(!st||!this._isPointerDown)&&an.fadeOut()},hn),an}fadeOutRipple(O){const I=this._activeRipples.delete(O);if(O===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!I)return;const T=O.element,H={...Vn,...O.config.animation};T.style.transitionDuration=`${H.exitDuration}ms`,T.style.opacity="0",O.state=2,this._runTimeoutOutsideZone(()=>{O.state=3,T.remove()},H.exitDuration)}fadeOutAll(){this._activeRipples.forEach(O=>O.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(O=>{O.config.persistent||O.fadeOut()})}setupTriggerEvents(O){const I=(0,Ne.fI)(O);!I||I===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=I,this._registerEvents(Gn))}handleEvent(O){"mousedown"===O.type?this._onMousedown(O):"touchstart"===O.type?this._onTouchStart(O):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Dn),this._pointerUpEventsRegistered=!0)}_onMousedown(O){const I=(0,p.X6)(O),T=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!I&&!T&&(this._isPointerDown=!0,this.fadeInRipple(O.clientX,O.clientY,this._target.rippleConfig))}_onTouchStart(O){if(!this._target.rippleDisabled&&!(0,p.yG)(O)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const I=O.changedTouches;for(let T=0;T<I.length;T++)this.fadeInRipple(I[T].clientX,I[T].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(O=>{!O.config.persistent&&(1===O.state||O.config.terminateOnPointerUp&&0===O.state)&&O.fadeOut()}))}_runTimeoutOutsideZone(O,I=0){this._ngZone.runOutsideAngular(()=>setTimeout(O,I))}_registerEvents(O){this._ngZone.runOutsideAngular(()=>{O.forEach(I=>{this._triggerElement.addEventListener(I,this,kn)})})}_removeTriggerEvents(){this._triggerElement&&(Gn.forEach(O=>{this._triggerElement.removeEventListener(O,this,kn)}),this._pointerUpEventsRegistered&&Dn.forEach(O=>{this._triggerElement.removeEventListener(O,this,kn)}))}}const On=new c.OlP("mat-ripple-global-options");let Mn=(()=>{class Ot{constructor(I,T,H,J,He){this._elementRef=I,this._animationMode=He,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=J||{},this._rippleRenderer=new or(this,T,I,H)}get disabled(){return this._disabled}set disabled(I){I&&this.fadeOutAllNonPersistent(),this._disabled=I,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(I){this._trigger=I,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(I,T=0,H){return"number"==typeof I?this._rippleRenderer.fadeInRipple(I,T,{...this.rippleConfig,...H}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...I})}}return Ot.\u0275fac=function(I){return new(I||Ot)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ae.t4),c.Y36(On,8),c.Y36(Oe.Qb,8))},Ot.\u0275dir=c.lG2({type:Ot,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(I,T){2&I&&c.ekj("mat-ripple-unbounded",T.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ot})(),ar=(()=>{class Ot{}return Ot.\u0275fac=function(I){return new(I||Ot)},Ot.\u0275mod=c.oAB({type:Ot}),Ot.\u0275inj=c.cJS({imports:[[mt],mt]}),Ot})()},7485:(Wt,qe,D)=>{D.d(qe,{pp:()=>Qt,To:()=>Ot,ib:()=>ht,yz:()=>Tr,yK:()=>Ln});var c=D(4650);let Oe=(()=>{class O{constructor(){this._listeners=[]}notify(T,H){for(let J of this._listeners)J(T,H)}listen(T){return this._listeners.push(T),()=>{this._listeners=this._listeners.filter(H=>T!==H)}}ngOnDestroy(){this._listeners=[]}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();var he=D(1281),Se=D(7579),ft=D(727);let Ue=0;const Te=new c.OlP("CdkAccordion");let Ze=(()=>{class O{constructor(){this._stateChanges=new Se.x,this._openCloseAllActions=new Se.x,this.id="cdk-accordion-"+Ue++,this._multi=!1}get multi(){return this._multi}set multi(T){this._multi=(0,he.Ig)(T)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(T){this._stateChanges.next(T)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=c.lG2({type:O,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[c._Bn([{provide:Te,useExisting:O}]),c.TTD]}),O})(),xe=0,nt=(()=>{class O{constructor(T,H,J){this.accordion=T,this._changeDetectorRef=H,this._expansionDispatcher=J,this._openCloseAllSubscription=ft.w0.EMPTY,this.closed=new c.vpe,this.opened=new c.vpe,this.destroyed=new c.vpe,this.expandedChange=new c.vpe,this.id="cdk-accordion-child-"+xe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=J.listen((He,Et)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Et&&this.id!==He&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(T){T=(0,he.Ig)(T),this._expanded!==T&&(this._expanded=T,this.expandedChange.emit(T),T?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(T){this._disabled=(0,he.Ig)(T)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(T=>{this.disabled||(this.expanded=T)})}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(Te,12),c.Y36(c.sBO),c.Y36(Oe))},O.\u0275dir=c.lG2({type:O,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[c._Bn([{provide:Te,useValue:void 0}])]}),O})(),De=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();var mt=D(6895);class ot{attach(I){return this._attachedHost=I,I.attach(this)}detach(){let I=this._attachedHost;null!=I&&(this._attachedHost=null,I.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(I){this._attachedHost=I}}class Me extends ot{constructor(I,T,H,J){super(),this.component=I,this.viewContainerRef=T,this.injector=H,this.componentFactoryResolver=J}}class Je extends ot{constructor(I,T,H){super(),this.templateRef=I,this.viewContainerRef=T,this.context=H}get origin(){return this.templateRef.elementRef}attach(I,T=this.context){return this.context=T,super.attach(I)}detach(){return this.context=void 0,super.detach()}}class ct extends ot{constructor(I){super(),this.element=I instanceof c.SBq?I.nativeElement:I}}let Tt=(()=>{class O extends class $e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(I){return I instanceof Me?(this._attachedPortal=I,this.attachComponentPortal(I)):I instanceof Je?(this._attachedPortal=I,this.attachTemplatePortal(I)):this.attachDomPortal&&I instanceof ct?(this._attachedPortal=I,this.attachDomPortal(I)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(I){this._disposeFn=I}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(T,H,J){super(),this._componentFactoryResolver=T,this._viewContainerRef=H,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=He=>{const Et=He.element,kt=this._document.createComment("dom-portal");He.setAttachedHost(this),Et.parentNode.insertBefore(kt,Et),this._getRootNode().appendChild(Et),this._attachedPortal=He,super.setDisposeFn(()=>{kt.parentNode&&kt.parentNode.replaceChild(Et,kt)})},this._document=J}get portal(){return this._attachedPortal}set portal(T){this.hasAttached()&&!T&&!this._isInitialized||(this.hasAttached()&&super.detach(),T&&super.attach(T),this._attachedPortal=T||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(T){T.setAttachedHost(this);const H=null!=T.viewContainerRef?T.viewContainerRef:this._viewContainerRef,He=(T.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(T.component),Et=H.createComponent(He,H.length,T.injector||H.injector);return H!==this._viewContainerRef&&this._getRootNode().appendChild(Et.hostView.rootNodes[0]),super.setDisposeFn(()=>Et.destroy()),this._attachedPortal=T,this._attachedRef=Et,this.attached.emit(Et),Et}attachTemplatePortal(T){T.setAttachedHost(this);const H=this._viewContainerRef.createEmbeddedView(T.templateRef,T.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=T,this._attachedRef=H,this.attached.emit(H),H}_getRootNode(){const T=this._viewContainerRef.element.nativeElement;return T.nodeType===T.ELEMENT_NODE?T:T.parentNode}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(mt.K0))},O.\u0275dir=c.lG2({type:O,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),O})(),zt=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();var Dt=D(3238),Lt=D(8019),rn=D(1884),En=D(8675),rr=D(9300),hr=D(5698),Vn=D(9521),Wn=D(1516),kn=D(515),Gn=D(6451),Dn=D(7340);const or=["body"];function nn(O,I){}const Bn=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],On=["mat-expansion-panel-header","*","mat-action-row"];function Mn(O,I){if(1&O&&c._UZ(0,"span",2),2&O){const T=c.oxw();c.Q6J("@indicatorRotate",T._getExpandedState())}}const ar=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],_r=["mat-panel-title","mat-panel-description","*"],br=new c.OlP("MAT_ACCORDION"),Er="225ms cubic-bezier(0.4,0.0,0.2,1)",Dr={indicatorRotate:(0,Dn.X$)("indicatorRotate",[(0,Dn.SB)("collapsed, void",(0,Dn.oB)({transform:"rotate(0deg)"})),(0,Dn.SB)("expanded",(0,Dn.oB)({transform:"rotate(180deg)"})),(0,Dn.eR)("expanded <=> collapsed, void => collapsed",(0,Dn.jt)(Er))]),bodyExpansion:(0,Dn.X$)("bodyExpansion",[(0,Dn.SB)("collapsed, void",(0,Dn.oB)({height:"0px",visibility:"hidden"})),(0,Dn.SB)("expanded",(0,Dn.oB)({height:"*",visibility:"visible"})),(0,Dn.eR)("expanded <=> collapsed, void => collapsed",(0,Dn.jt)(Er))])};let _t=(()=>{class O{constructor(T){this._template=T}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(c.Rgc))},O.\u0275dir=c.lG2({type:O,selectors:[["ng-template","matExpansionPanelContent",""]]}),O})(),en=0;const We=new c.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ht=(()=>{class O extends nt{constructor(T,H,J,He,Et,kt,hn){super(T,H,J),this._viewContainerRef=He,this._animationMode=kt,this._hideToggle=!1,this.afterExpand=new c.vpe,this.afterCollapse=new c.vpe,this._inputChanges=new Se.x,this._headerId="mat-expansion-panel-header-"+en++,this._bodyAnimationDone=new Se.x,this.accordion=T,this._document=Et,this._bodyAnimationDone.pipe((0,rn.x)((on,an)=>on.fromState===an.fromState&&on.toState===an.toState)).subscribe(on=>{"void"!==on.fromState&&("expanded"===on.toState?this.afterExpand.emit():"collapsed"===on.toState&&this.afterCollapse.emit())}),hn&&(this.hideToggle=hn.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(T){this._hideToggle=(0,he.Ig)(T)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(T){this._togglePosition=T}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,En.O)(null),(0,rr.h)(()=>this.expanded&&!this._portal),(0,hr.q)(1)).subscribe(()=>{this._portal=new Je(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(T){this._inputChanges.next(T)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const T=this._document.activeElement,H=this._body.nativeElement;return T===H||H.contains(T)}return!1}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(br,12),c.Y36(c.sBO),c.Y36(Oe),c.Y36(c.s_b),c.Y36(mt.K0),c.Y36(Wn.Qb,8),c.Y36(We,8))},O.\u0275cmp=c.Xpm({type:O,selectors:[["mat-expansion-panel"]],contentQueries:function(T,H,J){if(1&T&&c.Suo(J,_t,5),2&T){let He;c.iGM(He=c.CRH())&&(H._lazyContent=He.first)}},viewQuery:function(T,H){if(1&T&&c.Gf(or,5),2&T){let J;c.iGM(J=c.CRH())&&(H._body=J.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(T,H){2&T&&c.ekj("mat-expanded",H.expanded)("_mat-animation-noopable","NoopAnimations"===H._animationMode)("mat-expansion-panel-spacing",H._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[c._Bn([{provide:br,useValue:void 0}]),c.qOj,c.TTD],ngContentSelectors:On,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(T,H){1&T&&(c.F$t(Bn),c.Hsn(0),c.TgZ(1,"div",0,1),c.NdJ("@bodyExpansion.done",function(He){return H._bodyAnimationDone.next(He)}),c.TgZ(3,"div",2),c.Hsn(4,1),c.YNc(5,nn,0,0,"ng-template",3),c.qZA(),c.Hsn(6,2),c.qZA()),2&T&&(c.xp6(1),c.Q6J("@bodyExpansion",H._getExpandedState())("id",H.id),c.uIk("aria-labelledby",H._headerId),c.xp6(4),c.Q6J("cdkPortalOutlet",H._portal))},directives:[Tt],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[Dr.bodyExpansion]},changeDetection:0}),O})();class bn{}const Sn=(0,Dt.sb)(bn);let Tr=(()=>{class O extends Sn{constructor(T,H,J,He,Et,kt,hn){super(),this.panel=T,this._element=H,this._focusMonitor=J,this._changeDetectorRef=He,this._animationMode=kt,this._parentChangeSubscription=ft.w0.EMPTY;const on=T.accordion?T.accordion._stateChanges.pipe((0,rr.h)(an=>!(!an.hideToggle&&!an.togglePosition))):kn.E;this.tabIndex=parseInt(hn||"")||0,this._parentChangeSubscription=(0,Gn.T)(T.opened,T.closed,on,T._inputChanges.pipe((0,rr.h)(an=>!!(an.hideToggle||an.disabled||an.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),T.closed.pipe((0,rr.h)(()=>T._containsFocus())).subscribe(()=>J.focusVia(H,"program")),Et&&(this.expandedHeight=Et.expandedHeight,this.collapsedHeight=Et.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const T=this._isExpanded();return T&&this.expandedHeight?this.expandedHeight:!T&&this.collapsedHeight?this.collapsedHeight:null}_keydown(T){switch(T.keyCode){case Vn.L_:case Vn.K5:(0,Vn.Vb)(T)||(T.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(T))}}focus(T,H){T?this._focusMonitor.focusVia(this._element,T,H):this._element.nativeElement.focus(H)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(T=>{T&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(ht,1),c.Y36(c.SBq),c.Y36(Lt.tE),c.Y36(c.sBO),c.Y36(We,8),c.Y36(Wn.Qb,8),c.$8M("tabindex"))},O.\u0275cmp=c.Xpm({type:O,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(T,H){1&T&&c.NdJ("click",function(){return H._toggle()})("keydown",function(He){return H._keydown(He)}),2&T&&(c.uIk("id",H.panel._headerId)("tabindex",H.tabIndex)("aria-controls",H._getPanelId())("aria-expanded",H._isExpanded())("aria-disabled",H.panel.disabled),c.Udp("height",H._getHeaderHeight()),c.ekj("mat-expanded",H._isExpanded())("mat-expansion-toggle-indicator-after","after"===H._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===H._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===H._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[c.qOj],ngContentSelectors:_r,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(T,H){1&T&&(c.F$t(ar),c.TgZ(0,"span",0),c.Hsn(1),c.Hsn(2,1),c.Hsn(3,2),c.qZA(),c.YNc(4,Mn,1,1,"span",1)),2&T&&(c.xp6(4),c.Q6J("ngIf",H._showToggle()))},directives:[mt.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[Dr.indicatorRotate]},changeDetection:0}),O})(),Ln=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=c.lG2({type:O,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),O})(),Qt=(()=>{class O extends Ze{constructor(){super(...arguments),this._ownHeaders=new c.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(T){this._hideToggle=(0,he.Ig)(T)}ngAfterContentInit(){this._headers.changes.pipe((0,En.O)(this._headers)).subscribe(T=>{this._ownHeaders.reset(T.filter(H=>H.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Lt.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(T){this._keyManager.onKeydown(T)}_handleHeaderFocus(T){this._keyManager.updateActiveItem(T)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return O.\u0275fac=function(){let I;return function(H){return(I||(I=c.n5z(O)))(H||O)}}(),O.\u0275dir=c.lG2({type:O,selectors:[["mat-accordion"]],contentQueries:function(T,H,J){if(1&T&&c.Suo(J,Tr,5),2&T){let He;c.iGM(He=c.CRH())&&(H._headers=He)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(T,H){2&T&&c.ekj("mat-accordion-multi",H.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[c._Bn([{provide:br,useExisting:O}]),c.qOj]}),O})(),Ot=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({imports:[[mt.ez,Dt.BQ,De,zt]]}),O})()},7676:(Wt,qe,D)=>{D.d(qe,{G_:()=>br,KE:()=>Er,Eo:()=>Dt,lN:()=>Dr});var c=D(1281),p=D(4650),$=D(8306),pe=D(7579),v=D(8372);let Ae=(()=>{class _t{create(We){return typeof MutationObserver>"u"?null:new MutationObserver(We)}}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275prov=p.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),Ne=(()=>{class _t{constructor(We){this._mutationObserverFactory=We,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((We,ht)=>this._cleanupObserver(ht))}observe(We){const ht=(0,c.fI)(We);return new $.y(cn=>{const Sn=this._observeElement(ht).subscribe(cn);return()=>{Sn.unsubscribe(),this._unobserveElement(ht)}})}_observeElement(We){if(this._observedElements.has(We))this._observedElements.get(We).count++;else{const ht=new pe.x,cn=this._mutationObserverFactory.create(bn=>ht.next(bn));cn&&cn.observe(We,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(We,{observer:cn,stream:ht,count:1})}return this._observedElements.get(We).stream}_unobserveElement(We){this._observedElements.has(We)&&(this._observedElements.get(We).count--,this._observedElements.get(We).count||this._cleanupObserver(We))}_cleanupObserver(We){if(this._observedElements.has(We)){const{observer:ht,stream:cn}=this._observedElements.get(We);ht&&ht.disconnect(),cn.complete(),this._observedElements.delete(We)}}}return _t.\u0275fac=function(We){return new(We||_t)(p.LFG(Ae))},_t.\u0275prov=p.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),be=(()=>{class _t{constructor(We,ht,cn){this._contentObserver=We,this._elementRef=ht,this._ngZone=cn,this.event=new p.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(We){this._disabled=(0,c.Ig)(We),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(We){this._debounce=(0,c.su)(We),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const We=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?We.pipe((0,v.b)(this.debounce)):We).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return _t.\u0275fac=function(We){return new(We||_t)(p.Y36(Ne),p.Y36(p.SBq),p.Y36(p.R0b))},_t.\u0275dir=p.lG2({type:_t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),_t})(),Oe=(()=>{class _t{}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275mod=p.oAB({type:_t}),_t.\u0275inj=p.cJS({providers:[Ae]}),_t})();var fe=D(6895),he=D(3238),Se=D(445),ft=D(6451),Ue=D(4968),Te=D(8675),Ze=D(2722),xe=D(5698),nt=D(7340),De=D(3353),mt=D(1516);const Re=["connectionContainer"],ve=["inputContainer"],ge=["label"];function lt(_t,en){1&_t&&(p.ynx(0),p.TgZ(1,"div",14),p._UZ(2,"div",15)(3,"div",16)(4,"div",17),p.qZA(),p.TgZ(5,"div",18),p._UZ(6,"div",15)(7,"div",16)(8,"div",17),p.qZA(),p.BQk())}function ke(_t,en){if(1&_t){const We=p.EpF();p.TgZ(0,"div",19),p.NdJ("cdkObserveContent",function(){return p.CHM(We),p.oxw().updateOutlineGap()}),p.Hsn(1,1),p.qZA()}if(2&_t){const We=p.oxw();p.Q6J("cdkObserveContentDisabled","outline"!=We.appearance)}}function Ie(_t,en){if(1&_t&&(p.ynx(0),p.Hsn(1,2),p.TgZ(2,"span"),p._uU(3),p.qZA(),p.BQk()),2&_t){const We=p.oxw(2);p.xp6(3),p.Oqu(We._control.placeholder)}}function ot(_t,en){1&_t&&p.Hsn(0,3,["*ngSwitchCase","true"])}function Me(_t,en){1&_t&&(p.TgZ(0,"span",23),p._uU(1," *"),p.qZA())}function Je(_t,en){if(1&_t){const We=p.EpF();p.TgZ(0,"label",20,21),p.NdJ("cdkObserveContent",function(){return p.CHM(We),p.oxw().updateOutlineGap()}),p.YNc(2,Ie,4,1,"ng-container",12),p.YNc(3,ot,1,0,"ng-content",12),p.YNc(4,Me,2,0,"span",22),p.qZA()}if(2&_t){const We=p.oxw();p.ekj("mat-empty",We._control.empty&&!We._shouldAlwaysFloat())("mat-form-field-empty",We._control.empty&&!We._shouldAlwaysFloat())("mat-accent","accent"==We.color)("mat-warn","warn"==We.color),p.Q6J("cdkObserveContentDisabled","outline"!=We.appearance)("id",We._labelId)("ngSwitch",We._hasLabel()),p.uIk("for",We._control.id)("aria-owns",We._control.id),p.xp6(2),p.Q6J("ngSwitchCase",!1),p.xp6(1),p.Q6J("ngSwitchCase",!0),p.xp6(1),p.Q6J("ngIf",!We.hideRequiredMarker&&We._control.required&&!We._control.disabled)}}function ct(_t,en){1&_t&&(p.TgZ(0,"div",24),p.Hsn(1,4),p.qZA())}function $e(_t,en){if(1&_t&&(p.TgZ(0,"div",25),p._UZ(1,"span",26),p.qZA()),2&_t){const We=p.oxw();p.xp6(1),p.ekj("mat-accent","accent"==We.color)("mat-warn","warn"==We.color)}}function Le(_t,en){if(1&_t&&(p.TgZ(0,"div"),p.Hsn(1,5),p.qZA()),2&_t){const We=p.oxw();p.Q6J("@transitionMessages",We._subscriptAnimationState)}}function dt(_t,en){if(1&_t&&(p.TgZ(0,"div",30),p._uU(1),p.qZA()),2&_t){const We=p.oxw(2);p.Q6J("id",We._hintLabelId),p.xp6(1),p.Oqu(We.hintLabel)}}function tt(_t,en){if(1&_t&&(p.TgZ(0,"div",27),p.YNc(1,dt,2,2,"div",28),p.Hsn(2,6),p._UZ(3,"div",29),p.Hsn(4,7),p.qZA()),2&_t){const We=p.oxw();p.Q6J("@transitionMessages",We._subscriptAnimationState),p.xp6(1),p.Q6J("ngIf",We.hintLabel)}}const Ct=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$t=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Rt=new p.OlP("MatError"),Xe={transitionMessages:(0,nt.X$)("transitionMessages",[(0,nt.SB)("enter",(0,nt.oB)({opacity:1,transform:"translateY(0%)"})),(0,nt.eR)("void => enter",[(0,nt.oB)({opacity:0,transform:"translateY(-5px)"}),(0,nt.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Dt=(()=>{class _t{}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275dir=p.lG2({type:_t}),_t})();const hr=new p.OlP("MatHint");let Wn=(()=>{class _t{}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275dir=p.lG2({type:_t,selectors:[["mat-label"]]}),_t})(),kn=(()=>{class _t{}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275dir=p.lG2({type:_t,selectors:[["mat-placeholder"]]}),_t})();const Gn=new p.OlP("MatPrefix"),or=new p.OlP("MatSuffix");let Bn=0;const ar=(0,he.pj)(class{constructor(_t){this._elementRef=_t}},"primary"),_r=new p.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),br=new p.OlP("MatFormField");let Er=(()=>{class _t extends ar{constructor(We,ht,cn,bn,Sn,Tr,Nn){super(We),this._changeDetectorRef=ht,this._dir=cn,this._defaults=bn,this._platform=Sn,this._ngZone=Tr,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pe.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Bn++,this._labelId="mat-form-field-label-"+Bn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Nn,this.appearance=bn&&bn.appearance?bn.appearance:"legacy",this._hideRequiredMarker=!(!bn||null==bn.hideRequiredMarker)&&bn.hideRequiredMarker}get appearance(){return this._appearance}set appearance(We){const ht=this._appearance;this._appearance=We||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&ht!==We&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(We){this._hideRequiredMarker=(0,c.Ig)(We)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(We){this._hintLabel=We,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(We){We!==this._floatLabel&&(this._floatLabel=We||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(We){this._explicitFormFieldControl=We}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const We=this._control;We.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${We.controlType}`),We.stateChanges.pipe((0,Te.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),We.ngControl&&We.ngControl.valueChanges&&We.ngControl.valueChanges.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ft.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Te.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Te.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(We){const ht=this._control?this._control.ngControl:null;return ht&&ht[We]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Ue.R)(this._label.nativeElement,"transitionend").pipe((0,xe.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let We=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&We.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ht=this._hintChildren?this._hintChildren.find(bn=>"start"===bn.align):null,cn=this._hintChildren?this._hintChildren.find(bn=>"end"===bn.align):null;ht?We.push(ht.id):this._hintLabel&&We.push(this._hintLabelId),cn&&We.push(cn.id)}else this._errorChildren&&We.push(...this._errorChildren.map(ht=>ht.id));this._control.setDescribedByIds(We)}}_validateControlChild(){}updateOutlineGap(){const We=this._label?this._label.nativeElement:null,ht=this._connectionContainerRef.nativeElement,cn=".mat-form-field-outline-start",bn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!We||!We.children.length||!We.textContent.trim()){const Qt=ht.querySelectorAll(`${cn}, ${bn}`);for(let Ot=0;Ot<Qt.length;Ot++)Qt[Ot].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Sn=0,Tr=0;const Nn=ht.querySelectorAll(cn),Ln=ht.querySelectorAll(bn);if(this._label&&this._label.nativeElement.children.length){const Qt=ht.getBoundingClientRect();if(0===Qt.width&&0===Qt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Ot=this._getStartEnd(Qt),O=We.children,I=this._getStartEnd(O[0].getBoundingClientRect());let T=0;for(let H=0;H<O.length;H++)T+=O[H].offsetWidth;Sn=Math.abs(I-Ot)-5,Tr=T>0?.75*T+10:0}for(let Qt=0;Qt<Nn.length;Qt++)Nn[Qt].style.width=`${Sn}px`;for(let Qt=0;Qt<Ln.length;Qt++)Ln[Qt].style.width=`${Tr}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(We){return this._dir&&"rtl"===this._dir.value?We.right:We.left}_isAttachedToDOM(){const We=this._elementRef.nativeElement;if(We.getRootNode){const ht=We.getRootNode();return ht&&ht!==We}return document.documentElement.contains(We)}}return _t.\u0275fac=function(We){return new(We||_t)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(Se.Is,8),p.Y36(_r,8),p.Y36(De.t4),p.Y36(p.R0b),p.Y36(mt.Qb,8))},_t.\u0275cmp=p.Xpm({type:_t,selectors:[["mat-form-field"]],contentQueries:function(We,ht,cn){if(1&We&&(p.Suo(cn,Dt,5),p.Suo(cn,Dt,7),p.Suo(cn,Wn,5),p.Suo(cn,Wn,7),p.Suo(cn,kn,5),p.Suo(cn,Rt,5),p.Suo(cn,hr,5),p.Suo(cn,Gn,5),p.Suo(cn,or,5)),2&We){let bn;p.iGM(bn=p.CRH())&&(ht._controlNonStatic=bn.first),p.iGM(bn=p.CRH())&&(ht._controlStatic=bn.first),p.iGM(bn=p.CRH())&&(ht._labelChildNonStatic=bn.first),p.iGM(bn=p.CRH())&&(ht._labelChildStatic=bn.first),p.iGM(bn=p.CRH())&&(ht._placeholderChild=bn.first),p.iGM(bn=p.CRH())&&(ht._errorChildren=bn),p.iGM(bn=p.CRH())&&(ht._hintChildren=bn),p.iGM(bn=p.CRH())&&(ht._prefixChildren=bn),p.iGM(bn=p.CRH())&&(ht._suffixChildren=bn)}},viewQuery:function(We,ht){if(1&We&&(p.Gf(Re,7),p.Gf(ve,5),p.Gf(ge,5)),2&We){let cn;p.iGM(cn=p.CRH())&&(ht._connectionContainerRef=cn.first),p.iGM(cn=p.CRH())&&(ht._inputContainerRef=cn.first),p.iGM(cn=p.CRH())&&(ht._label=cn.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(We,ht){2&We&&p.ekj("mat-form-field-appearance-standard","standard"==ht.appearance)("mat-form-field-appearance-fill","fill"==ht.appearance)("mat-form-field-appearance-outline","outline"==ht.appearance)("mat-form-field-appearance-legacy","legacy"==ht.appearance)("mat-form-field-invalid",ht._control.errorState)("mat-form-field-can-float",ht._canLabelFloat())("mat-form-field-should-float",ht._shouldLabelFloat())("mat-form-field-has-label",ht._hasFloatingLabel())("mat-form-field-hide-placeholder",ht._hideControlPlaceholder())("mat-form-field-disabled",ht._control.disabled)("mat-form-field-autofilled",ht._control.autofilled)("mat-focused",ht._control.focused)("ng-untouched",ht._shouldForward("untouched"))("ng-touched",ht._shouldForward("touched"))("ng-pristine",ht._shouldForward("pristine"))("ng-dirty",ht._shouldForward("dirty"))("ng-valid",ht._shouldForward("valid"))("ng-invalid",ht._shouldForward("invalid"))("ng-pending",ht._shouldForward("pending"))("_mat-animation-noopable",!ht._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[p._Bn([{provide:br,useExisting:_t}]),p.qOj],ngContentSelectors:$t,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(We,ht){1&We&&(p.F$t(Ct),p.TgZ(0,"div",0)(1,"div",1,2),p.NdJ("click",function(bn){return ht._control.onContainerClick&&ht._control.onContainerClick(bn)}),p.YNc(3,lt,9,0,"ng-container",3),p.YNc(4,ke,2,1,"div",4),p.TgZ(5,"div",5,6),p.Hsn(7),p.TgZ(8,"span",7),p.YNc(9,Je,5,16,"label",8),p.qZA()(),p.YNc(10,ct,2,0,"div",9),p.qZA(),p.YNc(11,$e,2,4,"div",10),p.TgZ(12,"div",11),p.YNc(13,Le,2,1,"div",12),p.YNc(14,tt,5,2,"div",13),p.qZA()()),2&We&&(p.xp6(3),p.Q6J("ngIf","outline"==ht.appearance),p.xp6(1),p.Q6J("ngIf",ht._prefixChildren.length),p.xp6(5),p.Q6J("ngIf",ht._hasFloatingLabel()),p.xp6(1),p.Q6J("ngIf",ht._suffixChildren.length),p.xp6(1),p.Q6J("ngIf","outline"!=ht.appearance),p.xp6(1),p.Q6J("ngSwitch",ht._getDisplayedMessages()),p.xp6(1),p.Q6J("ngSwitchCase","error"),p.xp6(1),p.Q6J("ngSwitchCase","hint"))},directives:[fe.O5,be,fe.RF,fe.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Xe.transitionMessages]},changeDetection:0}),_t})(),Dr=(()=>{class _t{}return _t.\u0275fac=function(We){return new(We||_t)},_t.\u0275mod=p.oAB({type:_t}),_t.\u0275inj=p.cJS({imports:[[fe.ez,he.BQ,Oe],he.BQ]}),_t})()},3336:(Wt,qe,D)=>{D.d(qe,{Hw:()=>Ve,Ps:()=>yt});var c=D(4650),p=D(3238),$=D(1281),pe=D(6895),v=D(9646),Ae=D(2843),Ne=D(4128),be=D(727),Oe=D(8505),fe=D(4004),he=D(262),Se=D(8746),ft=D(3099),Ue=D(5698),Te=D(4351),Ze=D(9300);class xe{}class De{constructor(Ce){this.normalizedNames=new Map,this.lazyUpdate=null,Ce?this.lazyInit="string"==typeof Ce?()=>{this.headers=new Map,Ce.split("\n").forEach(ue=>{const _e=ue.indexOf(":");if(_e>0){const et=ue.slice(0,_e),bt=et.toLowerCase(),Xt=ue.slice(_e+1).trim();this.maybeSetNormalizedName(et,bt),this.headers.has(bt)?this.headers.get(bt).push(Xt):this.headers.set(bt,[Xt])}})}:()=>{this.headers=new Map,Object.keys(Ce).forEach(ue=>{let _e=Ce[ue];const et=ue.toLowerCase();"string"==typeof _e&&(_e=[_e]),_e.length>0&&(this.headers.set(et,_e),this.maybeSetNormalizedName(ue,et))})}:this.headers=new Map}has(Ce){return this.init(),this.headers.has(Ce.toLowerCase())}get(Ce){this.init();const ue=this.headers.get(Ce.toLowerCase());return ue&&ue.length>0?ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ce){return this.init(),this.headers.get(Ce.toLowerCase())||null}append(Ce,ue){return this.clone({name:Ce,value:ue,op:"a"})}set(Ce,ue){return this.clone({name:Ce,value:ue,op:"s"})}delete(Ce,ue){return this.clone({name:Ce,value:ue,op:"d"})}maybeSetNormalizedName(Ce,ue){this.normalizedNames.has(ue)||this.normalizedNames.set(ue,Ce)}init(){this.lazyInit&&(this.lazyInit instanceof De?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ce=>this.applyUpdate(Ce)),this.lazyUpdate=null))}copyFrom(Ce){Ce.init(),Array.from(Ce.headers.keys()).forEach(ue=>{this.headers.set(ue,Ce.headers.get(ue)),this.normalizedNames.set(ue,Ce.normalizedNames.get(ue))})}clone(Ce){const ue=new De;return ue.lazyInit=this.lazyInit&&this.lazyInit instanceof De?this.lazyInit:this,ue.lazyUpdate=(this.lazyUpdate||[]).concat([Ce]),ue}applyUpdate(Ce){const ue=Ce.name.toLowerCase();switch(Ce.op){case"a":case"s":let _e=Ce.value;if("string"==typeof _e&&(_e=[_e]),0===_e.length)return;this.maybeSetNormalizedName(Ce.name,ue);const et=("a"===Ce.op?this.headers.get(ue):void 0)||[];et.push(..._e),this.headers.set(ue,et);break;case"d":const bt=Ce.value;if(bt){let Xt=this.headers.get(ue);if(!Xt)return;Xt=Xt.filter(An=>-1===bt.indexOf(An)),0===Xt.length?(this.headers.delete(ue),this.normalizedNames.delete(ue)):this.headers.set(ue,Xt)}else this.headers.delete(ue),this.normalizedNames.delete(ue)}}forEach(Ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(ue=>Ce(this.normalizedNames.get(ue),this.headers.get(ue)))}}class mt{encodeKey(Ce){return lt(Ce)}encodeValue(Ce){return lt(Ce)}decodeKey(Ce){return decodeURIComponent(Ce)}decodeValue(Ce){return decodeURIComponent(Ce)}}const ve=/%(\d[a-f0-9])/gi,ge={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lt(at){return encodeURIComponent(at).replace(ve,(Ce,ue)=>ge[ue]??Ce)}function ke(at){return`${at}`}class Ie{constructor(Ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ce.encoder||new mt,Ce.fromString){if(Ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(at,Ce){const ue=new Map;return at.length>0&&at.replace(/^\?/,"").split("&").forEach(et=>{const bt=et.indexOf("="),[Xt,An]=-1==bt?[Ce.decodeKey(et),""]:[Ce.decodeKey(et.slice(0,bt)),Ce.decodeValue(et.slice(bt+1))],sn=ue.get(Xt)||[];sn.push(An),ue.set(Xt,sn)}),ue}(Ce.fromString,this.encoder)}else Ce.fromObject?(this.map=new Map,Object.keys(Ce.fromObject).forEach(ue=>{const _e=Ce.fromObject[ue];this.map.set(ue,Array.isArray(_e)?_e:[_e])})):this.map=null}has(Ce){return this.init(),this.map.has(Ce)}get(Ce){this.init();const ue=this.map.get(Ce);return ue?ue[0]:null}getAll(Ce){return this.init(),this.map.get(Ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ce,ue){return this.clone({param:Ce,value:ue,op:"a"})}appendAll(Ce){const ue=[];return Object.keys(Ce).forEach(_e=>{const et=Ce[_e];Array.isArray(et)?et.forEach(bt=>{ue.push({param:_e,value:bt,op:"a"})}):ue.push({param:_e,value:et,op:"a"})}),this.clone(ue)}set(Ce,ue){return this.clone({param:Ce,value:ue,op:"s"})}delete(Ce,ue){return this.clone({param:Ce,value:ue,op:"d"})}toString(){return this.init(),this.keys().map(Ce=>{const ue=this.encoder.encodeKey(Ce);return this.map.get(Ce).map(_e=>ue+"="+this.encoder.encodeValue(_e)).join("&")}).filter(Ce=>""!==Ce).join("&")}clone(Ce){const ue=new Ie({encoder:this.encoder});return ue.cloneFrom=this.cloneFrom||this,ue.updates=(this.updates||[]).concat(Ce),ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ce=>this.map.set(Ce,this.cloneFrom.map.get(Ce))),this.updates.forEach(Ce=>{switch(Ce.op){case"a":case"s":const ue=("a"===Ce.op?this.map.get(Ce.param):void 0)||[];ue.push(ke(Ce.value)),this.map.set(Ce.param,ue);break;case"d":if(void 0===Ce.value){this.map.delete(Ce.param);break}{let _e=this.map.get(Ce.param)||[];const et=_e.indexOf(ke(Ce.value));-1!==et&&_e.splice(et,1),_e.length>0?this.map.set(Ce.param,_e):this.map.delete(Ce.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(Ce,ue){return this.map.set(Ce,ue),this}get(Ce){return this.map.has(Ce)||this.map.set(Ce,Ce.defaultValue()),this.map.get(Ce)}delete(Ce){return this.map.delete(Ce),this}has(Ce){return this.map.has(Ce)}keys(){return this.map.keys()}}function ct(at){return typeof ArrayBuffer<"u"&&at instanceof ArrayBuffer}function $e(at){return typeof Blob<"u"&&at instanceof Blob}function Le(at){return typeof FormData<"u"&&at instanceof FormData}class tt{constructor(Ce,ue,_e,et){let bt;if(this.url=ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ce.toUpperCase(),function Je(at){switch(at){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||et?(this.body=void 0!==_e?_e:null,bt=et):bt=_e,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new De),this.context||(this.context=new Me),this.params){const Xt=this.params.toString();if(0===Xt.length)this.urlWithParams=ue;else{const An=ue.indexOf("?");this.urlWithParams=ue+(-1===An?"?":An<ue.length-1?"&":"")+Xt}}else this.params=new Ie,this.urlWithParams=ue}serializeBody(){return null===this.body?null:ct(this.body)||$e(this.body)||Le(this.body)||function dt(at){return typeof URLSearchParams<"u"&&at instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Le(this.body)?null:$e(this.body)?this.body.type||null:ct(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ce={}){const ue=Ce.method||this.method,_e=Ce.url||this.url,et=Ce.responseType||this.responseType,bt=void 0!==Ce.body?Ce.body:this.body,Xt=void 0!==Ce.withCredentials?Ce.withCredentials:this.withCredentials,An=void 0!==Ce.reportProgress?Ce.reportProgress:this.reportProgress;let sn=Ce.headers||this.headers,zn=Ce.params||this.params;const mn=Ce.context??this.context;return void 0!==Ce.setHeaders&&(sn=Object.keys(Ce.setHeaders).reduce((ii,Gr)=>ii.set(Gr,Ce.setHeaders[Gr]),sn)),Ce.setParams&&(zn=Object.keys(Ce.setParams).reduce((ii,Gr)=>ii.set(Gr,Ce.setParams[Gr]),zn)),new tt(ue,_e,bt,{params:zn,headers:sn,context:mn,reportProgress:An,responseType:et,withCredentials:Xt})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class Rt extends class $t{constructor(Ce,ue=200,_e="OK"){this.headers=Ce.headers||new De,this.status=void 0!==Ce.status?Ce.status:ue,this.statusText=Ce.statusText||_e,this.url=Ce.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Ce={}){super(Ce),this.type=Ct.Response,this.body=void 0!==Ce.body?Ce.body:null}clone(Ce={}){return new Rt({body:void 0!==Ce.body?Ce.body:this.body,headers:Ce.headers||this.headers,status:void 0!==Ce.status?Ce.status:this.status,statusText:Ce.statusText||this.statusText,url:Ce.url||this.url||void 0})}}function Xe(at,Ce){return{body:Ce,headers:at.headers,context:at.context,observe:at.observe,params:at.params,reportProgress:at.reportProgress,responseType:at.responseType,withCredentials:at.withCredentials}}let Dt=(()=>{class at{constructor(ue){this.handler=ue}request(ue,_e,et={}){let bt;if(ue instanceof tt)bt=ue;else{let sn,zn;sn=et.headers instanceof De?et.headers:new De(et.headers),et.params&&(zn=et.params instanceof Ie?et.params:new Ie({fromObject:et.params})),bt=new tt(ue,_e,void 0!==et.body?et.body:null,{headers:sn,context:et.context,params:zn,reportProgress:et.reportProgress,responseType:et.responseType||"json",withCredentials:et.withCredentials})}const Xt=(0,v.of)(bt).pipe((0,Te.b)(sn=>this.handler.handle(sn)));if(ue instanceof tt||"events"===et.observe)return Xt;const An=Xt.pipe((0,Ze.h)(sn=>sn instanceof Rt));switch(et.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return An.pipe((0,fe.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sn.body}));case"blob":return An.pipe((0,fe.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof Blob))throw new Error("Response is not a Blob.");return sn.body}));case"text":return An.pipe((0,fe.U)(sn=>{if(null!==sn.body&&"string"!=typeof sn.body)throw new Error("Response is not a string.");return sn.body}));default:return An.pipe((0,fe.U)(sn=>sn.body))}case"response":return An;default:throw new Error(`Unreachable: unhandled observe type ${et.observe}}`)}}delete(ue,_e={}){return this.request("DELETE",ue,_e)}get(ue,_e={}){return this.request("GET",ue,_e)}head(ue,_e={}){return this.request("HEAD",ue,_e)}jsonp(ue,_e){return this.request("JSONP",ue,{params:(new Ie).append(_e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ue,_e={}){return this.request("OPTIONS",ue,_e)}patch(ue,_e,et={}){return this.request("PATCH",ue,Xe(et,_e))}post(ue,_e,et={}){return this.request("POST",ue,Xe(et,_e))}put(ue,_e,et={}){return this.request("PUT",ue,Xe(et,_e))}}return at.\u0275fac=function(ue){return new(ue||at)(c.LFG(xe))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac}),at})();var Sn=D(1481);const Tr=["*"];let Nn;function Qt(at){return function Ln(){if(void 0===Nn&&(Nn=null,typeof window<"u")){const at=window;void 0!==at.trustedTypes&&(Nn=at.trustedTypes.createPolicy("angular#components",{createHTML:Ce=>Ce}))}return Nn}()?.createHTML(at)||at}function Ot(at){return Error(`Unable to find icon with the name "${at}"`)}function I(at){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${at}".`)}function T(at){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${at}".`)}class H{constructor(Ce,ue,_e){this.url=Ce,this.svgText=ue,this.options=_e}}let J=(()=>{class at{constructor(ue,_e,et,bt){this._httpClient=ue,this._sanitizer=_e,this._errorHandler=bt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=et}addSvgIcon(ue,_e,et){return this.addSvgIconInNamespace("",ue,_e,et)}addSvgIconLiteral(ue,_e,et){return this.addSvgIconLiteralInNamespace("",ue,_e,et)}addSvgIconInNamespace(ue,_e,et,bt){return this._addSvgIconConfig(ue,_e,new H(et,null,bt))}addSvgIconResolver(ue){return this._resolvers.push(ue),this}addSvgIconLiteralInNamespace(ue,_e,et,bt){const Xt=this._sanitizer.sanitize(c.q3G.HTML,et);if(!Xt)throw T(et);const An=Qt(Xt);return this._addSvgIconConfig(ue,_e,new H("",An,bt))}addSvgIconSet(ue,_e){return this.addSvgIconSetInNamespace("",ue,_e)}addSvgIconSetLiteral(ue,_e){return this.addSvgIconSetLiteralInNamespace("",ue,_e)}addSvgIconSetInNamespace(ue,_e,et){return this._addSvgIconSetConfig(ue,new H(_e,null,et))}addSvgIconSetLiteralInNamespace(ue,_e,et){const bt=this._sanitizer.sanitize(c.q3G.HTML,_e);if(!bt)throw T(_e);const Xt=Qt(bt);return this._addSvgIconSetConfig(ue,new H("",Xt,et))}registerFontClassAlias(ue,_e=ue){return this._fontCssClassesByAlias.set(ue,_e),this}classNameForFontAlias(ue){return this._fontCssClassesByAlias.get(ue)||ue}setDefaultFontSetClass(ue){return this._defaultFontSetClass=ue,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ue){const _e=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,ue);if(!_e)throw I(ue);const et=this._cachedIconsByUrl.get(_e);return et?(0,v.of)(kt(et)):this._loadSvgIconFromConfig(new H(ue,null)).pipe((0,Oe.b)(bt=>this._cachedIconsByUrl.set(_e,bt)),(0,fe.U)(bt=>kt(bt)))}getNamedSvgIcon(ue,_e=""){const et=hn(_e,ue);let bt=this._svgIconConfigs.get(et);if(bt)return this._getSvgFromConfig(bt);if(bt=this._getIconConfigFromResolvers(_e,ue),bt)return this._svgIconConfigs.set(et,bt),this._getSvgFromConfig(bt);const Xt=this._iconSetConfigs.get(_e);return Xt?this._getSvgFromIconSetConfigs(ue,Xt):(0,Ae._)(Ot(et))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ue){return ue.svgText?(0,v.of)(kt(this._svgElementFromConfig(ue))):this._loadSvgIconFromConfig(ue).pipe((0,fe.U)(_e=>kt(_e)))}_getSvgFromIconSetConfigs(ue,_e){const et=this._extractIconWithNameFromAnySet(ue,_e);if(et)return(0,v.of)(et);const bt=_e.filter(Xt=>!Xt.svgText).map(Xt=>this._loadSvgIconSetFromConfig(Xt).pipe((0,he.K)(An=>{const zn=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,Xt.url)} failed: ${An.message}`;return this._errorHandler.handleError(new Error(zn)),(0,v.of)(null)})));return(0,Ne.D)(bt).pipe((0,fe.U)(()=>{const Xt=this._extractIconWithNameFromAnySet(ue,_e);if(!Xt)throw Ot(ue);return Xt}))}_extractIconWithNameFromAnySet(ue,_e){for(let et=_e.length-1;et>=0;et--){const bt=_e[et];if(bt.svgText&&bt.svgText.toString().indexOf(ue)>-1){const Xt=this._svgElementFromConfig(bt),An=this._extractSvgIconFromSet(Xt,ue,bt.options);if(An)return An}}return null}_loadSvgIconFromConfig(ue){return this._fetchIcon(ue).pipe((0,Oe.b)(_e=>ue.svgText=_e),(0,fe.U)(()=>this._svgElementFromConfig(ue)))}_loadSvgIconSetFromConfig(ue){return ue.svgText?(0,v.of)(null):this._fetchIcon(ue).pipe((0,Oe.b)(_e=>ue.svgText=_e))}_extractSvgIconFromSet(ue,_e,et){const bt=ue.querySelector(`[id="${_e}"]`);if(!bt)return null;const Xt=bt.cloneNode(!0);if(Xt.removeAttribute("id"),"svg"===Xt.nodeName.toLowerCase())return this._setSvgAttributes(Xt,et);if("symbol"===Xt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Xt),et);const An=this._svgElementFromString(Qt("<svg></svg>"));return An.appendChild(Xt),this._setSvgAttributes(An,et)}_svgElementFromString(ue){const _e=this._document.createElement("DIV");_e.innerHTML=ue;const et=_e.querySelector("svg");if(!et)throw Error("<svg> tag not found");return et}_toSvgElement(ue){const _e=this._svgElementFromString(Qt("<svg></svg>")),et=ue.attributes;for(let bt=0;bt<et.length;bt++){const{name:Xt,value:An}=et[bt];"id"!==Xt&&_e.setAttribute(Xt,An)}for(let bt=0;bt<ue.childNodes.length;bt++)ue.childNodes[bt].nodeType===this._document.ELEMENT_NODE&&_e.appendChild(ue.childNodes[bt].cloneNode(!0));return _e}_setSvgAttributes(ue,_e){return ue.setAttribute("fit",""),ue.setAttribute("height","100%"),ue.setAttribute("width","100%"),ue.setAttribute("preserveAspectRatio","xMidYMid meet"),ue.setAttribute("focusable","false"),_e&&_e.viewBox&&ue.setAttribute("viewBox",_e.viewBox),ue}_fetchIcon(ue){const{url:_e,options:et}=ue,bt=et?.withCredentials??!1;if(!this._httpClient)throw function O(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==_e)throw Error(`Cannot fetch icon from URL "${_e}".`);const Xt=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,_e);if(!Xt)throw I(_e);const An=this._inProgressUrlFetches.get(Xt);if(An)return An;const sn=this._httpClient.get(Xt,{responseType:"text",withCredentials:bt}).pipe((0,fe.U)(zn=>Qt(zn)),(0,Se.x)(()=>this._inProgressUrlFetches.delete(Xt)),(0,ft.B)());return this._inProgressUrlFetches.set(Xt,sn),sn}_addSvgIconConfig(ue,_e,et){return this._svgIconConfigs.set(hn(ue,_e),et),this}_addSvgIconSetConfig(ue,_e){const et=this._iconSetConfigs.get(ue);return et?et.push(_e):this._iconSetConfigs.set(ue,[_e]),this}_svgElementFromConfig(ue){if(!ue.svgElement){const _e=this._svgElementFromString(ue.svgText);this._setSvgAttributes(_e,ue.options),ue.svgElement=_e}return ue.svgElement}_getIconConfigFromResolvers(ue,_e){for(let et=0;et<this._resolvers.length;et++){const bt=this._resolvers[et](_e,ue);if(bt)return on(bt)?new H(bt.url,null,bt.options):new H(bt,null)}}}return at.\u0275fac=function(ue){return new(ue||at)(c.LFG(Dt,8),c.LFG(Sn.H7),c.LFG(pe.K0,8),c.LFG(c.qLn))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();function kt(at){return at.cloneNode(!0)}function hn(at,Ce){return at+":"+Ce}function on(at){return!(!at.url||!at.options)}const an=(0,p.pj)(class{constructor(at){this._elementRef=at}}),st=new c.OlP("mat-icon-location",{providedIn:"root",factory:function Ke(){const at=(0,c.f3M)(pe.K0),Ce=at?at.location:null;return{getPathname:()=>Ce?Ce.pathname+Ce.search:""}}}),ne=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],se=ne.map(at=>`[${at}]`).join(", "),ce=/^url\(['"]?#(.*?)['"]?\)$/;let Ve=(()=>{class at extends an{constructor(ue,_e,et,bt,Xt){super(ue),this._iconRegistry=_e,this._location=bt,this._errorHandler=Xt,this._inline=!1,this._currentIconFetch=be.w0.EMPTY,et||ue.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(ue){this._inline=(0,$.Ig)(ue)}get svgIcon(){return this._svgIcon}set svgIcon(ue){ue!==this._svgIcon&&(ue?this._updateSvgIcon(ue):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ue)}get fontSet(){return this._fontSet}set fontSet(ue){const _e=this._cleanupFontValue(ue);_e!==this._fontSet&&(this._fontSet=_e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ue){const _e=this._cleanupFontValue(ue);_e!==this._fontIcon&&(this._fontIcon=_e,this._updateFontIconClasses())}_splitIconName(ue){if(!ue)return["",""];const _e=ue.split(":");switch(_e.length){case 1:return["",_e[0]];case 2:return _e;default:throw Error(`Invalid icon name: "${ue}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ue=this._elementsWithExternalReferences;if(ue&&ue.size){const _e=this._location.getPathname();_e!==this._previousPath&&(this._previousPath=_e,this._prependPathToReferences(_e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ue){this._clearSvgElement();const _e=ue.querySelectorAll("style");for(let bt=0;bt<_e.length;bt++)_e[bt].textContent+=" ";const et=this._location.getPathname();this._previousPath=et,this._cacheChildrenWithExternalReferences(ue),this._prependPathToReferences(et),this._elementRef.nativeElement.appendChild(ue)}_clearSvgElement(){const ue=this._elementRef.nativeElement;let _e=ue.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();_e--;){const et=ue.childNodes[_e];(1!==et.nodeType||"svg"===et.nodeName.toLowerCase())&&et.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ue=this._elementRef.nativeElement,_e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();_e!=this._previousFontSetClass&&(this._previousFontSetClass&&ue.classList.remove(this._previousFontSetClass),_e&&ue.classList.add(_e),this._previousFontSetClass=_e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&ue.classList.remove(this._previousFontIconClass),this.fontIcon&&ue.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ue){return"string"==typeof ue?ue.trim().split(" ")[0]:ue}_prependPathToReferences(ue){const _e=this._elementsWithExternalReferences;_e&&_e.forEach((et,bt)=>{et.forEach(Xt=>{bt.setAttribute(Xt.name,`url('${ue}#${Xt.value}')`)})})}_cacheChildrenWithExternalReferences(ue){const _e=ue.querySelectorAll(se),et=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let bt=0;bt<_e.length;bt++)ne.forEach(Xt=>{const An=_e[bt],sn=An.getAttribute(Xt),zn=sn?sn.match(ce):null;if(zn){let mn=et.get(An);mn||(mn=[],et.set(An,mn)),mn.push({name:Xt,value:zn[1]})}})}_updateSvgIcon(ue){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ue){const[_e,et]=this._splitIconName(ue);_e&&(this._svgNamespace=_e),et&&(this._svgName=et),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(et,_e).pipe((0,Ue.q)(1)).subscribe(bt=>this._setSvgElement(bt),bt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${_e}:${et}! ${bt.message}`))})}}}return at.\u0275fac=function(ue){return new(ue||at)(c.Y36(c.SBq),c.Y36(J),c.$8M("aria-hidden"),c.Y36(st),c.Y36(c.qLn))},at.\u0275cmp=c.Xpm({type:at,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(ue,_e){2&ue&&(c.uIk("data-mat-icon-type",_e._usingFontIcon()?"font":"svg")("data-mat-icon-name",_e._svgName||_e.fontIcon)("data-mat-icon-namespace",_e._svgNamespace||_e.fontSet),c.ekj("mat-icon-inline",_e.inline)("mat-icon-no-color","primary"!==_e.color&&"accent"!==_e.color&&"warn"!==_e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Tr,decls:1,vars:0,template:function(ue,_e){1&ue&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),at})(),yt=(()=>{class at{}return at.\u0275fac=function(ue){return new(ue||at)},at.\u0275mod=c.oAB({type:at}),at.\u0275inj=c.cJS({imports:[[p.BQ],p.BQ]}),at})()},4144:(Wt,qe,D)=>{D.d(qe,{Nt:()=>De,c:()=>mt});var c=D(1281),p=D(3353),$=D(4650),pe=D(515),v=D(7579);const Ae=(0,p.i$)({passive:!0});let Ne=(()=>{class Re{constructor(ge,lt){this._platform=ge,this._ngZone=lt,this._monitoredElements=new Map}monitor(ge){if(!this._platform.isBrowser)return pe.E;const lt=(0,c.fI)(ge),ke=this._monitoredElements.get(lt);if(ke)return ke.subject;const Ie=new v.x,ot="cdk-text-field-autofilled",Me=Je=>{"cdk-text-field-autofill-start"!==Je.animationName||lt.classList.contains(ot)?"cdk-text-field-autofill-end"===Je.animationName&&lt.classList.contains(ot)&&(lt.classList.remove(ot),this._ngZone.run(()=>Ie.next({target:Je.target,isAutofilled:!1}))):(lt.classList.add(ot),this._ngZone.run(()=>Ie.next({target:Je.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{lt.addEventListener("animationstart",Me,Ae),lt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(lt,{subject:Ie,unlisten:()=>{lt.removeEventListener("animationstart",Me,Ae)}}),Ie}stopMonitoring(ge){const lt=(0,c.fI)(ge),ke=this._monitoredElements.get(lt);ke&&(ke.unlisten(),ke.subject.complete(),lt.classList.remove("cdk-text-field-autofill-monitored"),lt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(lt))}ngOnDestroy(){this._monitoredElements.forEach((ge,lt)=>this.stopMonitoring(lt))}}return Re.\u0275fac=function(ge){return new(ge||Re)($.LFG(p.t4),$.LFG($.R0b))},Re.\u0275prov=$.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),fe=(()=>{class Re{}return Re.\u0275fac=function(ge){return new(ge||Re)},Re.\u0275mod=$.oAB({type:Re}),Re.\u0275inj=$.cJS({}),Re})();var he=D(4006),Se=D(3238),ft=D(7676);const Te=new $.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ze=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xe=0;const nt=(0,Se.FD)(class{constructor(Re,ve,ge,lt){this._defaultErrorStateMatcher=Re,this._parentForm=ve,this._parentFormGroup=ge,this.ngControl=lt}});let De=(()=>{class Re extends nt{constructor(ge,lt,ke,Ie,ot,Me,Je,ct,$e,Le){super(Me,Ie,ot,ke),this._elementRef=ge,this._platform=lt,this._autofillMonitor=ct,this._formField=Le,this._uid="mat-input-"+xe++,this.focused=!1,this.stateChanges=new v.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ct=>(0,p.qK)().has(Ct));const dt=this._elementRef.nativeElement,tt=dt.nodeName.toLowerCase();this._inputValueAccessor=Je||dt,this._previousNativeValue=this.value,this.id=this.id,lt.IOS&&$e.runOutsideAngular(()=>{ge.nativeElement.addEventListener("keyup",Ct=>{const $t=Ct.target;!$t.value&&0===$t.selectionStart&&0===$t.selectionEnd&&($t.setSelectionRange(1,1),$t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===tt,this._isTextarea="textarea"===tt,this._isInFormField=!!Le,this._isNativeSelect&&(this.controlType=dt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(ge){this._disabled=(0,c.Ig)(ge),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ge){this._id=ge||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(he.kI.required)??!1}set required(ge){this._required=(0,c.Ig)(ge)}get type(){return this._type}set type(ge){this._type=ge||"text",this._validateType(),!this._isTextarea&&(0,p.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(ge){ge!==this.value&&(this._inputValueAccessor.value=ge,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ge){this._readonly=(0,c.Ig)(ge)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ge=>{this.autofilled=ge.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ge){this._elementRef.nativeElement.focus(ge)}_focusChanged(ge){ge!==this.focused&&(this.focused=ge,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const ge=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(ge!==this._previousPlaceholder){const lt=this._elementRef.nativeElement;this._previousPlaceholder=ge,ge?lt.setAttribute("placeholder",ge):lt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const ge=this._elementRef.nativeElement.value;this._previousNativeValue!==ge&&(this._previousNativeValue=ge,this.stateChanges.next())}_validateType(){Ze.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ge=this._elementRef.nativeElement.validity;return ge&&ge.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ge=this._elementRef.nativeElement,lt=ge.options[0];return this.focused||ge.multiple||!this.empty||!!(ge.selectedIndex>-1&&lt&&lt.label)}return this.focused||!this.empty}setDescribedByIds(ge){ge.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ge.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ge=this._elementRef.nativeElement;return this._isNativeSelect&&(ge.multiple||ge.size>1)}}return Re.\u0275fac=function(ge){return new(ge||Re)($.Y36($.SBq),$.Y36(p.t4),$.Y36(he.a5,10),$.Y36(he.F,8),$.Y36(he.sg,8),$.Y36(Se.rD),$.Y36(Te,10),$.Y36(Ne),$.Y36($.R0b),$.Y36(ft.G_,8))},Re.\u0275dir=$.lG2({type:Re,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(ge,lt){1&ge&&$.NdJ("focus",function(){return lt._focusChanged(!0)})("blur",function(){return lt._focusChanged(!1)})("input",function(){return lt._onInput()}),2&ge&&($.Ikx("disabled",lt.disabled)("required",lt.required),$.uIk("id",lt.id)("data-placeholder",lt.placeholder)("name",lt.name||null)("readonly",lt.readonly&&!lt._isNativeSelect||null)("aria-invalid",lt.empty&&lt.required?null:lt.errorState)("aria-required",lt.required),$.ekj("mat-input-server",lt._isServer)("mat-native-select-inline",lt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[$._Bn([{provide:ft.Eo,useExisting:Re}]),$.qOj,$.TTD]}),Re})(),mt=(()=>{class Re{}return Re.\u0275fac=function(ge){return new(ge||Re)},Re.\u0275mod=$.oAB({type:Re}),Re.\u0275inj=$.cJS({providers:[Se.rD],imports:[[fe,ft.lN,Se.BQ],fe,ft.lN]}),Re})()},3162:(Wt,qe,D)=>{D.d(qe,{Cv:()=>xe,pW:()=>Te});var c=D(4650),p=D(6895),$=D(3238),pe=D(1281),v=D(1516),Ae=D(727),Ne=D(4968),be=D(9300);const Oe=["primaryValueBar"],fe=(0,$.pj)(class{constructor(nt){this._elementRef=nt}},"primary"),he=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function Se(){const nt=(0,c.f3M)(p.K0),De=nt?nt.location:null;return{getPathname:()=>De?De.pathname+De.search:""}}}),ft=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Ue=0,Te=(()=>{class nt extends fe{constructor(mt,Re,ve,ge,lt,ke){super(mt),this._ngZone=Re,this._animationMode=ve,this._changeDetectorRef=ke,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=Ae.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Ue++;const Ie=ge?ge.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${Ie}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===ve,lt&&(lt.color&&(this.color=this.defaultColor=lt.color),this.mode=lt.mode||this.mode)}get value(){return this._value}set value(mt){this._value=Ze((0,pe.su)(mt)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(mt){this._bufferValue=Ze(mt||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const mt=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Ne.R)(mt,"transitionend").pipe((0,be.h)(Re=>Re.target===mt)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return nt.\u0275fac=function(mt){return new(mt||nt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(v.Qb,8),c.Y36(he,8),c.Y36(ft,8),c.Y36(c.sBO))},nt.\u0275cmp=c.Xpm({type:nt,selectors:[["mat-progress-bar"]],viewQuery:function(mt,Re){if(1&mt&&c.Gf(Oe,5),2&mt){let ve;c.iGM(ve=c.CRH())&&(Re._primaryValueBar=ve.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(mt,Re){2&mt&&(c.uIk("aria-valuenow","indeterminate"===Re.mode||"query"===Re.mode?null:Re.value)("mode",Re.mode),c.ekj("_mat-animation-noopable",Re._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(mt,Re){1&mt&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),c._UZ(4,"circle",3),c.qZA()(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),c.qZA()),2&mt&&(c.xp6(3),c.Q6J("id",Re.progressbarId),c.xp6(2),c.uIk("fill",Re._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",Re._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",Re._primaryTransform()))},directives:[p.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),nt})();function Ze(nt,De=0,mt=100){return Math.max(De,Math.min(mt,nt))}let xe=(()=>{class nt{}return nt.\u0275fac=function(mt){return new(mt||nt)},nt.\u0275mod=c.oAB({type:nt}),nt.\u0275inj=c.cJS({imports:[[p.ez,$.BQ],$.BQ]}),nt})()},3683:(Wt,qe,D)=>{D.d(qe,{Ye:()=>Oe,g0:()=>he,rD:()=>be});var c=D(4650),p=D(3238),$=D(3353),pe=D(6895);const v=["*",[["mat-toolbar-row"]]],Ae=["*","mat-toolbar-row"],Ne=(0,p.pj)(class{constructor(Se){this._elementRef=Se}});let be=(()=>{class Se{}return Se.\u0275fac=function(Ue){return new(Ue||Se)},Se.\u0275dir=c.lG2({type:Se,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Se})(),Oe=(()=>{class Se extends Ne{constructor(Ue,Te,Ze){super(Ue),this._platform=Te,this._document=Ze}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Se.\u0275fac=function(Ue){return new(Ue||Se)(c.Y36(c.SBq),c.Y36($.t4),c.Y36(pe.K0))},Se.\u0275cmp=c.Xpm({type:Se,selectors:[["mat-toolbar"]],contentQueries:function(Ue,Te,Ze){if(1&Ue&&c.Suo(Ze,be,5),2&Ue){let xe;c.iGM(xe=c.CRH())&&(Te._toolbarRows=xe)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ue,Te){2&Ue&&c.ekj("mat-toolbar-multiple-rows",Te._toolbarRows.length>0)("mat-toolbar-single-row",0===Te._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Ae,decls:2,vars:0,template:function(Ue,Te){1&Ue&&(c.F$t(v),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),Se})(),he=(()=>{class Se{}return Se.\u0275fac=function(Ue){return new(Ue||Se)},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({imports:[[p.BQ],p.BQ]}),Se})()},1516:(Wt,qe,D)=>{D.d(qe,{Qb:()=>Ai,PW:()=>Si});var c=D(4650),p=D(1481),$=D(7340);const pe=!1;function Ae(q){return new c.vHH(3e3,pe)}function Lt(){return typeof window<"u"&&typeof window.document<"u"}function rn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function En(q){switch(q.length){case 0:return new $.ZN;case 1:return q[0];default:return new $.ZE(q)}}function rr(q,y,E,k,X={},Ee={}){const Be=[],Ye=[];let vt=-1,Vt=null;if(k.forEach(_n=>{const Pn=_n.offset,Kn=Pn==vt,Ar=Kn&&Vt||{};Object.keys(_n).forEach(xn=>{let pr=xn,ni=_n[xn];if("offset"!==xn)switch(pr=y.normalizePropertyName(pr,Be),ni){case $.k1:ni=X[xn];break;case $.l3:ni=Ee[xn];break;default:ni=y.normalizeStyleValue(xn,pr,ni,Be)}Ar[pr]=ni}),Kn||Ye.push(Ar),Vt=Ar,vt=Pn}),Be.length)throw function ct(q){return new c.vHH(3502,pe)}();return Ye}function hr(q,y,E,k){switch(y){case"start":q.onStart(()=>k(E&&Vn(E,"start",q)));break;case"done":q.onDone(()=>k(E&&Vn(E,"done",q)));break;case"destroy":q.onDestroy(()=>k(E&&Vn(E,"destroy",q)))}}function Vn(q,y,E){const Ee=Wn(q.element,q.triggerName,q.fromState,q.toState,y||q.phaseName,E.totalTime??q.totalTime,!!E.disabled),Be=q._data;return null!=Be&&(Ee._data=Be),Ee}function Wn(q,y,E,k,X="",Ee=0,Be){return{element:q,triggerName:y,fromState:E,toState:k,phaseName:X,totalTime:Ee,disabled:!!Be}}function kn(q,y,E){let k;return q instanceof Map?(k=q.get(y),k||q.set(y,k=E)):(k=q[y],k||(k=q[y]=E)),k}function Gn(q){const y=q.indexOf(":");return[q.substring(1,y),q.substr(y+1)]}let Dn=(q,y)=>!1,or=(q,y,E)=>[],nn=null;function Bn(q){const y=q.parentNode||q.host;return y===nn?null:y}(rn()||typeof Element<"u")&&(Lt()?(nn=(()=>document.documentElement)(),Dn=(q,y)=>{for(;y;){if(y===q)return!0;y=Bn(y)}return!1}):Dn=(q,y)=>q.contains(y),or=(q,y,E)=>{if(E)return Array.from(q.querySelectorAll(y));const k=q.querySelector(y);return k?[k]:[]});let ar=null,_r=!1;function br(q){ar||(ar=function Er(){return typeof document<"u"?document.body:null}()||{},_r=!!ar.style&&"WebkitAppearance"in ar.style);let y=!0;return ar.style&&!function Mn(q){return"ebkit"==q.substring(1,6)}(q)&&(y=q in ar.style,!y&&_r&&(y="Webkit"+q.charAt(0).toUpperCase()+q.substr(1)in ar.style)),y}const Dr=Dn,_t=or;let We=(()=>{class q{validateStyleProperty(E){return br(E)}matchesElement(E,k){return!1}containsElement(E,k){return Dr(E,k)}getParentElement(E){return Bn(E)}query(E,k,X){return _t(E,k,X)}computeStyle(E,k,X){return X||""}animate(E,k,X,Ee,Be,Ye=[],vt){return new $.ZN(X,Ee)}}return q.\u0275fac=function(E){return new(E||q)},q.\u0275prov=c.Yz7({token:q,factory:q.\u0275fac}),q})(),ht=(()=>{class q{}return q.NOOP=new We,q})();const Tr="ng-enter",Nn="ng-leave",Ln="ng-trigger",Qt=".ng-trigger",Ot="ng-animating",O=".ng-animating";function I(q){if("number"==typeof q)return q;const y=q.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:T(parseFloat(y[1]),y[2])}function T(q,y){return"s"===y?1e3*q:q}function H(q,y,E){return q.hasOwnProperty("duration")?q:function J(q,y,E){let X,Ee=0,Be="";if("string"==typeof q){const Ye=q.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ye)return y.push(Ae()),{duration:0,delay:0,easing:""};X=T(parseFloat(Ye[1]),Ye[2]);const vt=Ye[3];null!=vt&&(Ee=T(parseFloat(vt),Ye[4]));const Vt=Ye[5];Vt&&(Be=Vt)}else X=q;if(!E){let Ye=!1,vt=y.length;X<0&&(y.push(function Ne(){return new c.vHH(3100,pe)}()),Ye=!0),Ee<0&&(y.push(function be(){return new c.vHH(3101,pe)}()),Ye=!0),Ye&&y.splice(vt,0,Ae())}return{duration:X,delay:Ee,easing:Be}}(q,y,E)}function He(q,y={}){return Object.keys(q).forEach(E=>{y[E]=q[E]}),y}function kt(q,y,E={}){if(y)for(let k in q)E[k]=q[k];else He(q,E);return E}function hn(q,y,E){return E?y+":"+E+";":""}function on(q){let y="";for(let E=0;E<q.style.length;E++){const k=q.style.item(E);y+=hn(0,k,q.style.getPropertyValue(k))}for(const E in q.style)q.style.hasOwnProperty(E)&&!E.startsWith("_")&&(y+=hn(0,ue(E),q.style[E]));q.setAttribute("style",y)}function an(q,y,E){q.style&&(Object.keys(y).forEach(k=>{const X=Ce(k);E&&!E.hasOwnProperty(k)&&(E[k]=q.style[X]),q.style[X]=y[k]}),rn()&&on(q))}function st(q,y){q.style&&(Object.keys(y).forEach(E=>{const k=Ce(E);q.style[k]=""}),rn()&&on(q))}function Ke(q){return Array.isArray(q)?1==q.length?q[0]:(0,$.vP)(q):q}const se=new RegExp("{{\\s*(.+?)\\s*}}","g");function ce(q){let y=[];if("string"==typeof q){let E;for(;E=se.exec(q);)y.push(E[1]);se.lastIndex=0}return y}function Ve(q,y,E){const k=q.toString(),X=k.replace(se,(Ee,Be)=>{let Ye=y[Be];return y.hasOwnProperty(Be)||(E.push(function fe(q){return new c.vHH(3003,pe)}()),Ye=""),Ye.toString()});return X==k?q:X}function yt(q){const y=[];let E=q.next();for(;!E.done;)y.push(E.value),E=q.next();return y}const at=/-+([a-z0-9])/g;function Ce(q){return q.replace(at,(...y)=>y[1].toUpperCase())}function ue(q){return q.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bt(q,y,E){switch(y.type){case 7:return q.visitTrigger(y,E);case 0:return q.visitState(y,E);case 1:return q.visitTransition(y,E);case 2:return q.visitSequence(y,E);case 3:return q.visitGroup(y,E);case 4:return q.visitAnimate(y,E);case 5:return q.visitKeyframes(y,E);case 6:return q.visitStyle(y,E);case 8:return q.visitReference(y,E);case 9:return q.visitAnimateChild(y,E);case 10:return q.visitAnimateRef(y,E);case 11:return q.visitQuery(y,E);case 12:return q.visitStagger(y,E);default:throw function he(q){return new c.vHH(3004,pe)}()}}function Xt(q,y){return window.getComputedStyle(q)[y]}function xi(q,y){const E=[];return"string"==typeof q?q.split(/\s*,\s*/).forEach(k=>function Wi(q,y,E){if(":"==q[0]){const vt=function hi(q,y){switch(q){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,k)=>parseFloat(k)>parseFloat(E);case":decrement":return(E,k)=>parseFloat(k)<parseFloat(E);default:return y.push(function Ie(q){return new c.vHH(3016,pe)}()),"* => *"}}(q,E);if("function"==typeof vt)return void y.push(vt);q=vt}const k=q.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==k||k.length<4)return E.push(function ke(q){return new c.vHH(3015,pe)}()),y;const X=k[1],Ee=k[2],Be=k[3];y.push(Ui(X,Be));"<"==Ee[0]&&!("*"==X&&"*"==Be)&&y.push(Ui(Be,X))}(k,E,y)):E.push(q),E}const jr=new Set(["true","1"]),Sr=new Set(["false","0"]);function Ui(q,y){const E=jr.has(q)||Sr.has(q),k=jr.has(y)||Sr.has(y);return(X,Ee)=>{let Be="*"==q||q==X,Ye="*"==y||y==Ee;return!Be&&E&&"boolean"==typeof X&&(Be=X?jr.has(q):Sr.has(q)),!Ye&&k&&"boolean"==typeof Ee&&(Ye=Ee?jr.has(y):Sr.has(y)),Be&&Ye}}const Mr=new RegExp("s*:selfs*,?","g");function Xi(q,y,E,k){return new lr(q).build(y,E,k)}class lr{constructor(y){this._driver=y}build(y,E,k){const X=new Oi(E);this._resetContextStyleTimingState(X);const Ee=bt(this,Ke(y),X);return X.unsupportedCSSPropertiesFound.size&&X.unsupportedCSSPropertiesFound.keys(),Ee}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,E){let k=E.queryCount=0,X=E.depCount=0;const Ee=[],Be=[];return"@"==y.name.charAt(0)&&E.errors.push(function ft(){return new c.vHH(3006,pe)}()),y.definitions.forEach(Ye=>{if(this._resetContextStyleTimingState(E),0==Ye.type){const vt=Ye,Vt=vt.name;Vt.toString().split(/\s*,\s*/).forEach(_n=>{vt.name=_n,Ee.push(this.visitState(vt,E))}),vt.name=Vt}else if(1==Ye.type){const vt=this.visitTransition(Ye,E);k+=vt.queryCount,X+=vt.depCount,Be.push(vt)}else E.errors.push(function Ue(){return new c.vHH(3007,pe)}())}),{type:7,name:y.name,states:Ee,transitions:Be,queryCount:k,depCount:X,options:null}}visitState(y,E){const k=this.visitStyle(y.styles,E),X=y.options&&y.options.params||null;if(k.containsDynamicStyles){const Ee=new Set,Be=X||{};k.styles.forEach(Ye=>{if(Or(Ye)){const vt=Ye;Object.keys(vt).forEach(Vt=>{ce(vt[Vt]).forEach(_n=>{Be.hasOwnProperty(_n)||Ee.add(_n)})})}}),Ee.size&&(yt(Ee.values()),E.errors.push(function Te(q,y){return new c.vHH(3008,pe)}()))}return{type:0,name:y.name,style:k,options:X?{params:X}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const k=bt(this,Ke(y.animation),E);return{type:1,matchers:xi(y.expr,E.errors),animation:k,queryCount:E.queryCount,depCount:E.depCount,options:Pr(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(k=>bt(this,k,E)),options:Pr(y.options)}}visitGroup(y,E){const k=E.currentTime;let X=0;const Ee=y.steps.map(Be=>{E.currentTime=k;const Ye=bt(this,Be,E);return X=Math.max(X,E.currentTime),Ye});return E.currentTime=X,{type:3,steps:Ee,options:Pr(y.options)}}visitAnimate(y,E){const k=function Ki(q,y){let E=null;if(q.hasOwnProperty("duration"))E=q;else if("number"==typeof q)return ei(H(q,y).duration,0,"");const k=q;if(k.split(/\s+/).some(Ee=>"{"==Ee.charAt(0)&&"{"==Ee.charAt(1))){const Ee=ei(0,0,"");return Ee.dynamic=!0,Ee.strValue=k,Ee}return E=E||H(k,y),ei(E.duration,E.delay,E.easing)}(y.timings,E.errors);E.currentAnimateTimings=k;let X,Ee=y.styles?y.styles:(0,$.oB)({});if(5==Ee.type)X=this.visitKeyframes(Ee,E);else{let Be=y.styles,Ye=!1;if(!Be){Ye=!0;const Vt={};k.easing&&(Vt.easing=k.easing),Be=(0,$.oB)(Vt)}E.currentTime+=k.duration+k.delay;const vt=this.visitStyle(Be,E);vt.isEmptyStep=Ye,X=vt}return E.currentAnimateTimings=null,{type:4,timings:k,style:X,options:null}}visitStyle(y,E){const k=this._makeStyleAst(y,E);return this._validateStyleAst(k,E),k}_makeStyleAst(y,E){const k=[];Array.isArray(y.styles)?y.styles.forEach(Be=>{"string"==typeof Be?Be==$.l3?k.push(Be):E.errors.push(function Ze(q){return new c.vHH(3002,pe)}()):k.push(Be)}):k.push(y.styles);let X=!1,Ee=null;return k.forEach(Be=>{if(Or(Be)){const Ye=Be,vt=Ye.easing;if(vt&&(Ee=vt,delete Ye.easing),!X)for(let Vt in Ye)if(Ye[Vt].toString().indexOf("{{")>=0){X=!0;break}}}),{type:6,styles:k,easing:Ee,offset:y.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(y,E){const k=E.currentAnimateTimings;let X=E.currentTime,Ee=E.currentTime;k&&Ee>0&&(Ee-=k.duration+k.delay),y.styles.forEach(Be=>{"string"!=typeof Be&&Object.keys(Be).forEach(Ye=>{if(!this._driver.validateStyleProperty(Ye))return delete Be[Ye],void E.unsupportedCSSPropertiesFound.add(Ye);const vt=E.collectedStyles[E.currentQuerySelector],Vt=vt[Ye];let _n=!0;Vt&&(Ee!=X&&Ee>=Vt.startTime&&X<=Vt.endTime&&(E.errors.push(function nt(q,y,E,k,X){return new c.vHH(3010,pe)}()),_n=!1),Ee=Vt.startTime),_n&&(vt[Ye]={startTime:Ee,endTime:X}),E.options&&function ne(q,y,E){const k=y.params||{},X=ce(q);X.length&&X.forEach(Ee=>{k.hasOwnProperty(Ee)||E.push(function Oe(q){return new c.vHH(3001,pe)}())})}(Be[Ye],E.options,E.errors)})})}visitKeyframes(y,E){const k={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function De(){return new c.vHH(3011,pe)}()),k;let Ee=0;const Be=[];let Ye=!1,vt=!1,Vt=0;const _n=y.steps.map(mi=>{const bi=this._makeStyleAst(mi,E);let ss=null!=bi.offset?bi.offset:function Xr(q){if("string"==typeof q)return null;let y=null;if(Array.isArray(q))q.forEach(E=>{if(Or(E)&&E.hasOwnProperty("offset")){const k=E;y=parseFloat(k.offset),delete k.offset}});else if(Or(q)&&q.hasOwnProperty("offset")){const E=q;y=parseFloat(E.offset),delete E.offset}return y}(bi.styles),Vr=0;return null!=ss&&(Ee++,Vr=bi.offset=ss),vt=vt||Vr<0||Vr>1,Ye=Ye||Vr<Vt,Vt=Vr,Be.push(Vr),bi});vt&&E.errors.push(function mt(){return new c.vHH(3012,pe)}()),Ye&&E.errors.push(function Re(){return new c.vHH(3200,pe)}());const Pn=y.steps.length;let Kn=0;Ee>0&&Ee<Pn?E.errors.push(function ve(){return new c.vHH(3202,pe)}()):0==Ee&&(Kn=1/(Pn-1));const Ar=Pn-1,xn=E.currentTime,pr=E.currentAnimateTimings,ni=pr.duration;return _n.forEach((mi,bi)=>{const ss=Kn>0?bi==Ar?1:Kn*bi:Be[bi],Vr=ss*ni;E.currentTime=xn+pr.delay+Vr,pr.duration=Vr,this._validateStyleAst(mi,E),mi.offset=ss,k.styles.push(mi)}),k}visitReference(y,E){return{type:8,animation:bt(this,Ke(y.animation),E),options:Pr(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Pr(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Pr(y.options)}}visitQuery(y,E){const k=E.currentQuerySelector,X=y.options||{};E.queryCount++,E.currentQuery=y;const[Ee,Be]=function li(q){const y=!!q.split(/\s*,\s*/).find(E=>":self"==E);return y&&(q=q.replace(Mr,"")),q=q.replace(/@\*/g,Qt).replace(/@\w+/g,E=>Qt+"-"+E.substr(1)).replace(/:animating/g,O),[q,y]}(y.selector);E.currentQuerySelector=k.length?k+" "+Ee:Ee,kn(E.collectedStyles,E.currentQuerySelector,{});const Ye=bt(this,Ke(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=k,{type:11,selector:Ee,limit:X.limit||0,optional:!!X.optional,includeSelf:Be,animation:Ye,originalSelector:y.selector,options:Pr(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function ge(){return new c.vHH(3013,pe)}());const k="full"===y.timings?{duration:0,delay:0,easing:"full"}:H(y.timings,E.errors,!0);return{type:12,animation:bt(this,Ke(y.animation),E),timings:k,options:null}}}class Oi{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Or(q){return!Array.isArray(q)&&"object"==typeof q}function Pr(q){return q?(q=He(q)).params&&(q.params=function es(q){return q?He(q):null}(q.params)):q={},q}function ei(q,y,E){return{duration:q,delay:y,easing:E}}function Os(q,y,E,k,X,Ee,Be=null,Ye=!1){return{type:1,element:q,keyframes:y,preStyleProps:E,postStyleProps:k,duration:X,delay:Ee,totalTime:X+Ee,easing:Be,subTimeline:Ye}}class ts{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let k=this._map.get(y);k||this._map.set(y,k=[]),k.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ns=new RegExp(":enter","g"),Ts=new RegExp(":leave","g");function zr(q,y,E,k,X,Ee={},Be={},Ye,vt,Vt=[]){return(new uo).buildKeyframes(q,y,E,k,X,Ee,Be,Ye,vt,Vt)}class uo{buildKeyframes(y,E,k,X,Ee,Be,Ye,vt,Vt,_n=[]){Vt=Vt||new ts;const Pn=new rt(y,E,Vt,X,Ee,_n,[]);Pn.options=vt,Pn.currentTimeline.setStyles([Be],null,Pn.errors,vt),bt(this,k,Pn);const Kn=Pn.timelines.filter(Ar=>Ar.containsAnimation());if(Object.keys(Ye).length){let Ar;for(let xn=Kn.length-1;xn>=0;xn--){const pr=Kn[xn];if(pr.element===E){Ar=pr;break}}Ar&&!Ar.allowOnlyTimelineStyles()&&Ar.setStyles([Ye],null,Pn.errors,vt)}return Kn.length?Kn.map(Ar=>Ar.buildKeyframes()):[Os(E,[],[],[],0,0,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const k=E.subInstructions.get(E.element);if(k){const X=E.createSubContext(y.options),Ee=E.currentTimeline.currentTime,Be=this._visitSubInstructions(k,X,X.options);Ee!=Be&&E.transformIntoNewTimeline(Be)}E.previousNode=y}visitAnimateRef(y,E){const k=E.createSubContext(y.options);k.transformIntoNewTimeline(),this.visitReference(y.animation,k),E.transformIntoNewTimeline(k.currentTimeline.currentTime),E.previousNode=y}_visitSubInstructions(y,E,k){let Ee=E.currentTimeline.currentTime;const Be=null!=k.duration?I(k.duration):null,Ye=null!=k.delay?I(k.delay):null;return 0!==Be&&y.forEach(vt=>{const Vt=E.appendInstructionToTimeline(vt,Be,Ye);Ee=Math.max(Ee,Vt.duration+Vt.delay)}),Ee}visitReference(y,E){E.updateOptions(y.options,!0),bt(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const k=E.subContextCount;let X=E;const Ee=y.options;if(Ee&&(Ee.params||Ee.delay)&&(X=E.createSubContext(Ee),X.transformIntoNewTimeline(),null!=Ee.delay)){6==X.previousNode.type&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=ut);const Be=I(Ee.delay);X.delayNextStep(Be)}y.steps.length&&(y.steps.forEach(Be=>bt(this,Be,X)),X.currentTimeline.applyStylesToKeyframe(),X.subContextCount>k&&X.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const k=[];let X=E.currentTimeline.currentTime;const Ee=y.options&&y.options.delay?I(y.options.delay):0;y.steps.forEach(Be=>{const Ye=E.createSubContext(y.options);Ee&&Ye.delayNextStep(Ee),bt(this,Be,Ye),X=Math.max(X,Ye.currentTimeline.currentTime),k.push(Ye.currentTimeline)}),k.forEach(Be=>E.currentTimeline.mergeTimelineCollectedStyles(Be)),E.transformIntoNewTimeline(X),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const k=y.strValue;return H(E.params?Ve(k,E.params,E.errors):k,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const k=E.currentAnimateTimings=this._visitTiming(y.timings,E),X=E.currentTimeline;k.delay&&(E.incrementTime(k.delay),X.snapshotCurrentStyles());const Ee=y.style;5==Ee.type?this.visitKeyframes(Ee,E):(E.incrementTime(k.duration),this.visitStyle(Ee,E),X.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const k=E.currentTimeline,X=E.currentAnimateTimings;!X&&k.getCurrentStyleProperties().length&&k.forwardFrame();const Ee=X&&X.easing||y.easing;y.isEmptyStep?k.applyEmptyStep(Ee):k.setStyles(y.styles,Ee,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const k=E.currentAnimateTimings,X=E.currentTimeline.duration,Ee=k.duration,Ye=E.createSubContext().currentTimeline;Ye.easing=k.easing,y.styles.forEach(vt=>{Ye.forwardTime((vt.offset||0)*Ee),Ye.setStyles(vt.styles,vt.easing,E.errors,E.options),Ye.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(Ye),E.transformIntoNewTimeline(X+Ee),E.previousNode=y}visitQuery(y,E){const k=E.currentTimeline.currentTime,X=y.options||{},Ee=X.delay?I(X.delay):0;Ee&&(6===E.previousNode.type||0==k&&E.currentTimeline.getCurrentStyleProperties().length)&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=ut);let Be=k;const Ye=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!X.optional,E.errors);E.currentQueryTotal=Ye.length;let vt=null;Ye.forEach((Vt,_n)=>{E.currentQueryIndex=_n;const Pn=E.createSubContext(y.options,Vt);Ee&&Pn.delayNextStep(Ee),Vt===E.element&&(vt=Pn.currentTimeline),bt(this,y.animation,Pn),Pn.currentTimeline.applyStylesToKeyframe(),Be=Math.max(Be,Pn.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Be),vt&&(E.currentTimeline.mergeTimelineCollectedStyles(vt),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const k=E.parentContext,X=E.currentTimeline,Ee=y.timings,Be=Math.abs(Ee.duration),Ye=Be*(E.currentQueryTotal-1);let vt=Be*E.currentQueryIndex;switch(Ee.duration<0?"reverse":Ee.easing){case"reverse":vt=Ye-vt;break;case"full":vt=k.currentStaggerTime}const _n=E.currentTimeline;vt&&_n.delayNextStep(vt);const Pn=_n.currentTime;bt(this,y.animation,E),E.previousNode=y,k.currentStaggerTime=X.currentTime-Pn+(X.startTime-k.currentTimeline.startTime)}}const ut={};class rt{constructor(y,E,k,X,Ee,Be,Ye,vt){this._driver=y,this.element=E,this.subInstructions=k,this._enterClassName=X,this._leaveClassName=Ee,this.errors=Be,this.timelines=Ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=vt||new gt(this._driver,E,0),Ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const k=y;let X=this.options;null!=k.duration&&(X.duration=I(k.duration)),null!=k.delay&&(X.delay=I(k.delay));const Ee=k.params;if(Ee){let Be=X.params;Be||(Be=this.options.params={}),Object.keys(Ee).forEach(Ye=>{(!E||!Be.hasOwnProperty(Ye))&&(Be[Ye]=Ve(Ee[Ye],Be,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const k=y.params={};Object.keys(E).forEach(X=>{k[X]=E[X]})}}return y}createSubContext(y=null,E,k){const X=E||this.element,Ee=new rt(this._driver,X,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(X,k||0));return Ee.previousNode=this.previousNode,Ee.currentAnimateTimings=this.currentAnimateTimings,Ee.options=this._copyOptions(),Ee.updateOptions(y),Ee.currentQueryIndex=this.currentQueryIndex,Ee.currentQueryTotal=this.currentQueryTotal,Ee.parentContext=this,this.subContextCount++,Ee}transformIntoNewTimeline(y){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,k){const X={duration:E??y.duration,delay:this.currentTimeline.currentTime+(k??0)+y.delay,easing:""},Ee=new Nt(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,X,y.stretchStartingKeyframe);return this.timelines.push(Ee),X}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,k,X,Ee,Be){let Ye=[];if(X&&Ye.push(this.element),y.length>0){y=(y=y.replace(ns,"."+this._enterClassName)).replace(Ts,"."+this._leaveClassName);let Vt=this._driver.query(this.element,y,1!=k);0!==k&&(Vt=k<0?Vt.slice(Vt.length+k,Vt.length):Vt.slice(0,k)),Ye.push(...Vt)}return!Ee&&0==Ye.length&&Be.push(function lt(q){return new c.vHH(3014,pe)}()),Ye}}class gt{constructor(y,E,k,X){this._driver=y,this.element=E,this.startTime=k,this._elementTimelineStylesLookup=X,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new gt(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles[y]=E,this._globalTimelineStyles[y]=E,this._styleSummary[y]={time:this.currentTime,value:E}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(E=>{this._backFill[E]=this._globalTimelineStyles[E]||$.l3,this._currentKeyframe[E]=$.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,k,X){E&&(this._previousKeyframe.easing=E);const Ee=X&&X.params||{},Be=function fn(q,y){const E={};let k;return q.forEach(X=>{"*"===X?(k=k||Object.keys(y),k.forEach(Ee=>{E[Ee]=$.l3})):kt(X,!1,E)}),E}(y,this._globalTimelineStyles);Object.keys(Be).forEach(Ye=>{const vt=Ve(Be[Ye],Ee,k);this._pendingStyles[Ye]=vt,this._localTimelineStyles.hasOwnProperty(Ye)||(this._backFill[Ye]=this._globalTimelineStyles.hasOwnProperty(Ye)?this._globalTimelineStyles[Ye]:$.l3),this._updateStyle(Ye,vt)})}applyStylesToKeyframe(){const y=this._pendingStyles,E=Object.keys(y);0!=E.length&&(this._pendingStyles={},E.forEach(k=>{this._currentKeyframe[k]=y[k]}),Object.keys(this._localTimelineStyles).forEach(k=>{this._currentKeyframe.hasOwnProperty(k)||(this._currentKeyframe[k]=this._localTimelineStyles[k])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const E=this._localTimelineStyles[y];this._pendingStyles[y]=E,this._updateStyle(y,E)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(E=>{const k=this._styleSummary[E],X=y._styleSummary[E];(!k||X.time>k.time)&&this._updateStyle(E,X.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,k=1===this._keyframes.size&&0===this.duration;let X=[];this._keyframes.forEach((Ye,vt)=>{const Vt=kt(Ye,!0);Object.keys(Vt).forEach(_n=>{const Pn=Vt[_n];Pn==$.k1?y.add(_n):Pn==$.l3&&E.add(_n)}),k||(Vt.offset=vt/this.duration),X.push(Vt)});const Ee=y.size?yt(y.values()):[],Be=E.size?yt(E.values()):[];if(k){const Ye=X[0],vt=He(Ye);Ye.offset=0,vt.offset=1,X=[Ye,vt]}return Os(this.element,X,Ee,Be,this.duration,this.startTime,this.easing,!1)}}class Nt extends gt{constructor(y,E,k,X,Ee,Be,Ye=!1){super(y,E,Be.delay),this.keyframes=k,this.preStyleProps=X,this.postStyleProps=Ee,this._stretchStartingKeyframe=Ye,this.timings={duration:Be.duration,delay:Be.delay,easing:Be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:k,easing:X}=this.timings;if(this._stretchStartingKeyframe&&E){const Ee=[],Be=k+E,Ye=E/Be,vt=kt(y[0],!1);vt.offset=0,Ee.push(vt);const Vt=kt(y[0],!1);Vt.offset=tn(Ye),Ee.push(Vt);const _n=y.length-1;for(let Pn=1;Pn<=_n;Pn++){let Kn=kt(y[Pn],!1);Kn.offset=tn((E+Kn.offset*k)/Be),Ee.push(Kn)}k=Be,E=0,X="",y=Ee}return Os(this.element,y,this.preStyleProps,this.postStyleProps,k,E,X,!0)}}function tn(q,y=3){const E=Math.pow(10,y-1);return Math.round(q*E)/E}class Wr{}class Ri extends Wr{normalizePropertyName(y,E){return Ce(y)}normalizeStyleValue(y,E,k,X){let Ee="";const Be=k.toString().trim();if(ds[E]&&0!==k&&"0"!==k)if("number"==typeof k)Ee="px";else{const Ye=k.match(/^[+-]?[\d\.]+([a-z]*)$/);Ye&&0==Ye[1].length&&X.push(function Se(q,y){return new c.vHH(3005,pe)}())}return Be+Ee}}const ds=(()=>function qi(q){const y={};return q.forEach(E=>y[E]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hs(q,y,E,k,X,Ee,Be,Ye,vt,Vt,_n,Pn,Kn){return{type:0,element:q,triggerName:y,isRemovalTransition:X,fromState:E,fromStyles:Ee,toState:k,toStyles:Be,timelines:Ye,queriedElements:vt,preStyleProps:Vt,postStyleProps:_n,totalTime:Pn,errors:Kn}}const rs={};class Di{constructor(y,E,k){this._triggerName=y,this.ast=E,this._stateStyles=k}match(y,E,k,X){return function yo(q,y,E,k,X){return q.some(Ee=>Ee(y,E,k,X))}(this.ast.matchers,y,E,k,X)}buildStyles(y,E,k){const X=this._stateStyles["*"],Ee=this._stateStyles[y],Be=X?X.buildStyles(E,k):{};return Ee?Ee.buildStyles(E,k):Be}build(y,E,k,X,Ee,Be,Ye,vt,Vt,_n){const Pn=[],Kn=this.ast.options&&this.ast.options.params||rs,xn=this.buildStyles(k,Ye&&Ye.params||rs,Pn),pr=vt&&vt.params||rs,ni=this.buildStyles(X,pr,Pn),mi=new Set,bi=new Map,ss=new Map,Vr="void"===X,Ss={params:{...Kn,...pr}},Qr=_n?[]:zr(y,E,this.ast.animation,Ee,Be,xn,ni,Ss,Vt,Pn);let os=0;if(Qr.forEach(Io=>{os=Math.max(Io.duration+Io.delay,os)}),Pn.length)return hs(E,this._triggerName,k,X,Vr,xn,ni,[],[],bi,ss,os,Pn);Qr.forEach(Io=>{const Do=Io.element,To=kn(bi,Do,{});Io.preStyleProps.forEach(Us=>To[Us]=!0);const Xo=kn(ss,Do,{});Io.postStyleProps.forEach(Us=>Xo[Us]=!0),Do!==E&&mi.add(Do)});const Ls=yt(mi.values());return hs(E,this._triggerName,k,X,Vr,xn,ni,Qr,Ls,bi,ss,os)}}class gs{constructor(y,E,k){this.styles=y,this.defaultParams=E,this.normalizer=k}buildStyles(y,E){const k={},X=He(this.defaultParams);return Object.keys(y).forEach(Ee=>{const Be=y[Ee];null!=Be&&(X[Ee]=Be)}),this.styles.styles.forEach(Ee=>{if("string"!=typeof Ee){const Be=Ee;Object.keys(Be).forEach(Ye=>{let vt=Be[Ye];vt.length>1&&(vt=Ve(vt,X,E));const Vt=this.normalizer.normalizePropertyName(Ye,E);vt=this.normalizer.normalizeStyleValue(Ye,Vt,vt,E),k[Vt]=vt})}}),k}}class Ti{constructor(y,E,k){this.name=y,this.ast=E,this._normalizer=k,this.transitionFactories=[],this.states={},E.states.forEach(X=>{this.states[X.name]=new gs(X.style,X.options&&X.options.params||{},k)}),Gs(this.states,"true","1"),Gs(this.states,"false","0"),E.transitions.forEach(X=>{this.transitionFactories.push(new Di(y,X,this.states))}),this.fallbackTransition=function _s(q,y,E){return new Di(q,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Be,Ye)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,k,X){return this.transitionFactories.find(Be=>Be.match(y,E,k,X))||null}matchStyles(y,E,k){return this.fallbackTransition.buildStyles(y,E,k)}}function Gs(q,y,E){q.hasOwnProperty(y)?q.hasOwnProperty(E)||(q[E]=q[y]):q.hasOwnProperty(E)&&(q[y]=q[E])}const ks=new ts;class Ns{constructor(y,E,k){this.bodyNode=y,this._driver=E,this._normalizer=k,this._animations={},this._playersById={},this.players=[]}register(y,E){const k=[],Ee=Xi(this._driver,E,k,[]);if(k.length)throw function $e(q){return new c.vHH(3503,pe)}();this._animations[y]=Ee}_buildPlayer(y,E,k){const X=y.element,Ee=rr(0,this._normalizer,0,y.keyframes,E,k);return this._driver.animate(X,Ee,y.duration,y.delay,y.easing,[],!0)}create(y,E,k={}){const X=[],Ee=this._animations[y];let Be;const Ye=new Map;if(Ee?(Be=zr(this._driver,E,Ee,Tr,Nn,{},{},k,ks,X),Be.forEach(_n=>{const Pn=kn(Ye,_n.element,{});_n.postStyleProps.forEach(Kn=>Pn[Kn]=null)})):(X.push(function Le(){return new c.vHH(3300,pe)}()),Be=[]),X.length)throw function dt(q){return new c.vHH(3504,pe)}();Ye.forEach((_n,Pn)=>{Object.keys(_n).forEach(Kn=>{_n[Kn]=this._driver.computeStyle(Pn,Kn,$.l3)})});const Vt=En(Be.map(_n=>{const Pn=Ye.get(_n.element);return this._buildPlayer(_n,{},Pn)}));return this._playersById[y]=Vt,Vt.onDestroy(()=>this.destroy(y)),this.players.push(Vt),Vt}destroy(y){const E=this._getPlayer(y);E.destroy(),delete this._playersById[y];const k=this.players.indexOf(E);k>=0&&this.players.splice(k,1)}_getPlayer(y){const E=this._playersById[y];if(!E)throw function tt(q){return new c.vHH(3301,pe)}();return E}listen(y,E,k,X){const Ee=Wn(E,"","","");return hr(this._getPlayer(y),k,Ee,X),()=>{}}command(y,E,k,X){if("register"==k)return void this.register(y,X[0]);if("create"==k)return void this.create(y,E,X[0]||{});const Ee=this._getPlayer(y);switch(k){case"play":Ee.play();break;case"pause":Ee.pause();break;case"reset":Ee.reset();break;case"restart":Ee.restart();break;case"finish":Ee.finish();break;case"init":Ee.init();break;case"setPosition":Ee.setPosition(parseFloat(X[0]));break;case"destroy":this.destroy(y)}}}const ko="ng-animate-queued",Fs="ng-animate-disabled",xr=[],si={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed";class ji{constructor(y,E=""){this.namespaceId=E;const k=y&&y.hasOwnProperty("value");if(this.value=function L(q){return q??null}(k?y.value:y),k){const Ee=He(y);delete Ee.value,this.options=Ee}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const E=y.params;if(E){const k=this.options.params;Object.keys(E).forEach(X=>{null==k[X]&&(k[X]=E[X])})}}}const As="void",is=new ji(As);class Zs{constructor(y,E,k){this.id=y,this.hostElement=E,this._engine=k,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Ut(E,this._hostClassName)}listen(y,E,k,X){if(!this._triggers.hasOwnProperty(E))throw function Ct(q,y){return new c.vHH(3302,pe)}();if(null==k||0==k.length)throw function $t(q){return new c.vHH(3303,pe)}();if(!function U(q){return"start"==q||"done"==q}(k))throw function Tt(q,y){return new c.vHH(3400,pe)}();const Ee=kn(this._elementListeners,y,[]),Be={name:E,phase:k,callback:X};Ee.push(Be);const Ye=kn(this._engine.statesByElement,y,{});return Ye.hasOwnProperty(E)||(Ut(y,Ln),Ut(y,Ln+"-"+E),Ye[E]=is),()=>{this._engine.afterFlush(()=>{const vt=Ee.indexOf(Be);vt>=0&&Ee.splice(vt,1),this._triggers[E]||delete Ye[E]})}}register(y,E){return!this._triggers[y]&&(this._triggers[y]=E,!0)}_getTrigger(y){const E=this._triggers[y];if(!E)throw function Rt(q){return new c.vHH(3401,pe)}();return E}trigger(y,E,k,X=!0){const Ee=this._getTrigger(E),Be=new Hi(this.id,E,y);let Ye=this._engine.statesByElement.get(y);Ye||(Ut(y,Ln),Ut(y,Ln+"-"+E),this._engine.statesByElement.set(y,Ye={}));let vt=Ye[E];const Vt=new ji(k,this.id);if(!(k&&k.hasOwnProperty("value"))&&vt&&Vt.absorbOptions(vt.options),Ye[E]=Vt,vt||(vt=is),Vt.value!==As&&vt.value===Vt.value){if(!function wr(q,y){const E=Object.keys(q),k=Object.keys(y);if(E.length!=k.length)return!1;for(let X=0;X<E.length;X++){const Ee=E[X];if(!y.hasOwnProperty(Ee)||q[Ee]!==y[Ee])return!1}return!0}(vt.params,Vt.params)){const pr=[],ni=Ee.matchStyles(vt.value,vt.params,pr),mi=Ee.matchStyles(Vt.value,Vt.params,pr);pr.length?this._engine.reportError(pr):this._engine.afterFlush(()=>{st(y,ni),an(y,mi)})}return}const Kn=kn(this._engine.playersByElement,y,[]);Kn.forEach(pr=>{pr.namespaceId==this.id&&pr.triggerName==E&&pr.queued&&pr.destroy()});let Ar=Ee.matchTransition(vt.value,Vt.value,y,Vt.params),xn=!1;if(!Ar){if(!X)return;Ar=Ee.fallbackTransition,xn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:Ar,fromState:vt,toState:Vt,player:Be,isFallbackTransition:xn}),xn||(Ut(y,ko),Be.onStart(()=>{Cn(y,ko)})),Be.onDone(()=>{let pr=this.players.indexOf(Be);pr>=0&&this.players.splice(pr,1);const ni=this._engine.playersByElement.get(y);if(ni){let mi=ni.indexOf(Be);mi>=0&&ni.splice(mi,1)}}),this.players.push(Be),Kn.push(Be),Be}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((E,k)=>{delete E[y]}),this._elementListeners.forEach((E,k)=>{this._elementListeners.set(k,E.filter(X=>X.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(k=>k.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const k=this._engine.driver.query(y,Qt,!0);k.forEach(X=>{if(X[_i])return;const Ee=this._engine.fetchNamespacesByElement(X);Ee.size?Ee.forEach(Be=>Be.triggerLeaveAnimation(X,E,!1,!0)):this.clearElementCache(X)}),this._engine.afterFlushAnimationsDone(()=>k.forEach(X=>this.clearElementCache(X)))}triggerLeaveAnimation(y,E,k,X){const Ee=this._engine.statesByElement.get(y),Be=new Map;if(Ee){const Ye=[];if(Object.keys(Ee).forEach(vt=>{if(Be.set(vt,Ee[vt].value),this._triggers[vt]){const Vt=this.trigger(y,vt,As,X);Vt&&Ye.push(Vt)}}),Ye.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,Be),k&&En(Ye).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),k=this._engine.statesByElement.get(y);if(E&&k){const X=new Set;E.forEach(Ee=>{const Be=Ee.name;if(X.has(Be))return;X.add(Be);const vt=this._triggers[Be].fallbackTransition,Vt=k[Be]||is,_n=new ji(As),Pn=new Hi(this.id,Be,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Be,transition:vt,fromState:Vt,toState:_n,player:Pn,isFallbackTransition:!0})})}}removeNode(y,E){const k=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let X=!1;if(k.totalAnimations){const Ee=k.players.length?k.playersByQueriedElement.get(y):[];if(Ee&&Ee.length)X=!0;else{let Be=y;for(;Be=Be.parentNode;)if(k.statesByElement.get(Be)){X=!0;break}}}if(this.prepareLeaveAnimationListeners(y),X)k.markElementAsRemoved(this.id,y,!1,E);else{const Ee=y[_i];(!Ee||Ee===si)&&(k.afterFlush(()=>this.clearElementCache(y)),k.destroyInnerAnimations(y),k._onRemovalComplete(y,E))}}insertNode(y,E){Ut(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(k=>{const X=k.player;if(X.destroyed)return;const Ee=k.element,Be=this._elementListeners.get(Ee);Be&&Be.forEach(Ye=>{if(Ye.name==k.triggerName){const vt=Wn(Ee,k.triggerName,k.fromState.value,k.toState.value);vt._data=y,hr(k.player,Ye.phase,vt,Ye.callback)}}),X.markedForDestroy?this._engine.afterFlush(()=>{X.destroy()}):E.push(k)}),this._queue=[],E.sort((k,X)=>{const Ee=k.transition.ast.depCount,Be=X.transition.ast.depCount;return 0==Ee||0==Be?Ee-Be:this._engine.driver.containsElement(k.element,X.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let E=!1;return this._elementListeners.has(y)&&(E=!0),E=!!this._queue.find(k=>k.element===y)||E,E}}class vs{constructor(y,E,k){this.bodyNode=y,this.driver=E,this._normalizer=k,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(X,Ee)=>{}}_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(k=>{k.queued&&y.push(k)})}),y}createNamespace(y,E){const k=new Zs(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(k,E):(this.newHostElements.set(E,k),this.collectEnterElement(E)),this._namespaceLookup[y]=k}_balanceNamespaceList(y,E){const k=this._namespaceList,X=this.namespacesByHostElement,Ee=k.length-1;if(Ee>=0){let Be=!1;if(void 0!==this.driver.getParentElement){let Ye=this.driver.getParentElement(E);for(;Ye;){const vt=X.get(Ye);if(vt){const Vt=k.indexOf(vt);k.splice(Vt+1,0,y),Be=!0;break}Ye=this.driver.getParentElement(Ye)}}else for(let Ye=Ee;Ye>=0;Ye--)if(this.driver.containsElement(k[Ye].hostElement,E)){k.splice(Ye+1,0,y),Be=!0;break}Be||k.unshift(y)}else k.push(y);return X.set(E,y),y}register(y,E){let k=this._namespaceLookup[y];return k||(k=this.createNamespace(y,E)),k}registerTrigger(y,E,k){let X=this._namespaceLookup[y];X&&X.register(E,k)&&this.totalAnimations++}destroy(y,E){if(!y)return;const k=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(k.hostElement),delete this._namespaceLookup[y];const X=this._namespaceList.indexOf(k);X>=0&&this._namespaceList.splice(X,1)}),this.afterFlushAnimationsDone(()=>k.destroy(E))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,k=this.statesByElement.get(y);if(k){const X=Object.keys(k);for(let Ee=0;Ee<X.length;Ee++){const Be=k[X[Ee]].namespaceId;if(Be){const Ye=this._fetchNamespace(Be);Ye&&E.add(Ye)}}}return E}trigger(y,E,k,X){if(te(E)){const Ee=this._fetchNamespace(y);if(Ee)return Ee.trigger(E,k,X),!0}return!1}insertNode(y,E,k,X){if(!te(E))return;const Ee=E[_i];if(Ee&&Ee.setForRemoval){Ee.setForRemoval=!1,Ee.setForMove=!0;const Be=this.collectedLeaveElements.indexOf(E);Be>=0&&this.collectedLeaveElements.splice(Be,1)}if(y){const Be=this._fetchNamespace(y);Be&&Be.insertNode(E,k)}X&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Ut(y,Fs)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Cn(y,Fs))}removeNode(y,E,k,X){if(te(E)){const Ee=y?this._fetchNamespace(y):null;if(Ee?Ee.removeNode(E,X):this.markElementAsRemoved(y,E,!1,X),k){const Be=this.namespacesByHostElement.get(E);Be&&Be.id!==y&&Be.removeNode(E,X)}}else this._onRemovalComplete(E,X)}markElementAsRemoved(y,E,k,X,Ee){this.collectedLeaveElements.push(E),E[_i]={namespaceId:y,setForRemoval:X,hasAnimation:k,removedBeforeQueried:!1,previousTriggersValues:Ee}}listen(y,E,k,X,Ee){return te(E)?this._fetchNamespace(y).listen(E,k,X,Ee):()=>{}}_buildInstruction(y,E,k,X,Ee){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,k,X,y.fromState.options,y.toState.options,E,Ee)}destroyInnerAnimations(y){let E=this.driver.query(y,Qt,!0);E.forEach(k=>this.destroyActiveAnimationsForElement(k)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,O,!0),E.forEach(k=>this.finishActiveQueriedAnimationOnElement(k)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(k=>{k.queued?k.markedForDestroy=!0:k.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(k=>k.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return En(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[_i];if(E&&E.setForRemoval){if(y[_i]=si,E.namespaceId){this.destroyInnerAnimations(y);const k=this._fetchNamespace(E.namespaceId);k&&k.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(Fs)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(k=>{this.markElementAsDisabled(k,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((k,X)=>this._balanceNamespaceList(k,X)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let k=0;k<this.collectedEnterElements.length;k++)Ut(this.collectedEnterElements[k],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const k=[];try{E=this._flushAnimations(k,y)}finally{for(let X=0;X<k.length;X++)k[X]()}}else for(let k=0;k<this.collectedLeaveElements.length;k++)this.processLeaveNode(this.collectedLeaveElements[k]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(k=>k()),this._flushFns=[],this._whenQuietFns.length){const k=this._whenQuietFns;this._whenQuietFns=[],E.length?En(E).onDone(()=>{k.forEach(X=>X())}):k.forEach(X=>X())}}reportError(y){throw function zt(q){return new c.vHH(3402,pe)}()}_flushAnimations(y,E){const k=new ts,X=[],Ee=new Map,Be=[],Ye=new Map,vt=new Map,Vt=new Map,_n=new Set;this.disabledNodes.forEach(dn=>{_n.add(dn);const vn=this.driver.query(dn,".ng-animate-queued",!0);for(let Qn=0;Qn<vn.length;Qn++)_n.add(vn[Qn])});const Pn=this.bodyNode,Kn=Array.from(this.statesByElement.keys()),Ar=Pt(Kn,this.collectedEnterElements),xn=new Map;let pr=0;Ar.forEach((dn,vn)=>{const Qn=Tr+pr++;xn.set(vn,Qn),dn.forEach(mr=>Ut(mr,Qn))});const ni=[],mi=new Set,bi=new Set;for(let dn=0;dn<this.collectedLeaveElements.length;dn++){const vn=this.collectedLeaveElements[dn],Qn=vn[_i];Qn&&Qn.setForRemoval&&(ni.push(vn),mi.add(vn),Qn.hasAnimation?this.driver.query(vn,".ng-star-inserted",!0).forEach(mr=>mi.add(mr)):bi.add(vn))}const ss=new Map,Vr=Pt(Kn,Array.from(mi));Vr.forEach((dn,vn)=>{const Qn=Nn+pr++;ss.set(vn,Qn),dn.forEach(mr=>Ut(mr,Qn))}),y.push(()=>{Ar.forEach((dn,vn)=>{const Qn=xn.get(vn);dn.forEach(mr=>Cn(mr,Qn))}),Vr.forEach((dn,vn)=>{const Qn=ss.get(vn);dn.forEach(mr=>Cn(mr,Qn))}),ni.forEach(dn=>{this.processLeaveNode(dn)})});const Ss=[],Qr=[];for(let dn=this._namespaceList.length-1;dn>=0;dn--)this._namespaceList[dn].drainQueuedTransitions(E).forEach(Qn=>{const mr=Qn.player,Zr=Qn.element;if(Ss.push(mr),this.collectedEnterElements.length){const Es=Zr[_i];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(Qn.triggerName)){const Ao=Es.previousTriggersValues.get(Qn.triggerName),oi=this.statesByElement.get(Qn.element);oi&&oi[Qn.triggerName]&&(oi[Qn.triggerName].value=Ao)}return void mr.destroy()}}const as=!Pn||!this.driver.containsElement(Pn,Zr),ps=ss.get(Zr),bs=xn.get(Zr),Jr=this._buildInstruction(Qn,k,bs,ps,as);if(Jr.errors&&Jr.errors.length)return void Qr.push(Jr);if(as)return mr.onStart(()=>st(Zr,Jr.fromStyles)),mr.onDestroy(()=>an(Zr,Jr.toStyles)),void X.push(mr);if(Qn.isFallbackTransition)return mr.onStart(()=>st(Zr,Jr.fromStyles)),mr.onDestroy(()=>an(Zr,Jr.toStyles)),void X.push(mr);const ea=[];Jr.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||ea.push(Es)}),Jr.timelines=ea,k.append(Zr,Jr.timelines),Be.push({instruction:Jr,player:mr,element:Zr}),Jr.queriedElements.forEach(Es=>kn(Ye,Es,[]).push(mr)),Jr.preStyleProps.forEach((Es,Ao)=>{const oi=Object.keys(Es);if(oi.length){let qs=vt.get(Ao);qs||vt.set(Ao,qs=new Set),oi.forEach(So=>qs.add(So))}}),Jr.postStyleProps.forEach((Es,Ao)=>{const oi=Object.keys(Es);let qs=Vt.get(Ao);qs||Vt.set(Ao,qs=new Set),oi.forEach(So=>qs.add(So))})});if(Qr.length){const dn=[];Qr.forEach(vn=>{dn.push(function Dt(q,y){return new c.vHH(3505,pe)}())}),Ss.forEach(vn=>vn.destroy()),this.reportError(dn)}const os=new Map,Ls=new Map;Be.forEach(dn=>{const vn=dn.element;k.has(vn)&&(Ls.set(vn,vn),this._beforeAnimationBuild(dn.player.namespaceId,dn.instruction,os))}),X.forEach(dn=>{const vn=dn.element;this._getPreviousPlayers(vn,!1,dn.namespaceId,dn.triggerName,null).forEach(mr=>{kn(os,vn,[]).push(mr),mr.destroy()})});const Io=ni.filter(dn=>Kr(dn,vt,Vt)),Do=new Map;Ge(Do,this.driver,bi,Vt,$.l3).forEach(dn=>{Kr(dn,vt,Vt)&&Io.push(dn)});const Xo=new Map;Ar.forEach((dn,vn)=>{Ge(Xo,this.driver,new Set(dn),vt,$.k1)}),Io.forEach(dn=>{const vn=Do.get(dn),Qn=Xo.get(dn);Do.set(dn,{...vn,...Qn})});const Us=[],Ks=[],vo={};Be.forEach(dn=>{const{element:vn,player:Qn,instruction:mr}=dn;if(k.has(vn)){if(_n.has(vn))return Qn.onDestroy(()=>an(vn,mr.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(mr.totalTime),void X.push(Qn);let Zr=vo;if(Ls.size>1){let ps=vn;const bs=[];for(;ps=ps.parentNode;){const Jr=Ls.get(ps);if(Jr){Zr=Jr;break}bs.push(ps)}bs.forEach(Jr=>Ls.set(Jr,Zr))}const as=this._buildAnimation(Qn.namespaceId,mr,os,Ee,Xo,Do);if(Qn.setRealPlayer(as),Zr===vo)Us.push(Qn);else{const ps=this.playersByElement.get(Zr);ps&&ps.length&&(Qn.parentPlayer=En(ps)),X.push(Qn)}}else st(vn,mr.fromStyles),Qn.onDestroy(()=>an(vn,mr.toStyles)),Ks.push(Qn),_n.has(vn)&&X.push(Qn)}),Ks.forEach(dn=>{const vn=Ee.get(dn.element);if(vn&&vn.length){const Qn=En(vn);dn.setRealPlayer(Qn)}}),X.forEach(dn=>{dn.parentPlayer?dn.syncPlayerEvents(dn.parentPlayer):dn.destroy()});for(let dn=0;dn<ni.length;dn++){const vn=ni[dn],Qn=vn[_i];if(Cn(vn,Nn),Qn&&Qn.hasAnimation)continue;let mr=[];if(Ye.size){let as=Ye.get(vn);as&&as.length&&mr.push(...as);let ps=this.driver.query(vn,O,!0);for(let bs=0;bs<ps.length;bs++){let Jr=Ye.get(ps[bs]);Jr&&Jr.length&&mr.push(...Jr)}}const Zr=mr.filter(as=>!as.destroyed);Zr.length?qn(this,vn,Zr):this.processLeaveNode(vn)}return ni.length=0,Us.forEach(dn=>{this.players.push(dn),dn.onDone(()=>{dn.destroy();const vn=this.players.indexOf(dn);this.players.splice(vn,1)}),dn.play()}),Us}elementContainsData(y,E){let k=!1;const X=E[_i];return X&&X.setForRemoval&&(k=!0),this.playersByElement.has(E)&&(k=!0),this.playersByQueriedElement.has(E)&&(k=!0),this.statesByElement.has(E)&&(k=!0),this._fetchNamespace(y).elementContainsData(E)||k}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,k,X,Ee){let Be=[];if(E){const Ye=this.playersByQueriedElement.get(y);Ye&&(Be=Ye)}else{const Ye=this.playersByElement.get(y);if(Ye){const vt=!Ee||Ee==As;Ye.forEach(Vt=>{Vt.queued||!vt&&Vt.triggerName!=X||Be.push(Vt)})}}return(k||X)&&(Be=Be.filter(Ye=>!(k&&k!=Ye.namespaceId||X&&X!=Ye.triggerName))),Be}_beforeAnimationBuild(y,E,k){const Ee=E.element,Be=E.isRemovalTransition?void 0:y,Ye=E.isRemovalTransition?void 0:E.triggerName;for(const vt of E.timelines){const Vt=vt.element,_n=Vt!==Ee,Pn=kn(k,Vt,[]);this._getPreviousPlayers(Vt,_n,Be,Ye,E.toState).forEach(Ar=>{const xn=Ar.getRealPlayer();xn.beforeDestroy&&xn.beforeDestroy(),Ar.destroy(),Pn.push(Ar)})}st(Ee,E.fromStyles)}_buildAnimation(y,E,k,X,Ee,Be){const Ye=E.triggerName,vt=E.element,Vt=[],_n=new Set,Pn=new Set,Kn=E.timelines.map(xn=>{const pr=xn.element;_n.add(pr);const ni=pr[_i];if(ni&&ni.removedBeforeQueried)return new $.ZN(xn.duration,xn.delay);const mi=pr!==vt,bi=function gr(q){const y=[];return nr(q,y),y}((k.get(pr)||xr).map(os=>os.getRealPlayer())).filter(os=>!!os.element&&os.element===pr),ss=Ee.get(pr),Vr=Be.get(pr),Ss=rr(0,this._normalizer,0,xn.keyframes,ss,Vr),Qr=this._buildPlayer(xn,Ss,bi);if(xn.subTimeline&&X&&Pn.add(pr),mi){const os=new Hi(y,Ye,pr);os.setRealPlayer(Qr),Vt.push(os)}return Qr});Vt.forEach(xn=>{kn(this.playersByQueriedElement,xn.element,[]).push(xn),xn.onDone(()=>function fr(q,y,E){let k;if(q instanceof Map){if(k=q.get(y),k){if(k.length){const X=k.indexOf(E);k.splice(X,1)}0==k.length&&q.delete(y)}}else if(k=q[y],k){if(k.length){const X=k.indexOf(E);k.splice(X,1)}0==k.length&&delete q[y]}return k}(this.playersByQueriedElement,xn.element,xn))}),_n.forEach(xn=>Ut(xn,Ot));const Ar=En(Kn);return Ar.onDestroy(()=>{_n.forEach(xn=>Cn(xn,Ot)),an(vt,E.toStyles)}),Pn.forEach(xn=>{kn(X,xn,[]).push(Ar)}),Ar}_buildPlayer(y,E,k){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,k):new $.ZN(y.duration,y.delay)}}class Hi{constructor(y,E,k){this.namespaceId=y,this.triggerName=E,this.element=k,this._player=new $.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(E=>{this._queuedCallbacks[E].forEach(k=>hr(y,E,void 0,k))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){kn(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function te(q){return q&&1===q.nodeType}function de(q,y){const E=q.style.display;return q.style.display=y??"none",E}function Ge(q,y,E,k,X){const Ee=[];E.forEach(vt=>Ee.push(de(vt)));const Be=[];k.forEach((vt,Vt)=>{const _n={};vt.forEach(Pn=>{const Kn=_n[Pn]=y.computeStyle(Vt,Pn,X);(!Kn||0==Kn.length)&&(Vt[_i]=_o,Be.push(Vt))}),q.set(Vt,_n)});let Ye=0;return E.forEach(vt=>de(vt,Ee[Ye++])),Be}function Pt(q,y){const E=new Map;if(q.forEach(Ye=>E.set(Ye,[])),0==y.length)return E;const X=new Set(y),Ee=new Map;function Be(Ye){if(!Ye)return 1;let vt=Ee.get(Ye);if(vt)return vt;const Vt=Ye.parentNode;return vt=E.has(Vt)?Vt:X.has(Vt)?1:Be(Vt),Ee.set(Ye,vt),vt}return y.forEach(Ye=>{const vt=Be(Ye);1!==vt&&E.get(vt).push(Ye)}),E}function Ut(q,y){q.classList?.add(y)}function Cn(q,y){q.classList?.remove(y)}function qn(q,y,E){En(E).onDone(()=>q.processLeaveNode(y))}function nr(q,y){for(let E=0;E<q.length;E++){const k=q[E];k instanceof $.ZE?nr(k.players,y):y.push(k)}}function Kr(q,y,E){const k=E.get(q);if(!k)return!1;let X=y.get(q);return X?k.forEach(Ee=>X.add(Ee)):y.set(q,k),E.delete(q),!0}class Nr{constructor(y,E,k){this.bodyNode=y,this._driver=E,this._normalizer=k,this._triggerCache={},this.onRemovalComplete=(X,Ee)=>{},this._transitionEngine=new vs(y,E,k),this._timelineEngine=new Ns(y,E,k),this._transitionEngine.onRemovalComplete=(X,Ee)=>this.onRemovalComplete(X,Ee)}registerTrigger(y,E,k,X,Ee){const Be=y+"-"+X;let Ye=this._triggerCache[Be];if(!Ye){const vt=[],_n=Xi(this._driver,Ee,vt,[]);if(vt.length)throw function Je(q,y){return new c.vHH(3404,pe)}();Ye=function ys(q,y,E){return new Ti(q,y,E)}(X,_n,this._normalizer),this._triggerCache[Be]=Ye}this._transitionEngine.registerTrigger(E,X,Ye)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,k,X){this._transitionEngine.insertNode(y,E,k,X)}onRemove(y,E,k,X){this._transitionEngine.removeNode(y,E,X||!1,k)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,k,X){if("@"==k.charAt(0)){const[Ee,Be]=Gn(k);this._timelineEngine.command(Ee,E,Be,X)}else this._transitionEngine.trigger(y,E,k,X)}listen(y,E,k,X,Ee){if("@"==k.charAt(0)){const[Be,Ye]=Gn(k);return this._timelineEngine.listen(Be,E,Ye,Ee)}return this._transitionEngine.listen(y,E,k,X,Ee)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Z=(()=>{class q{constructor(E,k,X){this._element=E,this._startStyles=k,this._endStyles=X,this._state=0;let Ee=q.initialStylesByElement.get(E);Ee||q.initialStylesByElement.set(E,Ee={}),this._initialStyles=Ee}start(){this._state<1&&(this._startStyles&&an(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(an(this._element,this._initialStyles),this._endStyles&&(an(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(q.initialStylesByElement.delete(this._element),this._startStyles&&(st(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(st(this._element,this._endStyles),this._endStyles=null),an(this._element,this._initialStyles),this._state=3)}}return q.initialStylesByElement=new WeakMap,q})();function F(q){let y=null;const E=Object.keys(q);for(let k=0;k<E.length;k++){const X=E[k];R(X)&&(y=y||{},y[X]=q[X])}return y}function R(q){return"display"===q||"position"===q}class le{constructor(y,E,k,X){this.element=y,this.keyframes=E,this.options=k,this._specialStyles=X,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=k.duration,this._delay=k.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,E,k){return y.animate(E,k)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};if(this.hasStarted()){const E=this._finalKeyframe;Object.keys(E).forEach(k=>{"offset"!=k&&(y[k]=this._finished?E[k]:Xt(this.element,k))})}this.currentSnapshot=y}triggerCallback(y){const E="start"==y?this._onStartFns:this._onDoneFns;E.forEach(k=>k()),E.length=0}}class Ft{validateStyleProperty(y){return br(y)}matchesElement(y,E){return!1}containsElement(y,E){return Dr(y,E)}getParentElement(y){return Bn(y)}query(y,E,k){return _t(y,E,k)}computeStyle(y,E,k){return window.getComputedStyle(y)[E]}animate(y,E,k,X,Ee,Be=[]){const vt={duration:k,delay:X,fill:0==X?"both":"forwards"};Ee&&(vt.easing=Ee);const Vt={},_n=Be.filter(Kn=>Kn instanceof le);(function _e(q,y){return 0===q||0===y})(k,X)&&_n.forEach(Kn=>{let Ar=Kn.currentSnapshot;Object.keys(Ar).forEach(xn=>Vt[xn]=Ar[xn])}),E=function et(q,y,E){const k=Object.keys(E);if(k.length&&y.length){let Ee=y[0],Be=[];if(k.forEach(Ye=>{Ee.hasOwnProperty(Ye)||Be.push(Ye),Ee[Ye]=E[Ye]}),Be.length)for(var X=1;X<y.length;X++){let Ye=y[X];Be.forEach(function(vt){Ye[vt]=Xt(q,vt)})}}return y}(y,E=E.map(Kn=>kt(Kn,!1)),Vt);const Pn=function Lr(q,y){let E=null,k=null;return Array.isArray(y)&&y.length?(E=F(y[0]),y.length>1&&(k=F(y[y.length-1]))):y&&(E=F(y)),E||k?new Z(q,E,k):null}(y,E);return new le(y,E,vt,Pn)}}var Fn=D(6895);let Ur=(()=>{class q extends $._j{constructor(E,k){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(k.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(E){const k=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(E)?(0,$.vP)(E):E;return me(this._renderer,null,k,"register",[X]),new K(k,this._renderer)}}return q.\u0275fac=function(E){return new(E||q)(c.LFG(c.FYo),c.LFG(Fn.K0))},q.\u0275prov=c.Yz7({token:q,factory:q.\u0275fac}),q})();class K extends $.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new G(this._id,y,E||{},this._renderer)}}class G{constructor(y,E,k,X){this.id=y,this.element=E,this._renderer=X,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",k)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return me(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function me(q,y,E,k,X){return q.setProperty(y,`@@${E}:${k}`,X)}const Qe="@.disabled";let Mt=(()=>{class q{constructor(E,k,X){this.delegate=E,this.engine=k,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),k.onRemovalComplete=(Ee,Be)=>{const Ye=Be?.parentNode(Ee);Ye&&Be.removeChild(Ye,Ee)}}createRenderer(E,k){const Ee=this.delegate.createRenderer(E,k);if(!(E&&k&&k.data&&k.data.animation)){let _n=this._rendererCache.get(Ee);return _n||(_n=new jt("",Ee,this.engine),this._rendererCache.set(Ee,_n)),_n}const Be=k.id,Ye=k.id+"-"+this._currentId;this._currentId++,this.engine.register(Ye,E);const vt=_n=>{Array.isArray(_n)?_n.forEach(vt):this.engine.registerTrigger(Be,Ye,E,_n.name,_n)};return k.data.animation.forEach(vt),new yn(this,Ye,Ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,k,X){E>=0&&E<this._microtaskId?this._zone.run(()=>k(X)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ee=>{const[Be,Ye]=Ee;Be(Ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([k,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return q.\u0275fac=function(E){return new(E||q)(c.LFG(c.FYo),c.LFG(Nr),c.LFG(c.R0b))},q.\u0275prov=c.Yz7({token:q,factory:q.\u0275fac}),q})();class jt{constructor(y,E,k){this.namespaceId=y,this.delegate=E,this.engine=k,this.destroyNode=this.delegate.destroyNode?X=>E.destroyNode(X):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,k,X=!0){this.delegate.insertBefore(y,E,k),this.engine.onInsert(this.namespaceId,E,y,X)}removeChild(y,E,k){this.engine.onRemove(this.namespaceId,E,this.delegate,k)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,k,X){this.delegate.setAttribute(y,E,k,X)}removeAttribute(y,E,k){this.delegate.removeAttribute(y,E,k)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,k,X){this.delegate.setStyle(y,E,k,X)}removeStyle(y,E,k){this.delegate.removeStyle(y,E,k)}setProperty(y,E,k){"@"==E.charAt(0)&&E==Qe?this.disableAnimations(y,!!k):this.delegate.setProperty(y,E,k)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,k){return this.delegate.listen(y,E,k)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class yn extends jt{constructor(y,E,k,X){super(E,k,X),this.factory=y,this.namespaceId=E}setProperty(y,E,k){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Qe?this.disableAnimations(y,k=void 0===k||!!k):this.engine.process(this.namespaceId,y,E.substr(1),k):this.delegate.setProperty(y,E,k)}listen(y,E,k){if("@"==E.charAt(0)){const X=function pn(q){switch(q){case"body":return document.body;case"document":return document;case"window":return window;default:return q}}(y);let Ee=E.substr(1),Be="";return"@"!=Ee.charAt(0)&&([Ee,Be]=function Yn(q){const y=q.indexOf(".");return[q.substring(0,y),q.substr(y+1)]}(Ee)),this.engine.listen(this.namespaceId,X,Ee,Be,Ye=>{this.factory.scheduleListenerCallback(Ye._data||-1,k,Ye)})}return this.delegate.listen(y,E,k)}}let yr=(()=>{class q extends Nr{constructor(E,k,X){super(E.body,k,X)}ngOnDestroy(){this.flush()}}return q.\u0275fac=function(E){return new(E||q)(c.LFG(Fn.K0),c.LFG(ht),c.LFG(Wr))},q.\u0275prov=c.Yz7({token:q,factory:q.\u0275fac}),q})();const Ai=new c.OlP("AnimationModuleType"),ti=[{provide:$._j,useClass:Ur},{provide:Wr,useFactory:function gi(){return new Ri}},{provide:Nr,useClass:yr},{provide:c.FYo,useFactory:function pi(q,y,E){return new Mt(q,y,E)},deps:[p.se,Nr,c.R0b]}],vi=[{provide:ht,useFactory:()=>new Ft},{provide:Ai,useValue:"BrowserAnimations"},...ti],Cr=[{provide:ht,useClass:We},{provide:Ai,useValue:"NoopAnimations"},...ti];let Si=(()=>{class q{static withConfig(E){return{ngModule:q,providers:E.disableAnimations?Cr:vi}}}return q.\u0275fac=function(E){return new(E||q)},q.\u0275mod=c.oAB({type:q}),q.\u0275inj=c.cJS({providers:vi,imports:[p.b2]}),q})()},1481:(Wt,qe,D)=>{D.d(qe,{H7:()=>on,b2:()=>Dn,q6:()=>kn,se:()=>$e});var c=D(6895),p=D(4650);class $ extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends ${static makeCurrent(){(0,c.HT)(new pe)}onAndCancel(se,ce,Ve){return se.addEventListener(ce,Ve,!1),()=>{se.removeEventListener(ce,Ve,!1)}}dispatchEvent(se,ce){se.dispatchEvent(ce)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,ce){return(ce=ce||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,ce){return"window"===ce?window:"document"===ce?se:"body"===ce?se.body:null}getBaseHref(se){const ce=function Ae(){return v=v||document.querySelector("base"),v?v.getAttribute("href"):null}();return null==ce?null:function be(ne){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ne);const se=Ne.pathname;return"/"===se.charAt(0)?se:`/${se}`}(ce)}resetBaseElement(){v=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,c.Mx)(document.cookie,se)}}let Ne,v=null;const Oe=new p.OlP("TRANSITION_ID"),he=[{provide:p.ip1,useFactory:function fe(ne,se,ce){return()=>{ce.get(p.CZH).donePromise.then(()=>{const Ve=(0,c.q)(),yt=se.querySelectorAll(`style[ng-transition="${ne}"]`);for(let at=0;at<yt.length;at++)Ve.remove(yt[at])})}},deps:[Oe,c.K0,p.zs3],multi:!0}];class Se{static init(){(0,p.VLi)(new Se)}addToWindow(se){p.dqk.getAngularTestability=(Ve,yt=!0)=>{const at=se.findTestabilityInTree(Ve,yt);if(null==at)throw new Error("Could not find testability for element.");return at},p.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(Ve=>{const yt=p.dqk.getAllAngularTestabilities();let at=yt.length,Ce=!1;const ue=function(_e){Ce=Ce||_e,at--,0==at&&Ve(Ce)};yt.forEach(function(_e){_e.whenStable(ue)})})}findTestabilityInTree(se,ce,Ve){return null==ce?null:se.getTestability(ce)??(Ve?(0,c.q)().isShadowRoot(ce)?this.findTestabilityInTree(se,ce.host,!0):this.findTestabilityInTree(se,ce.parentElement,!0):null)}}let ft=(()=>{class ne{build(){return new XMLHttpRequest}}return ne.\u0275fac=function(ce){return new(ce||ne)},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Ue=new p.OlP("EventManagerPlugins");let Te=(()=>{class ne{constructor(ce,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,ce.forEach(yt=>yt.manager=this),this._plugins=ce.slice().reverse()}addEventListener(ce,Ve,yt){return this._findPluginFor(Ve).addEventListener(ce,Ve,yt)}addGlobalEventListener(ce,Ve,yt){return this._findPluginFor(Ve).addGlobalEventListener(ce,Ve,yt)}getZone(){return this._zone}_findPluginFor(ce){const Ve=this._eventNameToPlugin.get(ce);if(Ve)return Ve;const yt=this._plugins;for(let at=0;at<yt.length;at++){const Ce=yt[at];if(Ce.supports(ce))return this._eventNameToPlugin.set(ce,Ce),Ce}throw new Error(`No event manager plugin found for event ${ce}`)}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(Ue),p.LFG(p.R0b))},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class Ze{constructor(se){this._doc=se}addGlobalEventListener(se,ce,Ve){const yt=(0,c.q)().getGlobalEventTarget(this._doc,se);if(!yt)throw new Error(`Unsupported event target ${yt} for event ${ce}`);return this.addEventListener(yt,ce,Ve)}}let xe=(()=>{class ne{constructor(){this._stylesSet=new Set}addStyles(ce){const Ve=new Set;ce.forEach(yt=>{this._stylesSet.has(yt)||(this._stylesSet.add(yt),Ve.add(yt))}),this.onStylesAdded(Ve)}onStylesAdded(ce){}getAllStyles(){return Array.from(this._stylesSet)}}return ne.\u0275fac=function(ce){return new(ce||ne)},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),nt=(()=>{class ne extends xe{constructor(ce){super(),this._doc=ce,this._hostNodes=new Map,this._hostNodes.set(ce.head,[])}_addStylesToHost(ce,Ve,yt){ce.forEach(at=>{const Ce=this._doc.createElement("style");Ce.textContent=at,yt.push(Ve.appendChild(Ce))})}addHost(ce){const Ve=[];this._addStylesToHost(this._stylesSet,ce,Ve),this._hostNodes.set(ce,Ve)}removeHost(ce){const Ve=this._hostNodes.get(ce);Ve&&Ve.forEach(De),this._hostNodes.delete(ce)}onStylesAdded(ce){this._hostNodes.forEach((Ve,yt)=>{this._addStylesToHost(ce,yt,Ve)})}ngOnDestroy(){this._hostNodes.forEach(ce=>ce.forEach(De))}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(c.K0))},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();function De(ne){(0,c.q)().remove(ne)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g;function Me(ne,se,ce){for(let Ve=0;Ve<se.length;Ve++){let yt=se[Ve];Array.isArray(yt)?Me(ne,yt,ce):(yt=yt.replace(Re,ne),ce.push(yt))}return ce}function Je(ne){return se=>{if("__ngUnwrap__"===se)return ne;!1===ne(se)&&(se.preventDefault(),se.returnValue=!1)}}let $e=(()=>{class ne{constructor(ce,Ve,yt){this.eventManager=ce,this.sharedStylesHost=Ve,this.appId=yt,this.rendererByCompId=new Map,this.defaultRenderer=new Le(ce)}createRenderer(ce,Ve){if(!ce||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case p.ifc.Emulated:{let yt=this.rendererByCompId.get(Ve.id);return yt||(yt=new Ct(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,yt)),yt.applyToHost(ce),yt}case 1:case p.ifc.ShadowDom:return new $t(this.eventManager,this.sharedStylesHost,ce,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const yt=Me(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(yt),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(Te),p.LFG(nt),p.LFG(p.AFp))},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class Le{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,ce){return ce?document.createElementNS(mt[ce]||ce,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,ce){se.appendChild(ce)}insertBefore(se,ce,Ve){se&&se.insertBefore(ce,Ve)}removeChild(se,ce){se&&se.removeChild(ce)}selectRootElement(se,ce){let Ve="string"==typeof se?document.querySelector(se):se;if(!Ve)throw new Error(`The selector "${se}" did not match any elements`);return ce||(Ve.textContent=""),Ve}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,ce,Ve,yt){if(yt){ce=yt+":"+ce;const at=mt[yt];at?se.setAttributeNS(at,ce,Ve):se.setAttribute(ce,Ve)}else se.setAttribute(ce,Ve)}removeAttribute(se,ce,Ve){if(Ve){const yt=mt[Ve];yt?se.removeAttributeNS(yt,ce):se.removeAttribute(`${Ve}:${ce}`)}else se.removeAttribute(ce)}addClass(se,ce){se.classList.add(ce)}removeClass(se,ce){se.classList.remove(ce)}setStyle(se,ce,Ve,yt){yt&(p.JOm.DashCase|p.JOm.Important)?se.style.setProperty(ce,Ve,yt&p.JOm.Important?"important":""):se.style[ce]=Ve}removeStyle(se,ce,Ve){Ve&p.JOm.DashCase?se.style.removeProperty(ce):se.style[ce]=""}setProperty(se,ce,Ve){se[ce]=Ve}setValue(se,ce){se.nodeValue=ce}listen(se,ce,Ve){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,ce,Je(Ve)):this.eventManager.addEventListener(se,ce,Je(Ve))}}class Ct extends Le{constructor(se,ce,Ve,yt){super(se),this.component=Ve;const at=Me(yt+"-"+Ve.id,Ve.styles,[]);ce.addStyles(at),this.contentAttr=function Ie(ne){return"_ngcontent-%COMP%".replace(Re,ne)}(yt+"-"+Ve.id),this.hostAttr=function ot(ne){return"_nghost-%COMP%".replace(Re,ne)}(yt+"-"+Ve.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,ce){const Ve=super.createElement(se,ce);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class $t extends Le{constructor(se,ce,Ve,yt){super(se),this.sharedStylesHost=ce,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const at=Me(yt.id,yt.styles,[]);for(let Ce=0;Ce<at.length;Ce++){const ue=document.createElement("style");ue.textContent=at[Ce],this.shadowRoot.appendChild(ue)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,ce){return super.appendChild(this.nodeOrShadowRoot(se),ce)}insertBefore(se,ce,Ve){return super.insertBefore(this.nodeOrShadowRoot(se),ce,Ve)}removeChild(se,ce){return super.removeChild(this.nodeOrShadowRoot(se),ce)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let Tt=(()=>{class ne extends Ze{constructor(ce){super(ce)}supports(ce){return!0}addEventListener(ce,Ve,yt){return ce.addEventListener(Ve,yt,!1),()=>this.removeEventListener(ce,Ve,yt)}removeEventListener(ce,Ve,yt){return ce.removeEventListener(Ve,yt)}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(c.K0))},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Rt=["alt","control","meta","shift"],Xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lt={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let rn=(()=>{class ne extends Ze{constructor(ce){super(ce)}supports(ce){return null!=ne.parseEventName(ce)}addEventListener(ce,Ve,yt){const at=ne.parseEventName(Ve),Ce=ne.eventCallback(at.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(ce,at.domEventName,Ce))}static parseEventName(ce){const Ve=ce.toLowerCase().split("."),yt=Ve.shift();if(0===Ve.length||"keydown"!==yt&&"keyup"!==yt)return null;const at=ne._normalizeKey(Ve.pop());let Ce="";if(Rt.forEach(_e=>{const et=Ve.indexOf(_e);et>-1&&(Ve.splice(et,1),Ce+=_e+".")}),Ce+=at,0!=Ve.length||0===at.length)return null;const ue={};return ue.domEventName=yt,ue.fullKey=Ce,ue}static getEventFullKey(ce){let Ve="",yt=function En(ne){let se=ne.key;if(null==se){if(se=ne.keyIdentifier,null==se)return"Unidentified";se.startsWith("U+")&&(se=String.fromCharCode(parseInt(se.substring(2),16)),3===ne.location&&Dt.hasOwnProperty(se)&&(se=Dt[se]))}return Xe[se]||se}(ce);return yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),Rt.forEach(at=>{at!=yt&&Lt[at](ce)&&(Ve+=at+".")}),Ve+=yt,Ve}static eventCallback(ce,Ve,yt){return at=>{ne.getEventFullKey(at)===ce&&yt.runGuarded(()=>Ve(at))}}static _normalizeKey(ce){return"esc"===ce?"escape":ce}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(c.K0))},ne.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const kn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:c.bD},{provide:p.g9A,useValue:function rr(){pe.makeCurrent(),Se.init()},multi:!0},{provide:c.K0,useFactory:function Vn(){return(0,p.RDi)(document),document},deps:[]}]),Gn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function hr(){return new p.qLn},deps:[]},{provide:Ue,useClass:Tt,multi:!0,deps:[c.K0,p.R0b,p.Lbi]},{provide:Ue,useClass:rn,multi:!0,deps:[c.K0]},{provide:$e,useClass:$e,deps:[Te,nt,p.AFp]},{provide:p.FYo,useExisting:$e},{provide:xe,useExisting:nt},{provide:nt,useClass:nt,deps:[c.K0]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Te,useClass:Te,deps:[Ue,p.R0b]},{provide:c.JF,useClass:ft,deps:[]}];let Dn=(()=>{class ne{constructor(ce){if(ce)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ce){return{ngModule:ne,providers:[{provide:p.AFp,useValue:ce.appId},{provide:Oe,useExisting:p.AFp},he]}}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(ne,12))},ne.\u0275mod=p.oAB({type:ne}),ne.\u0275inj=p.cJS({providers:Gn,imports:[c.ez,p.hGG]}),ne})();typeof window<"u"&&window;let on=(()=>{class ne{}return ne.\u0275fac=function(ce){return new(ce||ne)},ne.\u0275prov=p.Yz7({token:ne,factory:function(ce){let Ve=null;return Ve=ce?new(ce||ne):p.LFG(st),Ve},providedIn:"root"}),ne})(),st=(()=>{class ne extends on{constructor(ce){super(),this._doc=ce}sanitize(ce,Ve){if(null==Ve)return null;switch(ce){case p.q3G.NONE:return Ve;case p.q3G.HTML:return(0,p.qzn)(Ve,"HTML")?(0,p.z3N)(Ve):(0,p.EiD)(this._doc,String(Ve)).toString();case p.q3G.STYLE:return(0,p.qzn)(Ve,"Style")?(0,p.z3N)(Ve):Ve;case p.q3G.SCRIPT:if((0,p.qzn)(Ve,"Script"))return(0,p.z3N)(Ve);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(Ve),(0,p.qzn)(Ve,"URL")?(0,p.z3N)(Ve):(0,p.mCW)(String(Ve));case p.q3G.RESOURCE_URL:if((0,p.qzn)(Ve,"ResourceURL"))return(0,p.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ce} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ce){return(0,p.JVY)(ce)}bypassSecurityTrustStyle(ce){return(0,p.L6k)(ce)}bypassSecurityTrustScript(ce){return(0,p.eBb)(ce)}bypassSecurityTrustUrl(ce){return(0,p.LAX)(ce)}bypassSecurityTrustResourceUrl(ce){return(0,p.pB0)(ce)}}return ne.\u0275fac=function(ce){return new(ce||ne)(p.LFG(c.K0))},ne.\u0275prov=p.Yz7({token:ne,factory:function(ce){let Ve=null;return Ve=ce?new ce:function an(ne){return new st(ne.get(c.K0))}(p.LFG(p.zs3)),Ve},providedIn:"root"}),ne})()},2048:(Wt,qe,D)=>{D.d(qe,{gz:()=>Or,F0:()=>dn,rH:()=>mr,Od:()=>ps,yS:()=>Zr,Bz:()=>ua,lC:()=>ji});var c=D(6895),p=D(4650),$=D(8306),pe=D(4742),v=D(8996),Ae=D(4671),Ne=D(3268),be=D(7669),Oe=D(1810),fe=D(5403),he=D(9672);function Ue(x,w,b){x?(0,he.f)(b,x,w):w()}var Te=D(8421);function Ze(x){return new $.y(w=>{(0,Te.Xf)(x()).subscribe(w)})}var xe=D(727),nt=D(4482);function De(){return(0,nt.e)((x,w)=>{let b=null;x._refCount++;const V=(0,fe.x)(w,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(b=null);const B=x._connection,W=b;b=null,B&&(!W||B===W)&&B.unsubscribe(),w.unsubscribe()});x.subscribe(V),V.closed||(b=x.connect())})}class mt extends $.y{constructor(w,b){super(),this.source=w,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,nt.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new xe.w0;const b=this.getSubject();w.add(this.source.subscribe((0,fe.x)(b,void 0,()=>{this._teardown(),b.complete()},V=>{this._teardown(),b.error(V)},()=>this._teardown()))),w.closed&&(this._connection=null,w=xe.w0.EMPTY)}return w}refCount(){return De()(this)}}var Re=D(9646),ve=D(1135),ge=D(2843),lt=D(6805),ke=D(7272),Ie=D(515),ot=D(7579),Me=D(9300);function Je(x){return x<=0?()=>Ie.E:(0,nt.e)((w,b)=>{let V=[];w.subscribe((0,fe.x)(b,B=>{V.push(B),x<V.length&&V.shift()},()=>{for(const B of V)b.next(B);b.complete()},void 0,()=>{V=null}))})}var ct=D(8068),$e=D(6590),dt=D(4004),tt=D(3900),Ct=D(5698),$t=D(8675),Tt=D(5026),Rt=D(262),zt=D(4351),Xe=D(590),Dt=D(5577),Lt=D(8505),rn=D(8746),En=D(8189);class rr{constructor(w,b){this.id=w,this.url=b}}class hr extends rr{constructor(w,b,V="imperative",B=null){super(w,b),this.navigationTrigger=V,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vn extends rr{constructor(w,b,V){super(w,b),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wn extends rr{constructor(w,b,V){super(w,b),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kn extends rr{constructor(w,b,V){super(w,b),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gn extends rr{constructor(w,b,V,B){super(w,b),this.urlAfterRedirects=V,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends rr{constructor(w,b,V,B){super(w,b),this.urlAfterRedirects=V,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends rr{constructor(w,b,V,B,W){super(w,b),this.urlAfterRedirects=V,this.state=B,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends rr{constructor(w,b,V,B){super(w,b),this.urlAfterRedirects=V,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends rr{constructor(w,b,V,B){super(w,b),this.urlAfterRedirects=V,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mn{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(w,b,V){this.routerEvent=w,this.position=b,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class en{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const b=this.params[w];return Array.isArray(b)?b[0]:b}return null}getAll(w){if(this.has(w)){const b=this.params[w];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function We(x){return new en(x)}const ht="ngNavigationCancelingError";function cn(x){const w=Error("NavigationCancelingError: "+x);return w[ht]=!0,w}function Sn(x,w,b){const V=b.path.split("/");if(V.length>x.length||"full"===b.pathMatch&&(w.hasChildren()||V.length<x.length))return null;const B={};for(let W=0;W<V.length;W++){const oe=V[W],je=x[W];if(oe.startsWith(":"))B[oe.substring(1)]=je;else if(oe!==je.path)return null}return{consumed:x.slice(0,V.length),posParams:B}}function Nn(x,w){const b=x?Object.keys(x):void 0,V=w?Object.keys(w):void 0;if(!b||!V||b.length!=V.length)return!1;let B;for(let W=0;W<b.length;W++)if(B=b[W],!Ln(x[B],w[B]))return!1;return!0}function Ln(x,w){if(Array.isArray(x)&&Array.isArray(w)){if(x.length!==w.length)return!1;const b=[...x].sort(),V=[...w].sort();return b.every((B,W)=>V[W]===B)}return x===w}function Qt(x){return Array.prototype.concat.apply([],x)}function Ot(x){return x.length>0?x[x.length-1]:null}function I(x,w){for(const b in x)x.hasOwnProperty(b)&&w(x[b],b)}function T(x){return(0,p.CqO)(x)?x:(0,p.QGY)(x)?(0,v.D)(Promise.resolve(x)):(0,Re.of)(x)}const J={exact:function hn(x,w,b){if(!yt(x.segments,w.segments)||!Ke(x.segments,w.segments,b)||x.numberOfChildren!==w.numberOfChildren)return!1;for(const V in w.children)if(!x.children[V]||!hn(x.children[V],w.children[V],b))return!1;return!0},subset:an},He={exact:function kt(x,w){return Nn(x,w)},subset:function on(x,w){return Object.keys(w).length<=Object.keys(x).length&&Object.keys(w).every(b=>Ln(x[b],w[b]))},ignored:()=>!0};function Et(x,w,b){return J[b.paths](x.root,w.root,b.matrixParams)&&He[b.queryParams](x.queryParams,w.queryParams)&&!("exact"===b.fragment&&x.fragment!==w.fragment)}function an(x,w,b){return st(x,w,w.segments,b)}function st(x,w,b,V){if(x.segments.length>b.length){const B=x.segments.slice(0,b.length);return!(!yt(B,b)||w.hasChildren()||!Ke(B,b,V))}if(x.segments.length===b.length){if(!yt(x.segments,b)||!Ke(x.segments,b,V))return!1;for(const B in w.children)if(!x.children[B]||!an(x.children[B],w.children[B],V))return!1;return!0}{const B=b.slice(0,x.segments.length),W=b.slice(x.segments.length);return!!(yt(x.segments,B)&&Ke(x.segments,B,V)&&x.children[_t])&&st(x.children[_t],w,W,V)}}function Ke(x,w,b){return w.every((V,B)=>He[b](x[B].parameters,V.parameters))}class ne{constructor(w,b,V){this.root=w,this.queryParams=b,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return _e.serialize(this)}}class se{constructor(w,b){this.segments=w,this.children=b,this.parent=null,I(b,(V,B)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class ce{constructor(w,b){this.path=w,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=We(this.parameters)),this._parameterMap}toString(){return Gr(this)}}function yt(x,w){return x.length===w.length&&x.every((b,V)=>b.path===w[V].path)}class Ce{}class ue{parse(w){const b=new fi(w);return new ne(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(w){const b=`/${bt(w.root,!0)}`,V=function ai(x){const w=Object.keys(x).map(b=>{const V=x[b];return Array.isArray(V)?V.map(B=>`${An(b)}=${An(B)}`).join("&"):`${An(b)}=${An(V)}`}).filter(b=>!!b);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${b}${V}${"string"==typeof w.fragment?`#${function sn(x){return encodeURI(x)}(w.fragment)}`:""}`}}const _e=new ue;function et(x){return x.segments.map(w=>Gr(w)).join("/")}function bt(x,w){if(!x.hasChildren())return et(x);if(w){const b=x.children[_t]?bt(x.children[_t],!1):"",V=[];return I(x.children,(B,W)=>{W!==_t&&V.push(`${W}:${bt(B,!1)}`)}),V.length>0?`${b}(${V.join("//")})`:b}{const b=function at(x,w){let b=[];return I(x.children,(V,B)=>{B===_t&&(b=b.concat(w(V,B)))}),I(x.children,(V,B)=>{B!==_t&&(b=b.concat(w(V,B)))}),b}(x,(V,B)=>B===_t?[bt(x.children[_t],!1)]:[`${B}:${bt(V,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[_t]?`${et(x)}/${b[0]}`:`${et(x)}/(${b.join("//")})`}}function Xt(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function An(x){return Xt(x).replace(/%3B/gi,";")}function zn(x){return Xt(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(x){return decodeURIComponent(x)}function ii(x){return mn(x.replace(/\+/g,"%20"))}function Gr(x){return`${zn(x.path)}${function Un(x){return Object.keys(x).map(w=>`;${zn(w)}=${zn(x[w])}`).join("")}(x.parameters)}`}const xi=/^[^\/()?;=#]+/;function Wi(x){const w=x.match(xi);return w?w[0]:""}const hi=/^[^=?&#]+/,Sr=/^[^&#]+/;class fi{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(w.length>0||Object.keys(b).length>0)&&(V[_t]=new se(w,b)),V}parseSegment(){const w=Wi(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new ce(mn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const b=Wi(this.remaining);if(!b)return;this.capture(b);let V="";if(this.consumeOptional("=")){const B=Wi(this.remaining);B&&(V=B,this.capture(V))}w[mn(b)]=mn(V)}parseQueryParam(w){const b=function jr(x){const w=x.match(hi);return w?w[0]:""}(this.remaining);if(!b)return;this.capture(b);let V="";if(this.consumeOptional("=")){const oe=function Ui(x){const w=x.match(Sr);return w?w[0]:""}(this.remaining);oe&&(V=oe,this.capture(V))}const B=ii(b),W=ii(V);if(w.hasOwnProperty(B)){let oe=w[B];Array.isArray(oe)||(oe=[oe],w[B]=oe),oe.push(W)}else w[B]=W}parseParens(w){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=Wi(this.remaining),B=this.remaining[V.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let W;V.indexOf(":")>-1?(W=V.substr(0,V.indexOf(":")),this.capture(W),this.capture(":")):w&&(W=_t);const oe=this.parseChildren();b[W]=1===Object.keys(oe).length?oe[_t]:new se([],oe),this.consumeOptional("//")}return b}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class Mr{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const b=this.pathFromRoot(w);return b.length>1?b[b.length-2]:null}children(w){const b=Xi(w,this._root);return b?b.children.map(V=>V.value):[]}firstChild(w){const b=Xi(w,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(w){const b=Vi(w,this._root);return b.length<2?[]:b[b.length-2].children.map(B=>B.value).filter(B=>B!==w)}pathFromRoot(w){return Vi(w,this._root).map(b=>b.value)}}function Xi(x,w){if(x===w.value)return w;for(const b of w.children){const V=Xi(x,b);if(V)return V}return null}function Vi(x,w){if(x===w.value)return[w];for(const b of w.children){const V=Vi(x,b);if(V.length)return V.unshift(w),V}return[]}class lr{constructor(w,b){this.value=w,this.children=b}toString(){return`TreeNode(${this.value})`}}function li(x){const w={};return x&&x.children.forEach(b=>w[b.value.outlet]=b),w}class es extends Mr{constructor(w,b){super(w),this.snapshot=b,ts(this,w)}toString(){return this.snapshot.toString()}}function Oi(x,w){const b=function Xr(x,w){const oe=new ei([],{},{},"",{},_t,w,null,x.root,-1,{});return new Os("",new lr(oe,[]))}(x,w),V=new ve.X([new ce("",{})]),B=new ve.X({}),W=new ve.X({}),oe=new ve.X({}),je=new ve.X(""),Bt=new Or(V,B,oe,je,W,_t,w,b.root);return Bt.snapshot=b.root,new es(new lr(Bt,[]),b)}class Or{constructor(w,b,V,B,W,oe,je,Bt){this.url=w,this.params=b,this.queryParams=V,this.fragment=B,this.data=W,this.outlet=oe,this.component=je,this._futureSnapshot=Bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(w=>We(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(w=>We(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(x,w="emptyOnly"){const b=x.pathFromRoot;let V=0;if("always"!==w)for(V=b.length-1;V>=1;){const B=b[V],W=b[V-1];if(B.routeConfig&&""===B.routeConfig.path)V--;else{if(W.component)break;V--}}return function Pr(x){return x.reduce((w,b)=>({params:{...w.params,...b.params},data:{...w.data,...b.data},resolve:{...w.resolve,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(V))}class ei{constructor(w,b,V,B,W,oe,je,Bt,Tn,Fr,Hn){this.url=w,this.params=b,this.queryParams=V,this.fragment=B,this.data=W,this.outlet=oe,this.component=je,this.routeConfig=Bt,this._urlSegment=Tn,this._lastPathIndex=Fr,this._resolve=Hn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=We(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Os extends Mr{constructor(w,b){super(b),this.url=w,ts(this,b)}toString(){return ki(this._root)}}function ts(x,w){w.value._routerState=x,w.children.forEach(b=>ts(x,b))}function ki(x){const w=x.children.length>0?` { ${x.children.map(ki).join(", ")} } `:"";return`${x.value}${w}`}function Ii(x){if(x.snapshot){const w=x.snapshot,b=x._futureSnapshot;x.snapshot=b,Nn(w.queryParams,b.queryParams)||x.queryParams.next(b.queryParams),w.fragment!==b.fragment&&x.fragment.next(b.fragment),Nn(w.params,b.params)||x.params.next(b.params),function Tr(x,w){if(x.length!==w.length)return!1;for(let b=0;b<x.length;++b)if(!Nn(x[b],w[b]))return!1;return!0}(w.url,b.url)||x.url.next(b.url),Nn(w.data,b.data)||x.data.next(b.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function ns(x,w){const b=Nn(x.params,w.params)&&function Ve(x,w){return yt(x,w)&&x.every((b,V)=>Nn(b.parameters,w[V].parameters))}(x.url,w.url);return b&&!(!x.parent!=!w.parent)&&(!x.parent||ns(x.parent,w.parent))}function Ts(x,w,b){if(b&&x.shouldReuseRoute(w.value,b.value.snapshot)){const V=b.value;V._futureSnapshot=w.value;const B=function zr(x,w,b){return w.children.map(V=>{for(const B of b.children)if(x.shouldReuseRoute(V.value,B.value.snapshot))return Ts(x,V,B);return Ts(x,V)})}(x,w,b);return new lr(V,B)}{if(x.shouldAttach(w.value)){const W=x.retrieve(w.value);if(null!==W){const oe=W.route;return oe.value._futureSnapshot=w.value,oe.children=w.children.map(je=>Ts(x,je)),oe}}const V=function uo(x){return new Or(new ve.X(x.url),new ve.X(x.params),new ve.X(x.queryParams),new ve.X(x.fragment),new ve.X(x.data),x.outlet,x.component,x)}(w.value),B=w.children.map(W=>Ts(x,W));return new lr(V,B)}}function rt(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function gt(x){return"object"==typeof x&&null!=x&&x.outlets}function Nt(x,w,b,V,B){let W={};if(V&&I(V,(je,Bt)=>{W[Bt]=Array.isArray(je)?je.map(Tn=>`${Tn}`):`${je}`}),x===w)return new ne(b,W,B);const oe=tn(x,w,b);return new ne(oe,W,B)}function tn(x,w,b){const V={};return I(x.children,(B,W)=>{V[W]=B===w?b:tn(B,w,b)}),new se(x.segments,V)}class fn{constructor(w,b,V){if(this.isAbsolute=w,this.numberOfDoubleDots=b,this.commands=V,w&&V.length>0&&rt(V[0]))throw new Error("Root segment cannot have matrix parameters");const B=V.find(gt);if(B&&B!==Ot(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(w,b,V){this.segmentGroup=w,this.processChildren=b,this.index=V}}function qi(x,w,b){if(x||(x=new se([],{})),0===x.segments.length&&x.hasChildren())return hs(x,w,b);const V=function rs(x,w,b){let V=0,B=w;const W={match:!1,pathIndex:0,commandIndex:0};for(;B<x.segments.length;){if(V>=b.length)return W;const oe=x.segments[B],je=b[V];if(gt(je))break;const Bt=`${je}`,Tn=V<b.length-1?b[V+1]:null;if(B>0&&void 0===Bt)break;if(Bt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!ys(Bt,Tn,oe))return W;V+=2}else{if(!ys(Bt,{},oe))return W;V++}B++}return{match:!0,pathIndex:B,commandIndex:V}}(x,w,b),B=b.slice(V.commandIndex);if(V.match&&V.pathIndex<x.segments.length){const W=new se(x.segments.slice(0,V.pathIndex),{});return W.children[_t]=new se(x.segments.slice(V.pathIndex),x.children),hs(W,0,B)}return V.match&&0===B.length?new se(x.segments,{}):V.match&&!x.hasChildren()?Di(x,w,b):V.match?hs(x,0,B):Di(x,w,b)}function hs(x,w,b){if(0===b.length)return new se(x.segments,{});{const V=function ds(x){return gt(x[0])?x[0].outlets:{[_t]:x}}(b),B={};return I(V,(W,oe)=>{"string"==typeof W&&(W=[W]),null!==W&&(B[oe]=qi(x.children[oe],w,W))}),I(x.children,(W,oe)=>{void 0===V[oe]&&(B[oe]=W)}),new se(x.segments,B)}}function Di(x,w,b){const V=x.segments.slice(0,w);let B=0;for(;B<b.length;){const W=b[B];if(gt(W)){const Bt=yo(W.outlets);return new se(V,Bt)}if(0===B&&rt(b[0])){V.push(new ce(x.segments[w].path,gs(b[0]))),B++;continue}const oe=gt(W)?W.outlets[_t]:`${W}`,je=B<b.length-1?b[B+1]:null;oe&&je&&rt(je)?(V.push(new ce(oe,gs(je))),B+=2):(V.push(new ce(oe,{})),B++)}return new se(V,{})}function yo(x){const w={};return I(x,(b,V)=>{"string"==typeof b&&(b=[b]),null!==b&&(w[V]=Di(new se([],{}),0,b))}),w}function gs(x){const w={};return I(x,(b,V)=>w[V]=`${b}`),w}function ys(x,w,b){return x==b.path&&Nn(w,b.parameters)}class _s{constructor(w,b,V,B){this.routeReuseStrategy=w,this.futureState=b,this.currState=V,this.forwardEvent=B}activate(w){const b=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,V,w),Ii(this.futureState.root),this.activateChildRoutes(b,V,w)}deactivateChildRoutes(w,b,V){const B=li(b);w.children.forEach(W=>{const oe=W.value.outlet;this.deactivateRoutes(W,B[oe],V),delete B[oe]}),I(B,(W,oe)=>{this.deactivateRouteAndItsChildren(W,V)})}deactivateRoutes(w,b,V){const B=w.value,W=b?b.value:null;if(B===W)if(B.component){const oe=V.getContext(B.outlet);oe&&this.deactivateChildRoutes(w,b,oe.children)}else this.deactivateChildRoutes(w,b,V);else W&&this.deactivateRouteAndItsChildren(b,V)}deactivateRouteAndItsChildren(w,b){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,b):this.deactivateRouteAndOutlet(w,b)}detachAndStoreRouteSubtree(w,b){const V=b.getContext(w.value.outlet),B=V&&w.value.component?V.children:b,W=li(w);for(const oe of Object.keys(W))this.deactivateRouteAndItsChildren(W[oe],B);if(V&&V.outlet){const oe=V.outlet.detach(),je=V.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:oe,route:w,contexts:je})}}deactivateRouteAndOutlet(w,b){const V=b.getContext(w.value.outlet),B=V&&w.value.component?V.children:b,W=li(w);for(const oe of Object.keys(W))this.deactivateRouteAndItsChildren(W[oe],B);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(w,b,V){const B=li(b);w.children.forEach(W=>{this.activateRoutes(W,B[W.value.outlet],V),this.forwardEvent(new Er(W.value.snapshot))}),w.children.length&&this.forwardEvent(new _r(w.value.snapshot))}activateRoutes(w,b,V){const B=w.value,W=b?b.value:null;if(Ii(B),B===W)if(B.component){const oe=V.getOrCreateContext(B.outlet);this.activateChildRoutes(w,b,oe.children)}else this.activateChildRoutes(w,b,V);else if(B.component){const oe=V.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const je=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),oe.children.onOutletReAttached(je.contexts),oe.attachRef=je.componentRef,oe.route=je.route.value,oe.outlet&&oe.outlet.attach(je.componentRef,je.route.value),Ii(je.route.value),this.activateChildRoutes(w,null,oe.children)}else{const je=function Gs(x){for(let w=x.parent;w;w=w.parent){const b=w.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(B.snapshot),Bt=je?je.module.componentFactoryResolver:null;oe.attachRef=null,oe.route=B,oe.resolver=Bt,oe.outlet&&oe.outlet.activateWith(B,Bt),this.activateChildRoutes(w,null,oe.children)}}else this.activateChildRoutes(w,null,V)}}class ks{constructor(w,b){this.routes=w,this.module=b}}function Ns(x){return"function"==typeof x}function Ni(x){return x instanceof ne}const xr=Symbol("INITIAL_VALUE");function si(){return(0,tt.w)(x=>function Se(...x){const w=(0,be.yG)(x),b=(0,be.jO)(x),{args:V,keys:B}=(0,pe.D)(x);if(0===V.length)return(0,v.D)([],w);const W=new $.y(function ft(x,w,b=Ae.y){return V=>{Ue(w,()=>{const{length:B}=x,W=new Array(B);let oe=B,je=B;for(let Bt=0;Bt<B;Bt++)Ue(w,()=>{const Tn=(0,v.D)(x[Bt],w);let Fr=!1;Tn.subscribe((0,fe.x)(V,Hn=>{W[Bt]=Hn,Fr||(Fr=!0,je--),je||V.next(b(W.slice()))},()=>{--oe||V.complete()}))},V)},V)}}(V,w,B?oe=>(0,Oe.n)(B,oe):Ae.y));return b?W.pipe((0,Ne.Z)(b)):W}(x.map(w=>w.pipe((0,Ct.q)(1),(0,$t.O)(xr)))).pipe((0,Tt.R)((w,b)=>{let V=!1;return b.reduce((B,W,oe)=>B!==xr?B:(W===xr&&(V=!0),V||!1!==W&&oe!==b.length-1&&!Ni(W)?B:W),w)},xr),(0,Me.h)(w=>w!==xr),(0,dt.U)(w=>Ni(w)?w:!0===w),(0,Ct.q)(1)))}class _o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _i,this.attachRef=null}}class _i{constructor(){this.contexts=new Map}onChildOutletCreated(w,b){const V=this.getOrCreateContext(w);V.outlet=b,this.contexts.set(w,V)}onChildOutletDestroyed(w){const b=this.getContext(w);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let b=this.getContext(w);return b||(b=new _o,this.contexts.set(w,b)),b}getContext(w){return this.contexts.get(w)||null}}let ji=(()=>{class x{constructor(b,V,B,W,oe){this.parentContexts=b,this.location=V,this.resolver=B,this.changeDetector=oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=W||_t,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,V){this.activated=b,this._activatedRoute=V,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const oe=(V=V||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),je=this.parentContexts.getOrCreateContext(this.name).children,Bt=new As(b,je,this.location.injector);this.activated=this.location.createComponent(oe,this.location.length,Bt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(b){return new(b||x)(p.Y36(_i),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},x.\u0275dir=p.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),x})();class As{constructor(w,b,V){this.route=w,this.childContexts=b,this.parent=V}get(w,b){return w===Or?this.route:w===_i?this.childContexts:this.parent.get(w,b)}}let is=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=p.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,V){1&b&&p._UZ(0,"router-outlet")},directives:[ji],encapsulation:2}),x})();function Zs(x,w=""){for(let b=0;b<x.length;b++){const V=x[b];vs(V,Hi(w,V))}}function vs(x,w){x.children&&Zs(x.children,w)}function Hi(x,w){return w?x||w.path?x&&!w.path?`${x}/`:!x&&w.path?w.path:`${x}/${w.path}`:"":x}function fr(x){const w=x.children&&x.children.map(fr),b=w?{...x,children:w}:{...x};return!b.component&&(w||b.loadChildren)&&b.outlet&&b.outlet!==_t&&(b.component=is),b}function L(x){return x.outlet||_t}function te(x,w){const b=x.filter(V=>L(V)===w);return b.push(...x.filter(V=>L(V)!==w)),b}const U={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function de(x,w,b){if(""===w.path)return"full"===w.pathMatch&&(x.hasChildren()||b.length>0)?{...U}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const B=(w.matcher||Sn)(b,x,w);if(!B)return{...U};const W={};I(B.posParams,(je,Bt)=>{W[Bt]=je.path});const oe=B.consumed.length>0?{...W,...B.consumed[B.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:B.consumed,remainingSegments:b.slice(B.consumed.length),parameters:oe,positionalParamSegments:B.posParams??{}}}function Ge(x,w,b,V,B="corrected"){if(b.length>0&&function Cn(x,w,b){return b.some(V=>gr(x,w,V)&&L(V)!==_t)}(x,b,V)){const oe=new se(w,function Ut(x,w,b,V){const B={};B[_t]=V,V._sourceSegment=x,V._segmentIndexShift=w.length;for(const W of b)if(""===W.path&&L(W)!==_t){const oe=new se([],{});oe._sourceSegment=x,oe._segmentIndexShift=w.length,B[L(W)]=oe}return B}(x,w,V,new se(b,x.children)));return oe._sourceSegment=x,oe._segmentIndexShift=w.length,{segmentGroup:oe,slicedSegments:[]}}if(0===b.length&&function qn(x,w,b){return b.some(V=>gr(x,w,V))}(x,b,V)){const oe=new se(x.segments,function Pt(x,w,b,V,B,W){const oe={};for(const je of V)if(gr(x,b,je)&&!B[L(je)]){const Bt=new se([],{});Bt._sourceSegment=x,Bt._segmentIndexShift="legacy"===W?x.segments.length:w.length,oe[L(je)]=Bt}return{...B,...oe}}(x,w,b,V,x.children,B));return oe._sourceSegment=x,oe._segmentIndexShift=w.length,{segmentGroup:oe,slicedSegments:b}}const W=new se(x.segments,x.children);return W._sourceSegment=x,W._segmentIndexShift=w.length,{segmentGroup:W,slicedSegments:b}}function gr(x,w,b){return(!(x.hasChildren()||w.length>0)||"full"!==b.pathMatch)&&""===b.path}function nr(x,w,b,V){return!!(L(x)===V||V!==_t&&gr(w,b,x))&&("**"===x.path||de(w,x,b).matched)}function wr(x,w,b){return 0===w.length&&!x.children[b]}class Kr{constructor(w){this.segmentGroup=w||null}}class Nr{constructor(w){this.urlTree=w}}function Lr(x){return(0,ge._)(new Kr(x))}function Z(x){return(0,ge._)(new Nr(x))}class Ft{constructor(w,b,V,B,W){this.configLoader=b,this.urlSerializer=V,this.urlTree=B,this.config=W,this.allowRedirects=!0,this.ngModule=w.get(p.h0i)}apply(){const w=Ge(this.urlTree.root,[],[],this.config).segmentGroup,b=new se(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,b,_t).pipe((0,dt.U)(W=>this.createUrlTree(Ur(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Rt.K)(W=>{if(W instanceof Nr)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof Kr?this.noMatchError(W):W}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,_t).pipe((0,dt.U)(B=>this.createUrlTree(Ur(B),w.queryParams,w.fragment))).pipe((0,Rt.K)(B=>{throw B instanceof Kr?this.noMatchError(B):B}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,b,V){const B=w.segments.length>0?new se([],{[_t]:w}):w;return new ne(B,b,V)}expandSegmentGroup(w,b,V,B){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(w,b,V).pipe((0,dt.U)(W=>new se([],W))):this.expandSegment(w,V,b,V.segments,B,!0)}expandChildren(w,b,V){const B=[];for(const W of Object.keys(V.children))"primary"===W?B.unshift(W):B.push(W);return(0,v.D)(B).pipe((0,zt.b)(W=>{const oe=V.children[W],je=te(b,W);return this.expandSegmentGroup(w,je,oe,W).pipe((0,dt.U)(Bt=>({segment:Bt,outlet:W})))}),(0,Tt.R)((W,oe)=>(W[oe.outlet]=oe.segment,W),{}),function Le(x,w){const b=arguments.length>=2;return V=>V.pipe(x?(0,Me.h)((B,W)=>x(B,W,V)):Ae.y,Je(1),b?(0,$e.d)(w):(0,ct.T)(()=>new lt.K))}())}expandSegment(w,b,V,B,W,oe){return(0,v.D)(V).pipe((0,zt.b)(je=>this.expandSegmentAgainstRoute(w,b,V,je,B,W,oe).pipe((0,Rt.K)(Tn=>{if(Tn instanceof Kr)return(0,Re.of)(null);throw Tn}))),(0,Xe.P)(je=>!!je),(0,Rt.K)((je,Bt)=>{if(je instanceof lt.K||"EmptyError"===je.name)return wr(b,B,W)?(0,Re.of)(new se([],{})):Lr(b);throw je}))}expandSegmentAgainstRoute(w,b,V,B,W,oe,je){return nr(B,b,W,oe)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(w,b,B,W,oe):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,b,V,B,W,oe):Lr(b):Lr(b)}expandSegmentAgainstRouteUsingRedirect(w,b,V,B,W,oe){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,V,B,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(w,b,V,B,W,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,b,V,B){const W=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Z(W):this.lineralizeSegments(V,W).pipe((0,Dt.z)(oe=>{const je=new se(oe,{});return this.expandSegment(w,je,b,oe,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,b,V,B,W,oe){const{matched:je,consumedSegments:Bt,remainingSegments:Tn,positionalParamSegments:Fr}=de(b,B,W);if(!je)return Lr(b);const Hn=this.applyRedirectCommands(Bt,B.redirectTo,Fr);return B.redirectTo.startsWith("/")?Z(Hn):this.lineralizeSegments(B,Hn).pipe((0,Dt.z)(ui=>this.expandSegment(w,b,V,ui.concat(Tn),oe,!1)))}matchSegmentAgainstRoute(w,b,V,B,W){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,Re.of)(V._loadedConfig):this.configLoader.load(w.injector,V)).pipe((0,dt.U)(Hn=>(V._loadedConfig=Hn,new se(B,{})))):(0,Re.of)(new se(B,{}));const{matched:oe,consumedSegments:je,remainingSegments:Bt}=de(b,V,B);return oe?this.getChildConfig(w,V,B).pipe((0,Dt.z)(Fr=>{const Hn=Fr.module,ui=Fr.routes,{segmentGroup:ci,slicedSegments:Eo}=Ge(b,je,Bt,ui),Bs=new se(ci.segments,ci.children);if(0===Eo.length&&Bs.hasChildren())return this.expandChildren(Hn,ui,Bs).pipe((0,dt.U)(tr=>new se(je,tr)));if(0===ui.length&&0===Eo.length)return(0,Re.of)(new se(je,{}));const Ca=L(V)===W;return this.expandSegment(Hn,Bs,ui,Eo,Ca?_t:W,!0).pipe((0,dt.U)(Ys=>new se(je.concat(Ys.segments),Ys.children)))})):Lr(b)}getChildConfig(w,b,V){return b.children?(0,Re.of)(new ks(b.children,w)):b.loadChildren?void 0!==b._loadedConfig?(0,Re.of)(b._loadedConfig):this.runCanLoadGuards(w.injector,b,V).pipe((0,Dt.z)(B=>B?this.configLoader.load(w.injector,b).pipe((0,dt.U)(W=>(b._loadedConfig=W,W))):function R(x){return(0,ge._)(cn(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))}(b))):(0,Re.of)(new ks([],w))}runCanLoadGuards(w,b,V){const B=b.canLoad;if(!B||0===B.length)return(0,Re.of)(!0);const W=B.map(oe=>{const je=w.get(oe);let Bt;if(function Fs(x){return x&&Ns(x.canLoad)}(je))Bt=je.canLoad(b,V);else{if(!Ns(je))throw new Error("Invalid CanLoad guard");Bt=je(b,V)}return T(Bt)});return(0,Re.of)(W).pipe(si(),(0,Lt.b)(oe=>{if(!Ni(oe))return;const je=cn(`Redirecting to "${this.urlSerializer.serialize(oe)}"`);throw je.url=oe,je}),(0,dt.U)(oe=>!0===oe))}lineralizeSegments(w,b){let V=[],B=b.root;for(;;){if(V=V.concat(B.segments),0===B.numberOfChildren)return(0,Re.of)(V);if(B.numberOfChildren>1||!B.children[_t])return(0,ge._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));B=B.children[_t]}}applyRedirectCommands(w,b,V){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),w,V)}applyRedirectCreatreUrlTree(w,b,V,B){const W=this.createSegmentGroup(w,b.root,V,B);return new ne(W,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(w,b){const V={};return I(w,(B,W)=>{if("string"==typeof B&&B.startsWith(":")){const je=B.substring(1);V[W]=b[je]}else V[W]=B}),V}createSegmentGroup(w,b,V,B){const W=this.createSegments(w,b.segments,V,B);let oe={};return I(b.children,(je,Bt)=>{oe[Bt]=this.createSegmentGroup(w,je,V,B)}),new se(W,oe)}createSegments(w,b,V,B){return b.map(W=>W.path.startsWith(":")?this.findPosParam(w,W,B):this.findOrReturn(W,V))}findPosParam(w,b,V){const B=V[b.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${w}'. Cannot find '${b.path}'.`);return B}findOrReturn(w,b){let V=0;for(const B of b){if(B.path===w.path)return b.splice(V),B;V++}return w}}function Ur(x){const w={};for(const V of Object.keys(x.children)){const W=Ur(x.children[V]);(W.segments.length>0||W.hasChildren())&&(w[V]=W)}return function Fn(x){if(1===x.numberOfChildren&&x.children[_t]){const w=x.children[_t];return new se(x.segments.concat(w.segments),w.children)}return x}(new se(x.segments,w))}class G{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class me{constructor(w,b){this.component=w,this.route=b}}function ae(x,w,b){const V=x._root;return yn(V,w?w._root:null,b,[V.value])}function Mt(x,w,b){const V=function jt(x){if(!x)return null;for(let w=x.parent;w;w=w.parent){const b=w.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(w);return(V?V.module.injector:b).get(x)}function yn(x,w,b,V,B={canDeactivateChecks:[],canActivateChecks:[]}){const W=li(w);return x.children.forEach(oe=>{(function pn(x,w,b,V,B={canDeactivateChecks:[],canActivateChecks:[]}){const W=x.value,oe=w?w.value:null,je=b?b.getContext(x.value.outlet):null;if(oe&&W.routeConfig===oe.routeConfig){const Bt=function Yn(x,w,b){if("function"==typeof b)return b(x,w);switch(b){case"pathParamsChange":return!yt(x.url,w.url);case"pathParamsOrQueryParamsChange":return!yt(x.url,w.url)||!Nn(x.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ns(x,w)||!Nn(x.queryParams,w.queryParams);default:return!ns(x,w)}}(oe,W,W.routeConfig.runGuardsAndResolvers);Bt?B.canActivateChecks.push(new G(V)):(W.data=oe.data,W._resolvedData=oe._resolvedData),yn(x,w,W.component?je?je.children:null:b,V,B),Bt&&je&&je.outlet&&je.outlet.isActivated&&B.canDeactivateChecks.push(new me(je.outlet.component,oe))}else oe&&yr(w,je,B),B.canActivateChecks.push(new G(V)),yn(x,null,W.component?je?je.children:null:b,V,B)})(oe,W[oe.value.outlet],b,V.concat([oe.value]),B),delete W[oe.value.outlet]}),I(W,(oe,je)=>yr(oe,b.getContext(je),B)),B}function yr(x,w,b){const V=li(x),B=x.value;I(V,(W,oe)=>{yr(W,B.component?w?w.children.getContext(oe):null:w,b)}),b.canDeactivateChecks.push(new me(B.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,B))}class q{}function y(x){return new $.y(w=>w.error(x))}class k{constructor(w,b,V,B,W,oe){this.rootComponentType=w,this.config=b,this.urlTree=V,this.url=B,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=oe}recognize(){const w=Ge(this.urlTree.root,[],[],this.config.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,w,_t);if(null===b)return null;const V=new ei([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new lr(V,b),W=new Os(this.url,B);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(w){const b=w.value,V=Ki(b,this.paramsInheritanceStrategy);b.params=Object.freeze(V.params),b.data=Object.freeze(V.data),w.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(w,b,V){return 0===b.segments.length&&b.hasChildren()?this.processChildren(w,b):this.processSegment(w,b,b.segments,V)}processChildren(w,b){const V=[];for(const W of Object.keys(b.children)){const oe=b.children[W],je=te(w,W),Bt=this.processSegmentGroup(je,oe,W);if(null===Bt)return null;V.push(...Bt)}const B=Ye(V);return function X(x){x.sort((w,b)=>w.value.outlet===_t?-1:b.value.outlet===_t?1:w.value.outlet.localeCompare(b.value.outlet))}(B),B}processSegment(w,b,V,B){for(const W of w){const oe=this.processSegmentAgainstRoute(W,b,V,B);if(null!==oe)return oe}return wr(b,V,B)?[]:null}processSegmentAgainstRoute(w,b,V,B){if(w.redirectTo||!nr(w,b,V,B))return null;let W,oe=[],je=[];if("**"===w.path){const ci=V.length>0?Ot(V).parameters:{};W=new ei(V,ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pn(w),L(w),w.component,w,Vt(b),_n(b)+V.length,Kn(w))}else{const ci=de(b,w,V);if(!ci.matched)return null;oe=ci.consumedSegments,je=ci.remainingSegments,W=new ei(oe,ci.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pn(w),L(w),w.component,w,Vt(b),_n(b)+oe.length,Kn(w))}const Bt=function Ee(x){return x.children?x.children:x.loadChildren?x._loadedConfig.routes:[]}(w),{segmentGroup:Tn,slicedSegments:Fr}=Ge(b,oe,je,Bt.filter(ci=>void 0===ci.redirectTo),this.relativeLinkResolution);if(0===Fr.length&&Tn.hasChildren()){const ci=this.processChildren(Bt,Tn);return null===ci?null:[new lr(W,ci)]}if(0===Bt.length&&0===Fr.length)return[new lr(W,[])];const Hn=L(w)===B,ui=this.processSegment(Bt,Tn,Fr,Hn?_t:B);return null===ui?null:[new lr(W,ui)]}}function Be(x){const w=x.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Ye(x){const w=[],b=new Set;for(const V of x){if(!Be(V)){w.push(V);continue}const B=w.find(W=>V.value.routeConfig===W.value.routeConfig);void 0!==B?(B.children.push(...V.children),b.add(B)):w.push(V)}for(const V of b){const B=Ye(V.children);w.push(new lr(V.value,B))}return w.filter(V=>!b.has(V))}function Vt(x){let w=x;for(;w._sourceSegment;)w=w._sourceSegment;return w}function _n(x){let w=x,b=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,b+=w._segmentIndexShift?w._segmentIndexShift:0;return b-1}function Pn(x){return x.data||{}}function Kn(x){return x.resolve||{}}function mi(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function ss(x){return(0,tt.w)(w=>{const b=x(w);return b?(0,v.D)(b).pipe((0,dt.U)(()=>w)):(0,Re.of)(w)})}class Qr extends class Ss{shouldDetach(w){return!1}store(w,b){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,b){return w.routeConfig===b.routeConfig}}{}const os=new p.OlP("ROUTES");class Ls{constructor(w,b,V,B){this.injector=w,this.compiler=b,this.onLoadStartListener=V,this.onLoadEndListener=B}load(w,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const B=this.loadModuleFactory(b.loadChildren).pipe((0,dt.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(b);const oe=W.create(w);return new ks(Qt(oe.injector.get(os,void 0,p.XFs.Self|p.XFs.Optional)).map(fr),oe)}),(0,Rt.K)(W=>{throw b._loader$=void 0,W}));return b._loader$=new mt(B,()=>new ot.x).pipe(De()),b._loader$}loadModuleFactory(w){return T(w()).pipe((0,Dt.z)(b=>b instanceof p.YKP?(0,Re.of)(b):(0,v.D)(this.compiler.compileModuleAsync(b))))}}class Do{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,b){return w}}function To(x){throw x}function Xo(x,w,b){return w.parse("/")}function Us(x,w){return(0,Re.of)(null)}const Ks={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dn=(()=>{class x{constructor(b,V,B,W,oe,je,Bt){this.rootComponentType=b,this.urlSerializer=V,this.rootContexts=B,this.location=W,this.config=Bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ot.x,this.errorHandler=To,this.malformedUriErrorHandler=Xo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Us,afterPreactivation:Us},this.urlHandlingStrategy=new Do,this.routeReuseStrategy=new Qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=oe.get(p.h0i),this.console=oe.get(p.c2e);const Hn=oe.get(p.R0b);this.isNgZoneEnabled=Hn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Bt),this.currentUrlTree=function H(){return new ne(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ls(oe,je,ui=>this.triggerEvent(new On(ui)),ui=>this.triggerEvent(new Mn(ui))),this.routerState=Oi(this.currentUrlTree,this.rootComponentType),this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(b){const V=this.events;return b.pipe((0,Me.h)(B=>0!==B.id),(0,dt.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,tt.w)(B=>{let W=!1,oe=!1;return(0,Re.of)(B).pipe((0,Lt.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.currentRawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tt.w)(je=>{const Bt=this.browserUrlTree.toString(),Tn=!this.navigated||je.extractedUrl.toString()!==Bt||Bt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Tn)&&this.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return Qn(je.source)&&(this.browserUrlTree=je.extractedUrl),(0,Re.of)(je).pipe((0,tt.w)(Hn=>{const ui=this.transitions.getValue();return V.next(new hr(Hn.id,this.serializeUrl(Hn.extractedUrl),Hn.source,Hn.restoredState)),ui!==this.transitions.getValue()?Ie.E:Promise.resolve(Hn)}),function K(x,w,b,V){return(0,tt.w)(B=>function le(x,w,b,V,B){return new Ft(x,w,b,V,B).apply()}(x,w,b,B.extractedUrl,V).pipe((0,dt.U)(W=>({...B,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Lt.b)(Hn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Hn.urlAfterRedirects}}),function Ar(x,w,b,V,B){return(0,Dt.z)(W=>function E(x,w,b,V,B="emptyOnly",W="legacy"){try{const oe=new k(x,w,b,V,B,W).recognize();return null===oe?y(new q):(0,Re.of)(oe)}catch(oe){return y(oe)}}(x,w,W.urlAfterRedirects,b(W.urlAfterRedirects),V,B).pipe((0,dt.U)(oe=>({...W,targetSnapshot:oe}))))}(this.rootComponentType,this.config,Hn=>this.serializeUrl(Hn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Lt.b)(Hn=>{if("eager"===this.urlUpdateStrategy){if(!Hn.extras.skipLocationChange){const ci=this.urlHandlingStrategy.merge(Hn.urlAfterRedirects,Hn.rawUrl);this.setBrowserUrl(ci,Hn)}this.browserUrlTree=Hn.urlAfterRedirects}const ui=new Gn(Hn.id,this.serializeUrl(Hn.extractedUrl),this.serializeUrl(Hn.urlAfterRedirects),Hn.targetSnapshot);V.next(ui)}));if(Tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ui,extractedUrl:ci,source:Eo,restoredState:Bs,extras:Ca}=je,da=new hr(ui,this.serializeUrl(ci),Eo,Bs);V.next(da);const Ys=Oi(ci,this.rootComponentType).snapshot;return(0,Re.of)({...je,targetSnapshot:Ys,urlAfterRedirects:ci,extras:{...Ca,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=je.rawUrl,je.resolve(null),Ie.E}),ss(je=>{const{targetSnapshot:Bt,id:Tn,extractedUrl:Fr,rawUrl:Hn,extras:{skipLocationChange:ui,replaceUrl:ci}}=je;return this.hooks.beforePreactivation(Bt,{navigationId:Tn,appliedUrlTree:Fr,rawUrlTree:Hn,skipLocationChange:!!ui,replaceUrl:!!ci})}),(0,Lt.b)(je=>{const Bt=new Dn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Bt)}),(0,dt.U)(je=>({...je,guards:ae(je.targetSnapshot,je.currentSnapshot,this.rootContexts)})),function gi(x,w){return(0,Dt.z)(b=>{const{targetSnapshot:V,currentSnapshot:B,guards:{canActivateChecks:W,canDeactivateChecks:oe}}=b;return 0===oe.length&&0===W.length?(0,Re.of)({...b,guardsResult:!0}):function pi(x,w,b,V){return(0,v.D)(x).pipe((0,Dt.z)(B=>function Ws(x,w,b,V,B){const W=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,Re.of)(!0);const oe=W.map(je=>{const Bt=Mt(je,w,B);let Tn;if(function zs(x){return x&&Ns(x.canDeactivate)}(Bt))Tn=T(Bt.canDeactivate(x,w,b,V));else{if(!Ns(Bt))throw new Error("Invalid CanDeactivate guard");Tn=T(Bt(x,w,b,V))}return Tn.pipe((0,Xe.P)())});return(0,Re.of)(oe).pipe(si())}(B.component,B.route,b,w,V)),(0,Xe.P)(B=>!0!==B,!0))}(oe,V,B,x).pipe((0,Dt.z)(je=>je&&function ko(x){return"boolean"==typeof x}(je)?function Ai(x,w,b,V){return(0,v.D)(w).pipe((0,zt.b)(B=>(0,ke.z)(function vi(x,w){return null!==x&&w&&w(new ar(x)),(0,Re.of)(!0)}(B.route.parent,V),function ti(x,w){return null!==x&&w&&w(new br(x)),(0,Re.of)(!0)}(B.route,V),function Si(x,w,b){const V=w[w.length-1],W=w.slice(0,w.length-1).reverse().map(oe=>function Qe(x){const w=x.routeConfig?x.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:x,guards:w}:null}(oe)).filter(oe=>null!==oe).map(oe=>Ze(()=>{const je=oe.guards.map(Bt=>{const Tn=Mt(Bt,oe.node,b);let Fr;if(function Bi(x){return x&&Ns(x.canActivateChild)}(Tn))Fr=T(Tn.canActivateChild(V,x));else{if(!Ns(Tn))throw new Error("Invalid CanActivateChild guard");Fr=T(Tn(V,x))}return Fr.pipe((0,Xe.P)())});return(0,Re.of)(je).pipe(si())}));return(0,Re.of)(W).pipe(si())}(x,B.path,b),function Cr(x,w,b){const V=w.routeConfig?w.routeConfig.canActivate:null;if(!V||0===V.length)return(0,Re.of)(!0);const B=V.map(W=>Ze(()=>{const oe=Mt(W,w,b);let je;if(function fs(x){return x&&Ns(x.canActivate)}(oe))je=T(oe.canActivate(w,x));else{if(!Ns(oe))throw new Error("Invalid CanActivate guard");je=T(oe(w,x))}return je.pipe((0,Xe.P)())}));return(0,Re.of)(B).pipe(si())}(x,B.route,b))),(0,Xe.P)(B=>!0!==B,!0))}(V,W,x,w):(0,Re.of)(je)),(0,dt.U)(je=>({...b,guardsResult:je})))})}(this.ngModule.injector,je=>this.triggerEvent(je)),(0,Lt.b)(je=>{if(Ni(je.guardsResult)){const Tn=cn(`Redirecting to "${this.serializeUrl(je.guardsResult)}"`);throw Tn.url=je.guardsResult,Tn}const Bt=new or(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.triggerEvent(Bt)}),(0,Me.h)(je=>!!je.guardsResult||(this.restoreHistory(je),this.cancelNavigationTransition(je,""),!1)),ss(je=>{if(je.guards.canActivateChecks.length)return(0,Re.of)(je).pipe((0,Lt.b)(Bt=>{const Tn=new nn(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(Tn)}),(0,tt.w)(Bt=>{let Tn=!1;return(0,Re.of)(Bt).pipe(function xn(x,w){return(0,Dt.z)(b=>{const{targetSnapshot:V,guards:{canActivateChecks:B}}=b;if(!B.length)return(0,Re.of)(b);let W=0;return(0,v.D)(B).pipe((0,zt.b)(oe=>function pr(x,w,b,V){return function ni(x,w,b,V){const B=mi(x);if(0===B.length)return(0,Re.of)({});const W={};return(0,v.D)(B).pipe((0,Dt.z)(oe=>function bi(x,w,b,V){const B=Mt(x,w,V);return T(B.resolve?B.resolve(w,b):B(w,b))}(x[oe],w,b,V).pipe((0,Lt.b)(je=>{W[oe]=je}))),Je(1),(0,Dt.z)(()=>mi(W).length===B.length?(0,Re.of)(W):Ie.E))}(x._resolve,x,w,V).pipe((0,dt.U)(W=>(x._resolvedData=W,x.data={...x.data,...Ki(x,b).resolve},null)))}(oe.route,V,x,w)),(0,Lt.b)(()=>W++),Je(1),(0,Dt.z)(oe=>W===B.length?(0,Re.of)(b):Ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Lt.b)({next:()=>Tn=!0,complete:()=>{Tn||(this.restoreHistory(Bt),this.cancelNavigationTransition(Bt,"At least one route resolver didn't emit any value."))}}))}),(0,Lt.b)(Bt=>{const Tn=new Bn(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(Tn)}))}),ss(je=>{const{targetSnapshot:Bt,id:Tn,extractedUrl:Fr,rawUrl:Hn,extras:{skipLocationChange:ui,replaceUrl:ci}}=je;return this.hooks.afterPreactivation(Bt,{navigationId:Tn,appliedUrlTree:Fr,rawUrlTree:Hn,skipLocationChange:!!ui,replaceUrl:!!ci})}),(0,dt.U)(je=>{const Bt=function Ds(x,w,b){const V=Ts(x,w._root,b?b._root:void 0);return new es(V,w)}(this.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return{...je,targetRouterState:Bt}}),(0,Lt.b)(je=>{this.currentUrlTree=je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),this.routerState=je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,je),this.browserUrlTree=je.urlAfterRedirects)}),((x,w,b)=>(0,dt.U)(V=>(new _s(w,V.targetRouterState,V.currentRouterState,b).activate(x),V)))(this.rootContexts,this.routeReuseStrategy,je=>this.triggerEvent(je)),(0,Lt.b)({next(){W=!0},complete(){W=!0}}),(0,rn.x)(()=>{W||oe||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),(0,Rt.K)(je=>{if(oe=!0,function bn(x){return x&&x[ht]}(je)){const Bt=Ni(je.url);Bt||(this.navigated=!0,this.restoreHistory(B,!0));const Tn=new Wn(B.id,this.serializeUrl(B.extractedUrl),je.message);V.next(Tn),Bt?setTimeout(()=>{const Fr=this.urlHandlingStrategy.merge(je.url,this.rawUrlTree),Hn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qn(B.source)};this.scheduleNavigation(Fr,"imperative",null,Hn,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const Bt=new kn(B.id,this.serializeUrl(B.extractedUrl),je);V.next(Bt);try{B.resolve(this.errorHandler(je))}catch(Tn){B.reject(Tn)}}return Ie.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next({...this.transitions.value,...b})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const V="popstate"===b.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{const B={replaceUrl:!0},W=b.state?.navigationId?b.state:null;if(W){const je={...W};delete je.navigationId,delete je.\u0275routerPageId,0!==Object.keys(je).length&&(B.state=je)}const oe=this.parseUrl(b.url);this.scheduleNavigation(oe,V,W,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){Zs(b),this.config=b.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,V={}){const{relativeTo:B,queryParams:W,fragment:oe,queryParamsHandling:je,preserveFragment:Bt}=V,Tn=B||this.routerState.root,Fr=Bt?this.currentUrlTree.fragment:oe;let Hn=null;switch(je){case"merge":Hn={...this.currentUrlTree.queryParams,...W};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=W||null}return null!==Hn&&(Hn=this.removeEmptyProps(Hn)),function ut(x,w,b,V,B){if(0===b.length)return Nt(w.root,w.root,w.root,V,B);const W=function ur(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new fn(!0,0,x);let w=0,b=!1;const V=x.reduce((B,W,oe)=>{if("object"==typeof W&&null!=W){if(W.outlets){const je={};return I(W.outlets,(Bt,Tn)=>{je[Tn]="string"==typeof Bt?Bt.split("/"):Bt}),[...B,{outlets:je}]}if(W.segmentPath)return[...B,W.segmentPath]}return"string"!=typeof W?[...B,W]:0===oe?(W.split("/").forEach((je,Bt)=>{0==Bt&&"."===je||(0==Bt&&""===je?b=!0:".."===je?w++:""!=je&&B.push(je))}),B):[...B,W]},[]);return new fn(b,w,V)}(b);if(W.toRoot())return Nt(w.root,w.root,new se([],{}),V,B);const oe=function kr(x,w,b){if(x.isAbsolute)return new Wr(w.root,!0,0);if(-1===b.snapshot._lastPathIndex){const W=b.snapshot._urlSegment;return new Wr(W,W===w.root,0)}const V=rt(x.commands[0])?0:1;return function Ri(x,w,b){let V=x,B=w,W=b;for(;W>B;){if(W-=B,V=V.parent,!V)throw new Error("Invalid number of '../'");B=V.segments.length}return new Wr(V,!1,B-W)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+V,x.numberOfDoubleDots)}(W,w,x),je=oe.processChildren?hs(oe.segmentGroup,oe.index,W.commands):qi(oe.segmentGroup,oe.index,W.commands);return Nt(w.root,oe.segmentGroup,je,V,B)}(Tn,this.currentUrlTree,b,Hn,Fr??null)}navigateByUrl(b,V={skipLocationChange:!1}){const B=Ni(b)?b:this.parseUrl(b),W=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,V)}navigate(b,V={skipLocationChange:!1}){return function vn(x){for(let w=0;w<x.length;w++){const b=x[w];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${w}`)}}(b),this.navigateByUrl(this.createUrlTree(b,V),V)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let V;try{V=this.urlSerializer.parse(b)}catch(B){V=this.malformedUriErrorHandler(B,this.urlSerializer,b)}return V}isActive(b,V){let B;if(B=!0===V?{...Ks}:!1===V?{...vo}:V,Ni(b))return Et(this.currentUrlTree,b,B);const W=this.parseUrl(b);return Et(this.currentUrlTree,W,B)}removeEmptyProps(b){return Object.keys(b).reduce((V,B)=>{const W=b[B];return null!=W&&(V[B]=W),V},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Vn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,V,B,W,oe){if(this.disposed)return Promise.resolve(!1);let je,Bt,Tn;oe?(je=oe.resolve,Bt=oe.reject,Tn=oe.promise):Tn=new Promise((ui,ci)=>{je=ui,Bt=ci});const Fr=++this.navigationId;let Hn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Hn=B&&B.\u0275routerPageId?B.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Hn=0,this.setTransition({id:Fr,targetPageId:Hn,source:V,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:W,resolve:je,reject:Bt,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(ui=>Promise.reject(ui))}setBrowserUrl(b,V){const B=this.urlSerializer.serialize(b),W={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.isCurrentPathEqualTo(B)||V.extras.replaceUrl?this.location.replaceState(B,"",W):this.location.go(B,"",W)}restoreHistory(b,V=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,V){const B=new Wn(b.id,this.serializeUrl(b.extractedUrl),V);this.triggerEvent(B),b.resolve(!1)}generateNgRouterState(b,V){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:V}:{navigationId:b}}}return x.\u0275fac=function(b){p.$Z()},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac}),x})();function Qn(x){return"imperative"!==x}let mr=(()=>{class x{constructor(b,V,B,W,oe){this.router=b,this.route=V,this.tabIndexAttribute=B,this.renderer=W,this.el=oe,this.commands=null,this.onChanges=new ot.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const V=this.renderer,B=this.el.nativeElement;null!==b?V.setAttribute(B,"tabindex",b):V.removeAttribute(B,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:as(this.skipLocationChange),replaceUrl:as(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:as(this.preserveFragment)})}}return x.\u0275fac=function(b){return new(b||x)(p.Y36(dn),p.Y36(Or),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},x.\u0275dir=p.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,V){1&b&&p.NdJ("click",function(){return V.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),x})(),Zr=(()=>{class x{constructor(b,V,B){this.router=b,this.route=V,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new ot.x,this.subscription=b.events.subscribe(W=>{W instanceof Vn&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,V,B,W,oe){if(0!==b||V||B||W||oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const je={skipLocationChange:as(this.skipLocationChange),replaceUrl:as(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,je),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:as(this.preserveFragment)})}}return x.\u0275fac=function(b){return new(b||x)(p.Y36(dn),p.Y36(Or),p.Y36(c.S$))},x.\u0275dir=p.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,V){1&b&&p.NdJ("click",function(W){return V.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&b&&p.uIk("target",V.target)("href",V.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),x})();function as(x){return""===x||!!x}let ps=(()=>{class x{constructor(b,V,B,W,oe,je){this.router=b,this.element=V,this.renderer=B,this.cdr=W,this.link=oe,this.linkWithHref=je,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=b.events.subscribe(Bt=>{Bt instanceof Vn&&this.update()})}ngAfterContentInit(){(0,Re.of)(this.links.changes,this.linksWithHrefs.changes,(0,Re.of)(null)).pipe((0,En.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const b=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,v.D)(b).pipe((0,En.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(b){const V=Array.isArray(b)?b:b.split(" ");this.classes=V.filter(B=>!!B)}ngOnChanges(b){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(V=>{b?this.renderer.addClass(this.element.nativeElement,V):this.renderer.removeClass(this.element.nativeElement,V)}),this.isActiveChange.emit(b))})}isLinkActive(b){const V=function bs(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&b.isActive(B.urlTree,V)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return x.\u0275fac=function(b){return new(b||x)(p.Y36(dn),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(mr,8),p.Y36(Zr,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(b,V,B){if(1&b&&(p.Suo(B,mr,5),p.Suo(B,Zr,5)),2&b){let W;p.iGM(W=p.CRH())&&(V.links=W),p.iGM(W=p.CRH())&&(V.linksWithHrefs=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[p.TTD]}),x})();class Jr{}class Vs{preload(w,b){return(0,Re.of)(null)}}let Es=(()=>{class x{constructor(b,V,B,W){this.router=b,this.injector=B,this.preloadingStrategy=W,this.loader=new Ls(B,V,Bt=>b.triggerEvent(new On(Bt)),Bt=>b.triggerEvent(new Mn(Bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.h)(b=>b instanceof Vn),(0,zt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(p.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,V){const B=[];for(const W of V)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const oe=W._loadedConfig;B.push(this.processRoutes(oe.module,oe.routes))}else W.loadChildren&&!W.canLoad?B.push(this.preloadConfig(b,W)):W.children&&B.push(this.processRoutes(b,W.children));return(0,v.D)(B).pipe((0,En.J)(),(0,dt.U)(W=>{}))}preloadConfig(b,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,Re.of)(V._loadedConfig):this.loader.load(b.injector,V)).pipe((0,Dt.z)(W=>(V._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return x.\u0275fac=function(b){return new(b||x)(p.LFG(dn),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Jr))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac}),x})(),Ao=(()=>{class x{constructor(b,V,B={}){this.router=b,this.viewportScroller=V,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Vn&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Dr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,V){this.router.triggerEvent(new Dr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(b){p.$Z()},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac}),x})();const qs=new p.OlP("ROUTER_CONFIGURATION"),So=new p.OlP("ROUTER_FORROOT_GUARD"),la=[c.Ye,{provide:Ce,useClass:ue},{provide:dn,useFactory:function ca(x,w,b,V,B,W,oe={},je,Bt){const Tn=new dn(null,x,w,b,V,B,Qt(W));return je&&(Tn.urlHandlingStrategy=je),Bt&&(Tn.routeReuseStrategy=Bt),function Qi(x,w){x.errorHandler&&(w.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(w.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(w.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(w.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(w.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(w.canceledNavigationResolution=x.canceledNavigationResolution)}(oe,Tn),oe.enableTracing&&Tn.events.subscribe(Fr=>{console.group?.(`Router Event: ${Fr.constructor.name}`),console.log(Fr.toString()),console.log(Fr),console.groupEnd?.()}),Tn},deps:[Ce,_i,c.Ye,p.zs3,p.Sil,os,qs,[class Io{},new p.FiY],[class Vr{},new p.FiY]]},_i,{provide:Or,useFactory:function na(x){return x.routerState.root},deps:[dn]},Es,Vs,class ea{preload(w,b){return b().pipe((0,Rt.K)(()=>(0,Re.of)(null)))}},{provide:qs,useValue:{enableTracing:!1}}];function el(){return new p.PXZ("Router",dn)}let ua=(()=>{class x{constructor(b,V){}static forRoot(b,V){return{ngModule:x,providers:[la,$o(b),{provide:So,useFactory:No,deps:[[dn,new p.FiY,new p.tp0]]},{provide:qs,useValue:V||{}},{provide:c.S$,useFactory:Yi,deps:[c.lw,[new p.tBr(c.mr),new p.FiY],qs]},{provide:Ao,useFactory:ta,deps:[dn,c.EM,qs]},{provide:Jr,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:Vs},{provide:p.PXZ,multi:!0,useFactory:el},[bo,{provide:p.ip1,multi:!0,useFactory:Va,deps:[bo]},{provide:Yt,useFactory:tl,deps:[bo]},{provide:p.tb,multi:!0,useExisting:Yt}]]}}static forChild(b){return{ngModule:x,providers:[$o(b)]}}}return x.\u0275fac=function(b){return new(b||x)(p.LFG(So,8),p.LFG(dn,8))},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})();function ta(x,w,b){return b.scrollOffset&&w.setOffset(b.scrollOffset),new Ao(x,w,b)}function Yi(x,w,b={}){return b.useHash?new c.Do(x,w):new c.b0(x,w)}function No(x){return"guarded"}function $o(x){return[{provide:p.deG,multi:!0,useValue:x},{provide:os,multi:!0,useValue:x}]}let bo=(()=>{class x{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ot.x}appInitializer(){return this.injector.get(c.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const B=new Promise(je=>V=je),W=this.injector.get(dn),oe=this.injector.get(qs);return"disabled"===oe.initialNavigation?(W.setUpLocationChangeListener(),V(!0)):"enabled"===oe.initialNavigation||"enabledBlocking"===oe.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,Re.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),W.initialNavigation()):V(!0),B})}bootstrapListener(b){const V=this.injector.get(qs),B=this.injector.get(Es),W=this.injector.get(Ao),oe=this.injector.get(dn),je=this.injector.get(p.z2F);b===je.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&oe.initialNavigation(),B.setUpPreloading(),W.init(),oe.resetRootComponentType(je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(b){return new(b||x)(p.LFG(p.zs3))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac}),x})();function Va(x){return x.appInitializer.bind(x)}function tl(x){return x.bootstrapListener.bind(x)}const Yt=new p.OlP("Router Initializer")},3942:(Wt,qe,D)=>{D.d(qe,{Z:()=>Te});var c=D(2090),p=D(4859),$=D(9681),pe=D(1877);class v{constructor(xe,nt){this._delegate=xe,this.firebase=nt,(0,$._addComponent)(xe,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(xe,nt=$._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(xe);return!mt.isInitialized()&&"EXPLICIT"===(null===(De=mt.getComponent())||void 0===De?void 0:De.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:nt})}_removeServiceInstance(xe,nt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(nt)}_addComponent(xe){(0,$._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,$._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Oe(){const Ze=function be(Ze){const xe={},nt={__esModule:!0,initializeApp:function Re(ke,Ie={}){const ot=$.initializeApp(ke,Ie);if((0,c.r3)(xe,ot.name))return xe[ot.name];const Me=new Ze(ot,nt);return xe[ot.name]=Me,Me},app:mt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function ge(ke){const Ie=ke.name,ot=Ie.replace("-compat","");if($._registerComponent(ke)&&"PUBLIC"===ke.type){const Me=(Je=mt())=>{if("function"!=typeof Je[ot])throw Ne.create("invalid-app-argument",{appName:Ie});return Je[ot]()};void 0!==ke.serviceProps&&(0,c.ZB)(Me,ke.serviceProps),nt[ot]=Me,Ze.prototype[ot]=function(...Je){return this._getService.bind(this,Ie).apply(this,ke.multipleInstances?Je:[])}}return"PUBLIC"===ke.type?nt[ot]:null},removeApp:function De(ke){delete xe[ke]},useAsService:function lt(ke,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:$}};function mt(ke){if(!(0,c.r3)(xe,ke=ke||$._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:ke});return xe[ke]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function ve(){return Object.keys(xe).map(ke=>xe[ke])}}),mt.App=Ze,nt}(v);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function xe(nt){(0,c.ZB)(Ze,nt)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ze}(),he=new pe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=fe;!function Ue(Ze){(0,$.registerVersion)("@firebase/app-compat","0.1.33",Ze)}()},9681:(Wt,qe,D)=>{D.r(qe),D.d(qe,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Xe,_addOrOverwriteComponent:()=>Dt,_apps:()=>Rt,_clearComponents:()=>rr,_components:()=>zt,_getProvider:()=>rn,_registerComponent:()=>Lt,_removeServiceInstance:()=>En,deleteApp:()=>nn,getApp:()=>Dn,getApps:()=>or,initializeApp:()=>Gn,onLog:()=>Mn,registerVersion:()=>On,setLogLevel:()=>ar});var c=D(5861),p=D(4859),$=D(1877),pe=D(2090),v=D(8766);class Ae{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Ne(T){const H=T.getComponent();return"VERSION"===(null==H?void 0:H.type)}(J)){const He=J.getImmediate();return`${He.library}/${He.version}`}return null}).filter(J=>J).join(" ")}}const be="@firebase/app",fe=new $.Yd("@firebase/app"),$t="[DEFAULT]",Tt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,zt=new Map;function Xe(T,H){try{T.container.addComponent(H)}catch(J){fe.debug(`Component ${H.name} failed to register with FirebaseApp ${T.name}`,J)}}function Dt(T,H){T.container.addOrOverwriteComponent(H)}function Lt(T){const H=T.name;if(zt.has(H))return fe.debug(`There were multiple attempts to register component ${H}.`),!1;zt.set(H,T);for(const J of Rt.values())Xe(J,T);return!0}function rn(T,H){const J=T.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),T.container.getProvider(H)}function En(T,H,J=$t){rn(T,H).clearInstance(J)}function rr(){zt.clear()}const Vn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(H,J,He){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const kn="9.9.4";function Gn(T,H={}){"object"!=typeof H&&(H={name:H});const J=Object.assign({name:$t,automaticDataCollectionEnabled:!1},H),He=J.name;if("string"!=typeof He||!He)throw Vn.create("bad-app-name",{appName:String(He)});const Et=Rt.get(He);if(Et){if((0,pe.vZ)(T,Et.options)&&(0,pe.vZ)(J,Et.config))return Et;throw Vn.create("duplicate-app",{appName:He})}const kt=new p.H0(He);for(const on of zt.values())kt.addComponent(on);const hn=new Wn(T,J,kt);return Rt.set(He,hn),hn}function Dn(T=$t){const H=Rt.get(T);if(!H)throw Vn.create("no-app",{appName:T});return H}function or(){return Array.from(Rt.values())}function nn(T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(T){const H=T.name;Rt.has(H)&&(Rt.delete(H),yield Promise.all(T.container.getProviders().map(J=>J.delete())),T.isDeleted=!0)})).apply(this,arguments)}function On(T,H,J){var He;let Et=null!==(He=Tt[T])&&void 0!==He?He:T;J&&(Et+=`-${J}`);const kt=Et.match(/\s|\//),hn=H.match(/\s|\//);if(kt||hn){const on=[`Unable to register library "${Et}" with version "${H}":`];return kt&&on.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),kt&&hn&&on.push("and"),hn&&on.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void fe.warn(on.join(" "))}Lt(new p.wA(`${Et}-version`,()=>({library:Et,version:H}),"VERSION"))}function Mn(T,H){if(null!==T&&"function"!=typeof T)throw Vn.create("invalid-log-argument");(0,$.Am)(T,H)}function ar(T){(0,$.Ub)(T)}const Er="firebase-heartbeat-store";let Dr=null;function _t(){return Dr||(Dr=(0,v.X3)("firebase-heartbeat-database",1,{upgrade:(T,H)=>{0===H&&T.createObjectStore(Er)}}).catch(T=>{throw Vn.create("idb-open",{originalErrorMessage:T.message})})),Dr}function We(){return(We=(0,c.Z)(function*(T){var H;try{return(yield _t()).transaction(Er).objectStore(Er).get(bn(T))}catch(J){if(J instanceof pe.ZR)fe.warn(J.message);else{const He=Vn.create("idb-get",{originalErrorMessage:null===(H=J)||void 0===H?void 0:H.message});fe.warn(He.message)}}})).apply(this,arguments)}function ht(T,H){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(T,H){var J;try{const Et=(yield _t()).transaction(Er,"readwrite");return yield Et.objectStore(Er).put(H,bn(T)),Et.done}catch(He){if(He instanceof pe.ZR)fe.warn(He.message);else{const Et=Vn.create("idb-set",{originalErrorMessage:null===(J=He)||void 0===J?void 0:J.message});fe.warn(Et.message)}}})).apply(this,arguments)}function bn(T){return`${T.name}!${T.options.appId}`}class Nn{constructor(H){this.container=H,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new Ot(J),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var H=this;return(0,c.Z)(function*(){const He=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Ln();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Et&&!H._heartbeatsCache.heartbeats.some(kt=>kt.date===Et))return H._heartbeatsCache.heartbeats.push({date:Et,agent:He}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(kt=>{const hn=new Date(kt.date).valueOf();return Date.now()-hn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,c.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const J=Ln(),{heartbeatsToSend:He,unsentEntries:Et}=function Qt(T,H=1024){const J=[];let He=T.slice();for(const Et of T){const kt=J.find(hn=>hn.agent===Et.agent);if(kt){if(kt.dates.push(Et.date),O(J)>H){kt.dates.pop();break}}else if(J.push({agent:Et.agent,dates:[Et.date]}),O(J)>H){J.pop();break}He=He.slice(1)}return{heartbeatsToSend:J,unsentEntries:He}}(H._heartbeatsCache.heartbeats),kt=(0,pe.L)(JSON.stringify({version:2,heartbeats:He}));return H._heartbeatsCache.lastSentHeartbeatDate=J,Et.length>0?(H._heartbeatsCache.heartbeats=Et,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),kt})()}}function Ln(){return(new Date).toISOString().substring(0,10)}class Ot{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,c.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function en(T){return We.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var J=this;return(0,c.Z)(function*(){var He;if(yield J._canUseIndexedDBPromise){const kt=yield J.read();return ht(J.app,{lastSentHeartbeatDate:null!==(He=H.lastSentHeartbeatDate)&&void 0!==He?He:kt.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var J=this;return(0,c.Z)(function*(){var He;if(yield J._canUseIndexedDBPromise){const kt=yield J.read();return ht(J.app,{lastSentHeartbeatDate:null!==(He=H.lastSentHeartbeatDate)&&void 0!==He?He:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...H.heartbeats]})}})()}}function O(T){return(0,pe.L)(JSON.stringify({version:2,heartbeats:T})).length}!function I(T){Lt(new p.wA("platform-logger",H=>new Ae(H),"PRIVATE")),Lt(new p.wA("heartbeat",H=>new Nn(H),"PRIVATE")),On(be,"0.7.32",T),On(be,"0.7.32","esm2017"),On("fire-js","")}("")},4859:(Wt,qe,D)=>{D.d(qe,{H0:()=>be,wA:()=>$});var c=D(5861),p=D(2090);class ${constructor(fe,he,Se){this.name=fe,this.instanceFactory=he,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const pe="[DEFAULT]";class v{constructor(fe,he){this.name=fe,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const he=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(he)){const Se=new p.BH;if(this.instancesDeferred.set(he,Se),this.isInitialized(he)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:he});ft&&Se.resolve(ft)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(fe){var he;const Se=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),ft=null!==(he=null==fe?void 0:fe.optional)&&void 0!==he&&he;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Ue){if(ft)return null;throw Ue}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Ne(Oe){return"EAGER"===Oe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[he,Se]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(he);try{const Ue=this.getOrInitializeService({instanceIdentifier:ft});Se.resolve(Ue)}catch{}}}}clearInstance(fe=pe){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,c.Z)(function*(){const he=Array.from(fe.instances.values());yield Promise.all([...he.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...he.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=pe){return this.instances.has(fe)}getOptions(fe=pe){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:he={}}=fe,Se=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Se,options:he});for(const[Ue,Te]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Ue)&&Te.resolve(ft);return ft}onInit(fe,he){var Se;const ft=this.normalizeInstanceIdentifier(he),Ue=null!==(Se=this.onInitCallbacks.get(ft))&&void 0!==Se?Se:new Set;Ue.add(fe),this.onInitCallbacks.set(ft,Ue);const Te=this.instances.get(ft);return Te&&fe(Te,ft),()=>{Ue.delete(fe)}}invokeOnInitCallbacks(fe,he){const Se=this.onInitCallbacks.get(he);if(Se)for(const ft of Se)try{ft(fe,he)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:he={}}){let Se=this.instances.get(fe);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=fe,Oe===pe?void 0:Oe),options:he}),this.instances.set(fe,Se),this.instancesOptions.set(fe,he),this.invokeOnInitCallbacks(Se,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Se)}catch{}var Oe;return Se||null}normalizeInstanceIdentifier(fe=pe){return this.component?this.component.multipleInstances?fe:pe:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const he=this.getProvider(fe.name);if(he.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);he.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const he=new v(fe,this);return this.providers.set(fe,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Wt,qe,D)=>{D.d(qe,{Am:()=>Oe,Ub:()=>be,Yd:()=>Ne,in:()=>p});const c=[];var p=(()=>{return(fe=p||(p={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",p;var fe})();const $={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},pe=p.INFO,v={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},Ae=(fe,he,...Se)=>{if(he<fe.logLevel)return;const ft=(new Date).toISOString(),Ue=v[he];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ue](`[${ft}]  ${fe.name}:`,...Se)};class Ne{constructor(he){this.name=he,this._logLevel=pe,this._logHandler=Ae,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in p))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?$[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...he),this._logHandler(this,p.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...he),this._logHandler(this,p.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,p.INFO,...he),this._logHandler(this,p.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,p.WARN,...he),this._logHandler(this,p.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...he),this._logHandler(this,p.ERROR,...he)}}function be(fe){c.forEach(he=>{he.setLogLevel(fe)})}function Oe(fe,he){for(const Se of c){let ft=null;he&&he.level&&(ft=$[he.level]),Se.userLogHandler=null===fe?null:(Ue,Te,...Ze)=>{const xe=Ze.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Te>=(ft??Ue.logLevel)&&fe({level:p[Te].toLowerCase(),message:xe,args:Ze,type:Ue.name})}}}},8766:(Wt,qe,D)=>{D.d(qe,{Lj:()=>Re,X3:()=>mt});var c=D(5861);let $,pe;const Ne=new WeakMap,be=new WeakMap,Oe=new WeakMap,fe=new WeakMap,he=new WeakMap;let Ue={get(Ie,ot,Me){if(Ie instanceof IDBTransaction){if("done"===ot)return be.get(Ie);if("objectStoreNames"===ot)return Ie.objectStoreNames||Oe.get(Ie);if("store"===ot)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return nt(Ie[ot])},set:(Ie,ot,Me)=>(Ie[ot]=Me,!0),has:(Ie,ot)=>Ie instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in Ie};function xe(Ie){return"function"==typeof Ie?function Ze(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...ot){return Ie.apply(De(this),ot),nt(Ne.get(this))}:function(...ot){return nt(Ie.apply(De(this),ot))}:function(ot,...Me){const Je=Ie.call(De(this),ot,...Me);return Oe.set(Je,ot.sort?ot.sort():[ot]),nt(Je)}}(Ie):(Ie instanceof IDBTransaction&&function ft(Ie){if(be.has(Ie))return;const ot=new Promise((Me,Je)=>{const ct=()=>{Ie.removeEventListener("complete",$e),Ie.removeEventListener("error",Le),Ie.removeEventListener("abort",Le)},$e=()=>{Me(),ct()},Le=()=>{Je(Ie.error||new DOMException("AbortError","AbortError")),ct()};Ie.addEventListener("complete",$e),Ie.addEventListener("error",Le),Ie.addEventListener("abort",Le)});be.set(Ie,ot)}(Ie),((Ie,ot)=>ot.some(Me=>Ie instanceof Me))(Ie,function v(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,Ue):Ie)}function nt(Ie){if(Ie instanceof IDBRequest)return function Se(Ie){const ot=new Promise((Me,Je)=>{const ct=()=>{Ie.removeEventListener("success",$e),Ie.removeEventListener("error",Le)},$e=()=>{Me(nt(Ie.result)),ct()},Le=()=>{Je(Ie.error),ct()};Ie.addEventListener("success",$e),Ie.addEventListener("error",Le)});return ot.then(Me=>{Me instanceof IDBCursor&&Ne.set(Me,Ie)}).catch(()=>{}),he.set(ot,Ie),ot}(Ie);if(fe.has(Ie))return fe.get(Ie);const ot=xe(Ie);return ot!==Ie&&(fe.set(Ie,ot),he.set(ot,Ie)),ot}const De=Ie=>he.get(Ie);function mt(Ie,ot,{blocked:Me,upgrade:Je,blocking:ct,terminated:$e}={}){const Le=indexedDB.open(Ie,ot),dt=nt(Le);return Je&&Le.addEventListener("upgradeneeded",tt=>{Je(nt(Le.result),tt.oldVersion,tt.newVersion,nt(Le.transaction))}),Me&&Le.addEventListener("blocked",()=>Me()),dt.then(tt=>{$e&&tt.addEventListener("close",()=>$e()),ct&&tt.addEventListener("versionchange",()=>ct())}).catch(()=>{}),dt}function Re(Ie,{blocked:ot}={}){const Me=indexedDB.deleteDatabase(Ie);return ot&&Me.addEventListener("blocked",()=>ot()),nt(Me).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],lt=new Map;function ke(Ie,ot){if(!(Ie instanceof IDBDatabase)||ot in Ie||"string"!=typeof ot)return;if(lt.get(ot))return lt.get(ot);const Me=ot.replace(/FromIndex$/,""),Je=ot!==Me,ct=ge.includes(Me);if(!(Me in(Je?IDBIndex:IDBObjectStore).prototype)||!ct&&!ve.includes(Me))return;const $e=function(){var Le=(0,c.Z)(function*(dt,...tt){const Ct=this.transaction(dt,ct?"readwrite":"readonly");let $t=Ct.store;return Je&&($t=$t.index(tt.shift())),(yield Promise.all([$t[Me](...tt),ct&&Ct.done]))[0]});return function(tt){return Le.apply(this,arguments)}}();return lt.set(ot,$e),$e}!function Te(Ie){Ue=Ie(Ue)}(Ie=>({...Ie,get:(ot,Me,Je)=>ke(ot,Me)||Ie.get(ot,Me,Je),has:(ot,Me)=>!!ke(ot,Me)||Ie.has(ot,Me)}))},5861:(Wt,qe,D)=>{function c($,pe,v,Ae,Ne,be,Oe){try{var fe=$[be](Oe),he=fe.value}catch(Se){return void v(Se)}fe.done?pe(he):Promise.resolve(he).then(Ae,Ne)}function p($){return function(){var pe=this,v=arguments;return new Promise(function(Ae,Ne){var be=$.apply(pe,v);function Oe(he){c(be,Ae,Ne,Oe,fe,"next",he)}function fe(he){c(be,Ae,Ne,Oe,fe,"throw",he)}Oe(void 0)})}}D.d(qe,{Z:()=>p})}},Wt=>{Wt(Wt.s=3518)}]);